/*! For license information please see main.8d7ddab4.js.LICENSE.txt */
(()=>{var e={622:(e,t)=>{"use strict";var n="google",r=[],i="f1a0",o="M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z";t.DF={prefix:"fab",iconName:n,icon:[488,512,r,i,o]},t.xY=t.DF},694:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},888:(e,t,n)=>{"use strict";var r=n(47);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},7:(e,t,n)=>{e.exports=n(888)()},47:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:(e,t,n)=>{"use strict";var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),I=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var F=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var P,L=Object.assign;function M(e){if(void 0===P)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function B(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case C:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Se=null;function Ce(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=ki(t),xe(e.stateNode,e.type,t))}}function _e(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Ie(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Se)&&(Ne(),Ie())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Fe=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){Fe=!1}function Oe(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Pe=!1,Le=null,Me=!1,Ue=null,ze={onError:function(e){Pe=!0,Le=e}};function Be(e,t,n,r,i,o,a,s,l){Pe=!1,Le=null,Oe.apply(ze,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,xt,Et,St,Ct,_t=!1,It=[],Tt=null,Nt=null,At=null,Dt=new Map,jt=new Map,Ft=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function Pt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Mt(e)&&n.delete(t)}function zt(){_t=!1,null!==Tt&&Mt(Tt)&&(Tt=null),null!==Nt&&Mt(Nt)&&(Nt=null),null!==At&&Mt(At)&&(At=null),Dt.forEach(Ut),jt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Vt(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Dt.forEach(t),jt.forEach(t),n=0;n<Ft.length;n++)(r=Ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ft.length&&null===(n=Ft[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ft.shift()}var Ht=w.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function Gt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function Kt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Pt(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=Pt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Pt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dt.set(o,Pt(Dt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,jt.set(o,Pt(jt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&kt(o),null===(o=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=ke(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),hn=on(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),mn=on(fn),pn=on(L({},fn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),vn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(L({},cn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Cn(){return Sn}var _n=L({},dn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(_n),Tn=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),An=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=on(Dn),Fn=[9,13,27,32],Rn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Pn=u&&"TextEvent"in window&&!On,Ln=u&&(!Rn||On&&8<On&&11>=On),Mn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){_e(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Mr(e,0)}function Yn(e){if(K(wi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];qn(t,Kn,e,ke(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function or(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Er={},Sr={};function Cr(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var _r=Cr("animationend"),Ir=Cr("animationiteration"),Tr=Cr("animationstart"),Nr=Cr("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Ar.set(e,t),l(t,[e])}for(var Fr=0;Fr<Dr.length;Fr++){var Rr=Dr[Fr];jr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}jr(_r,"onAnimationEnd"),jr(Ir,"onAnimationIteration"),jr(Tr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Be.apply(this,arguments),Pe){if(!Pe)throw Error(o(198));var u=Le;Pe=!1,Le=null,Me||(Me=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}}}if(Me)throw e=Ue,Me=!1,Ue=null,e}function Ur(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Pr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch($t(t)){case 1:var i=qt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}De((function(){var r=o,i=ke(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case _r:case Ir:case Tr:l=vn;break;case Nr:l=An;break;case"scroll":l=hn;break;case"wheel":l=jn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,m=r;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=je(m,h))&&u.push(qr(m,p,f)))),d)break;m=m.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[mi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,p="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?s:wi(l),f=null==c?s:wi(c),(s=new u(p,m+"leave",l,n,i)).target=d,s.relatedTarget=f,p=null,yi(i)===r&&((u=new u(h,m+"enter",c,n,i)).target=f,u.relatedTarget=d,p=u),d=p,l&&c)e:{for(h=c,m=0,f=u=l;f;f=Kr(f))m++;for(f=0,p=h;p;p=Kr(p))f++;for(;0<m-f;)u=Kr(u),m--;for(;0<f-m;)h=Kr(h),f--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Qr(a,s,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=$n;else if(Wn(s))if(Xn)g=ar;else{g=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?qn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Vn=!0)),0<(v=Gr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Pn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Mn);case"textInput":return(e=t.data)===Mn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Rn&&zn(e,t)?(e=en(),Zt=Jt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Mr(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=je(e,n))&&r.unshift(qr(e,o,i)),null!=(o=je(e,t))&&r.push(qr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=je(n,o))&&a.unshift(qr(n,l,s)):i||null!=(l=je(n,o))&&a.push(qr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,mi="__reactContainer$"+di,pi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ki(e){return e[fi]||null}var xi=[],Ei=-1;function Si(e){return{current:e}}function Ci(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function _i(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ii={},Ti=Si(Ii),Ni=Si(!1),Ai=Ii;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ji(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Fi(){Ci(Ni),Ci(Ti)}function Ri(e,t,n){if(Ti.current!==Ii)throw Error(o(168));_i(Ti,t),_i(Ni,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return L({},n,r)}function Pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ai=Ti.current,_i(Ti,e),_i(Ni,Ni.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Oi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ni),Ci(Ti),_i(Ti,e)):Ci(Ni),_i(Ni,n)}var Mi=null,Ui=!1,zi=!1;function Bi(e){null===Mi?Mi=[e]:Mi.push(e)}function Vi(){if(!zi&&null!==Mi){zi=!0;var e=0,t=bt;try{var n=Mi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Ui=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ke(Ze,Vi),i}finally{bt=t,zi=!1}}return null}var Hi=[],Wi=0,qi=null,Gi=0,Ki=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){Hi[Wi++]=Gi,Hi[Wi++]=qi,qi=e,Gi=t}function Zi(e,t,n){Ki[Qi++]=$i,Ki[Qi++]=Xi,Ki[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$i=1<<32-at(t)+i|n<<i|r,Xi=o+e}else $i=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===qi;)qi=Hi[--Wi],Hi[Wi]=null,Gi=Hi[--Wi],Hi[Wi]=null;for(;e===Yi;)Yi=Ki[--Qi],Ki[Qi]=null,Xi=Ki[--Qi],Ki[Qi]=null,$i=Ki[--Qi],Ki[Qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=jc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=jc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function mo(){ro=no=null,io=!1}function po(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Si(null),bo=null,wo=null,ko=null;function xo(){ko=wo=bo=null}function Eo(e){var t=yo.current;Ci(yo),e._currentValue=t}function So(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){bo=e,ko=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function _o(e){var t=e._currentValue;if(ko!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Io=null;function To(e){null===Io?Io=[e]:Io.push(e)}function No(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,To(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Do=!1;function jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ro(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ao(e,n)}return null===(i=r.interleaved)?(t.next=t,To(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ao(e,n)}function Po(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Lo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mo(e,t,n,r){var i=e.updateQueue;Do=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,p=s;switch(h=t,f=n,p.tag){case 1:if("function"===typeof(m=p.payload)){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=p.payload)?m.call(f,d,h):m)||void 0===h)break e;d=L({},d,h);break e;case 2:Do=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=d}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var zo=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Ro(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Oo(e,o,i))&&(rc(t,e,i,r),Po(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Ro(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Oo(e,o,i))&&(rc(t,e,i,r),Po(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ro(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oo(e,i,r))&&(rc(t,e,r,n),Po(t,e,r))}};function Ho(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Wo(e,t,n){var r=!1,i=Ii,o=t.contextType;return"object"===typeof o&&null!==o?o=_o(o):(i=ji(t)?Ai:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ii),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function qo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function Go(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=zo,jo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=_o(o):(o=ji(t)?Ai:Ti.current,i.context=Di(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vo.enqueueReplaceState(i,i.state,null),Mo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===zo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function $o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===j&&Yo(o)===t.type)?((r=i(t,n.props)).ref=Ko(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Ko(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Pc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Ko(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case j:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Pc(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case j:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:d(e,t,n,r,null);Qo(e,n)}return null}function m(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return m(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);Qo(t,r)}return null}function p(i,o,s,l){for(var c=null,u=null,d=o,p=o=0,g=null;null!==d&&p<s.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var v=f(i,d,s[p],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,p),null===u?c=v:u.sibling=v,u=v,d=g}if(p===s.length)return n(i,d),io&&Ji(i,p),c;if(null===d){for(;p<s.length;p++)null!==(d=h(i,s[p],l))&&(o=a(d,o,p),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,p),c}for(d=r(i,d);p<s.length;p++)null!==(g=m(d,i,p,s[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),o=a(g,o,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,p),c}function g(i,s,l,c){var u=O(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,p=s,g=s=0,v=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(v=p,p=null):v=p.sibling;var b=f(i,p,y.value,c);if(null===b){null===p&&(p=v);break}e&&p&&null===b.alternate&&t(i,p),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,p=v}if(y.done)return n(i,p),io&&Ji(i,g),u;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return io&&Ji(i,g),u}for(p=r(i,p);!y.done;g++,y=l.next())null!==(y=m(p,i,g,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&p.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case k:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===j&&Yo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=Ko(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((o=Pc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Oc(a.type,a.key,a.props,null,r.mode,l)).ref=Ko(r,o,a),l.return=r,r=l)}return s(r);case x:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uc(a,r.mode,l)).return=r,r=o}return s(r);case j:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return p(r,o,a,l);if(O(a))return g(r,o,a,l);Qo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Mc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Xo=$o(!0),Jo=$o(!1),Zo={},ea=Si(Zo),ta=Si(Zo),na=Si(Zo);function ra(e){if(e===Zo)throw Error(o(174));return e}function ia(e,t){switch(_i(na,t),_i(ta,e),_i(ea,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(ea),_i(ea,t)}function oa(){Ci(ea),Ci(ta),Ci(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(_i(ta,e),_i(ea,n))}function sa(e){ta.current===e&&(Ci(ea),Ci(ta))}var la=Si(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function da(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var ha=w.ReactCurrentDispatcher,fa=w.ReactCurrentBatchConfig,ma=0,pa=null,ga=null,va=null,ya=!1,ba=!1,wa=0,ka=0;function xa(){throw Error(o(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Sa(e,t,n,r,i,a){if(ma=a,pa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(o(301));a+=1,va=ga=null,t.updateQueue=null,ha.current=cs,e=n(r,i)}while(ba)}if(ha.current=as,t=null!==ga&&null!==ga.next,ma=0,va=ga=pa=null,ya=!1,t)throw Error(o(300));return e}function Ca(){var e=0!==wa;return wa=0,e}function _a(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?pa.memoizedState=va=e:va=va.next=e,va}function Ia(){if(null===ga){var e=pa.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===va?pa.memoizedState:va.next;if(null!==t)va=t,ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===va?pa.memoizedState=va=e:va=va.next=e}return va}function Ta(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((ma&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,pa.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,pa.lanes|=a,Ll|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Da(){}function ja(e,t){var n=pa,r=Ia(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ws=!0),r=r.queue,Wa(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,Ua(9,Ra.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(o(349));0!==(30&ma)||Fa(n,t,i)}return i}function Fa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ra(e,t,n,r){t.value=n,t.getSnapshot=r,Pa(t)&&La(e)}function Oa(e,t,n){return n((function(){Pa(t)&&La(e)}))}function Pa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function La(e){var t=Ao(e,1);null!==t&&rc(t,e,1,-1)}function Ma(e){var t=_a();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,pa,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function za(){return Ia().memoizedState}function Ba(e,t,n,r){var i=_a();pa.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function Va(e,t,n,r){var i=Ia();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Ua(t,n,o,r))}pa.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function Ha(e,t){return Ba(8390656,8,e,t)}function Wa(e,t){return Va(2048,8,e,t)}function qa(e,t){return Va(4,2,e,t)}function Ga(e,t){return Va(4,4,e,t)}function Ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,4,Ka.bind(null,t,e),n)}function Ya(){}function $a(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&ma)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=pt(),pa.lanes|=n,Ll|=n,e.baseState=!0),t)}function Za(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fa.transition;fa.transition={};try{e(!1),t()}finally{bt=n,fa.transition=r}}function es(){return Ia().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=No(e,t,n,r))){rc(n,e,r,tc()),os(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,To(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=No(e,t,i,r))&&(rc(n,e,r,i=tc()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===pa||null!==t&&t===pa}function is(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:_o,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ss={readContext:_o,useCallback:function(e,t){return _a().memoizedState=[e,void 0===t?null:t],e},useContext:_o,useEffect:Ha,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,Ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=_a();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_a();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,pa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_a().memoizedState=e},useState:Ma,useDebugValue:Ya,useDeferredValue:function(e){return _a().memoizedState=e},useTransition:function(){var e=Ma(!1),t=e[0];return e=Za.bind(null,e[1]),_a().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pa,i=_a();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Al)throw Error(o(349));0!==(30&ma)||Fa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ha(Oa.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Ra.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=_a(),t=Al.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-at($i)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ka++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:_o,useCallback:$a,useContext:_o,useEffect:Wa,useImperativeHandle:Qa,useInsertionEffect:qa,useLayoutEffect:Ga,useMemo:Xa,useReducer:Na,useRef:za,useState:function(){return Na(Ta)},useDebugValue:Ya,useDeferredValue:function(e){return Ja(Ia(),ga.memoizedState,e)},useTransition:function(){return[Na(Ta)[0],Ia().memoizedState]},useMutableSource:Da,useSyncExternalStore:ja,useId:es,unstable_isNewReconciler:!1},cs={readContext:_o,useCallback:$a,useContext:_o,useEffect:Wa,useImperativeHandle:Qa,useInsertionEffect:qa,useLayoutEffect:Ga,useMemo:Xa,useReducer:Aa,useRef:za,useState:function(){return Aa(Ta)},useDebugValue:Ya,useDeferredValue:function(e){var t=Ia();return null===ga?t.memoizedState=e:Ja(t,ga.memoizedState,e)},useTransition:function(){return[Aa(Ta)[0],Ia().memoizedState]},useMutableSource:Da,useSyncExternalStore:ja,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ms(e,t,n){(n=Ro(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Gl=r),hs(0,t)},n}function ps(e,t,n){(n=Ro(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ro(-1,1)).tag=2,Oo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function ks(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Xo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return Co(t,i),r=Sa(e,t,n,r,o,i),n=Ca(),null===e||ws?(io&&n&&eo(t),t.flags|=1,ks(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Es(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Fc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Rc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Is(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Rl,Fl),Fl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Rl,Fl),Fl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,_i(Rl,Fl),Fl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,_i(Rl,Fl),Fl|=r;return ks(e,t,i,n),t.child}function _s(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var o=ji(n)?Ai:Ti.current;return o=Di(t,o),Co(t,i),n=Sa(e,t,n,r,o,i),r=Ca(),null===e||ws?(io&&r&&eo(t),t.flags|=1,ks(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Ts(e,t,n,r,i){if(ji(n)){var o=!0;Pi(t)}else o=!1;if(Co(t,i),null===t.stateNode)Ws(e,t),Wo(t,n,r),Go(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=_o(c):c=Di(t,c=ji(n)?Ai:Ti.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&qo(t,a,r,c),Do=!1;var h=t.memoizedState;a.state=h,Mo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ni.current||Do?("function"===typeof u&&(Bo(t,n,u,r),l=t.memoizedState),(s=Do||Ho(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:vo(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=_o(l):l=Di(t,l=ji(n)?Ai:Ti.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&qo(t,a,r,l),Do=!1,h=t.memoizedState,a.state=h,Mo(t,r,a,i);var m=t.memoizedState;s!==d||h!==m||Ni.current||Do?("function"===typeof f&&(Bo(t,n,f,r),m=t.memoizedState),(c=Do||Ho(t,n,c,r,h,m,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,m,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,o,i)}function Ns(e,t,n,r,i,o){_s(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),qs(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,s,o)):ks(e,t,s,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ia(e,t.containerInfo)}function Ds(e,t,n,r,i){return mo(),po(i),t.flags|=256,ks(e,t,n,r),t.child}var js,Fs,Rs,Os,Ps={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ms(e,t,n){var r,i=t.pendingProps,a=la.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),_i(la,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lc(l,i,0,null),e=Pc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ps,e):Us(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(a=Pc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ps,a);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zs(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),ws||l){if(null!==(r=Al)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ao(e,i),rc(r,e,i,-1))}return gc(),zs(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Qi++]=$i,Ki[Qi++]=Xi,Ki[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Rc(r,s):(s=Pc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ps,i}return e=(s=e.child).sibling,i=Rc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&po(r),Xo(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),So(e.return,t,n)}function Vs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ks(e,t,r.children,n),0!==(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(la,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return ji(t.type)&&Fi(),Ks(t),null;case 3:return r=t.stateNode,oa(),Ci(Ni),Ci(Ti),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Fs(e,t),Ks(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ks(t),null}if(e=ra(ea.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,js(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ci(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),mo(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else mo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===Ol&&(Ol=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return oa(),Fs(e,t),null===e&&Vr(t.stateNode.containerInfo),Ks(t),null;case 10:return Eo(t.type._context),Ks(t),null;case 19:if(Ci(la),null===(a=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Gs(a,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ca(e))){for(t.flags|=128,Gs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Hl&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Ks(t),null}else 2*Xe()-a.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=la.current,_i(la,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Fl)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(to(t),t.tag){case 1:return ji(t.type)&&Fi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ci(Ni),Ci(Ti),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ci(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));mo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(la),null;case 4:return oa(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}js=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Fs=function(){},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[pi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xs&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cc(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,fl(e,t,n),Xs=r):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));ml(a,s,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Cc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Cc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Cc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Cc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;null!=m?ne(i,!!a.multiple,m,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Cc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Cc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){Cc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Xe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(u=Xs)||d,gl(t,e),Xs=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zs=e,d=e.child;null!==d;){for(h=Zs=d;null!==Zs;){switch(m=(f=Zs).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Cc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==m?(m.return=f,Zs=m):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",s))}catch(g){Cc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Cc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(o(161))}}catch(s){Cc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Zs=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||$s;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=$s;var c=Xs;if($s=a,(Xs=l)&&!c)for(Zs=i;null!==Zs;)l=(a=Zs).child,22===a.tag&&null!==a.memoizedState?El(i):null!==l?(l.return=a,Zs=l):El(i);for(;null!==o;)Zs=o,wl(o,t,n),o=o.sibling;Zs=i,$s=s,Xs=c}kl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Zs=o):kl(e)}}function kl(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Uo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&ol(t)}catch(f){Cc(t,t.return,f)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function xl(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function El(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Cc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Cc(t,i,l)}}var o=t.return;try{ol(t)}catch(l){Cc(t,o,l)}break;case 5:var a=t.return;try{ol(t)}catch(l){Cc(t,a,l)}}}catch(l){Cc(t,t.return,l)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Sl,Cl=Math.ceil,_l=w.ReactCurrentDispatcher,Il=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Nl=0,Al=null,Dl=null,jl=0,Fl=0,Rl=Si(0),Ol=0,Pl=null,Ll=0,Ml=0,Ul=0,zl=null,Bl=null,Vl=0,Hl=1/0,Wl=null,ql=!1,Gl=null,Kl=null,Ql=!1,Yl=null,$l=0,Xl=0,Jl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Nl)?Xe():-1!==Zl?Zl:Zl=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==jl?jl&-jl:null!==go.transition?(0===ec&&(ec=pt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(o(185));vt(e,n,r),0!==(2&Nl)&&e===Al||(e===Al&&(0===(2&Nl)&&(Ml|=n),4===Ol&&lc(e,jl)),ic(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(Hl=Xe()+500,Ui&&Vi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Al?jl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),ai((function(){0===(6&Nl)&&Vi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zl=-1,ec=0,0!==(6&Nl))throw Error(o(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Al?jl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Nl;Nl|=2;var a=pc();for(Al===e&&jl===t||(Wl=null,Hl=Xe()+500,fc(e,t));;)try{bc();break}catch(l){mc(e,l)}xo(),_l.current=a,Nl=i,null!==Dl?t=0:(Al=null,jl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=mt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Pl,fc(e,0),lc(e,r),ic(e,Xe()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=mt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Pl,fc(e,0),lc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Bl,Wl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Vl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Bl,Wl),t);break}xc(e,Bl,Wl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Bl,Wl),r);break}xc(e,Bl,Wl);break;default:throw Error(o(329))}}}return ic(e,Xe()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Bl,Bl=n,null!==t&&sc(t)),e}function sc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lc(e,t){for(t&=~Ul,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nl))throw Error(o(327));Ec();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Pl,fc(e,0),lc(e,t),ic(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bl,Wl),ic(e,Xe()),null}function uc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Hl=Xe()+500,Ui&&Vi())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Nl)&&Ec();var t=Nl;Nl|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Nl=t))&&Vi()}}function hc(){Fl=Rl.current,Ci(Rl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Dl)for(n=Dl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Fi();break;case 3:oa(),Ci(Ni),Ci(Ti),da();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ci(la);break;case 10:Eo(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Al=e,Dl=e=Rc(e.current,null),jl=Fl=t,Ol=0,Pl=null,Ul=Ml=Ll=0,Bl=zl=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(r=(n=Io[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Io=null}return e}function mc(e,t){for(;;){var n=Dl;try{if(xo(),ha.current=as,ya){for(var r=pa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(ma=0,va=ga=pa=null,ba=!1,wa=0,Il.current=null,null===n||null===n.return){Ol=1,Pl=t,Dl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=jl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=vs(s);if(null!==m){m.flags&=-257,ys(m,s,l,0,t),1&m.mode&&gs(a,u,t),c=u;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){gs(a,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,t),po(us(c,l));break e}}a=c=us(c,l),4!==Ol&&(Ol=2),null===zl?zl=[a]:zl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Lo(a,ms(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Lo(a,ps(a,l,t));break e}}a=a.return}while(null!==a)}kc(n)}catch(w){t=w,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function pc(){var e=_l.current;return _l.current=as,null===e?as:e}function gc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Al||0===(268435455&Ll)&&0===(268435455&Ml)||lc(Al,jl)}function vc(e,t){var n=Nl;Nl|=2;var r=pc();for(Al===e&&jl===t||(Wl=null,fc(e,t));;)try{yc();break}catch(i){mc(e,i)}if(xo(),Nl=n,_l.current=r,null!==Dl)throw Error(o(261));return Al=null,jl=0,Ol}function yc(){for(;null!==Dl;)wc(Dl)}function bc(){for(;null!==Dl&&!Ye();)wc(Dl)}function wc(e){var t=Sl(e.alternate,e,Fl);e.memoizedProps=e.pendingProps,null===t?kc(e):Dl=t,Il.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Fl)))return void(Dl=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Dl=n);if(null===e)return Ol=6,void(Dl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Dl=t);Dl=t=e}while(null!==t);0===Ol&&(Ol=5)}function xc(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Yl);if(0!==(6&Nl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Al&&(Dl=Al=null,jl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Ac(tt,(function(){return Ec(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var s=bt;bt=1;var l=Nl;Nl|=4,Il.current=null,function(e,t){if(ei=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(k){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,v=p.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(k){Cc(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}p=nl,nl=!1}(e,n),vl(n,e),mr(ti),Wt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),$e(),Nl=l,bt=s,Tl.transition=a}else e.current=n;if(Ql&&(Ql=!1,Yl=e,$l=i),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Gl,Gl=null,e;0!==(1&$l)&&0!==e.tag&&Ec(),a=e.pendingLanes,0!==(1&a)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,Vi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function Ec(){if(null!==Yl){var e=wt($l),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,$l=0,0!==(6&Nl))throw Error(o(331));var i=Nl;for(Nl|=4,Zs=e.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zs=u;null!==Zs;){var d=Zs;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Zs=h;else for(;null!==Zs;){var f=(d=Zs).sibling,m=d.return;if(al(d),d===u){Zs=null;break}if(null!==f){f.return=m,Zs=f;break}Zs=m}}}var p=a.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zs=y;break e}Zs=a.return}}var b=e.current;for(Zs=b;null!==Zs;){var w=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Zs=w;else e:for(s=b;null!==Zs;){if(0!==(2048&(l=Zs).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(x){Cc(l,l.return,x)}if(l===s){Zs=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,Zs=k;break e}Zs=l.return}}if(Nl=i,Vi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function Sc(e,t,n){e=Oo(e,t=ms(0,t=us(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function Cc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Oo(t,e=ps(t,e=us(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(jl&n)===n&&(4===Ol||3===Ol&&(130023424&jl)===jl&&500>Xe()-Vl?fc(e,0):Ul|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ao(e,t))&&(vt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ic(e,n)}function Ac(e,t){return Ke(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(e,t,n,r){return new Dc(e,t,n,r)}function Fc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=jc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Fc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Pc(n.children,i,a,t);case S:s=8,i|=8;break;case C:return(e=jc(12,n,t,2|i)).elementType=C,e.lanes=a,e;case N:return(e=jc(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=jc(19,n,t,i)).elementType=A,e.lanes=a,e;case F:return Lc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case I:s=9;break e;case T:s=11;break e;case D:s=14;break e;case j:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=jc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Pc(e,t,n,r){return(e=jc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=jc(22,e,r,t)).elementType=F,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=jc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=jc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,o,a,s,l){return e=new zc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=jc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jo(o),e}function Vc(e){if(!e)return Ii;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(ji(n))return Oi(e,n,t)}return t}function Hc(e,t,n,r,i,o,a,s,l){return(e=Bc(n,r,!0,e,0,o,0,s,l)).context=Vc(null),n=e.current,(o=Ro(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oo(n,o,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,o=tc(),a=nc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ro(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oo(i,t,a))&&(rc(e,i,a,o),Po(e,i,a)),a}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:As(t),mo();break;case 5:aa(t);break;case 1:ji(t.type)&&Pi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ms(e,t,n):(_i(la,1&la.current),null!==(e=qs(e,t,n))?e.sibling:null);_i(la,1&la.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return qs(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,io&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Di(t,Ti.current);Co(t,n),i=Sa(null,t,r,e,i,n);var a=Ca();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(r)?(a=!0,Pi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,jo(t),i.updater=Vo,t.stateNode=i,i._reactInternals=t,Go(t,r,e,n),t=Ns(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ks(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Fc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===D)return 14}return 2}(r),e=vo(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Es(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(As(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fo(e,t),Mo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ds(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=Ds(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mo(),r===i){t=qs(e,t,n);break e}ks(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),_s(e,t),ks(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ms(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):ks(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return ks(e,t,t.pendingProps,n),t.child;case 8:case 12:return ks(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,_i(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ni.current){t=qs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ro(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),So(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),So(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ks(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Co(t,n),r=r(i=_o(i)),t.flags|=1,ks(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),Es(e,t,r,i=vo(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),Ws(e,t),t.tag=1,ji(r)?(e=!0,Pi(t)):e=!1,Co(t,n),Wo(t,r,i),Go(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Cs(e,t,n)}throw Error(o(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=qc(a);s.call(e)}}Wc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=qc(a);o.call(e)}}var a=Hc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[mi]=a.current,Vr(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=qc(l);s.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[mi]=l.current,Vr(8===e.nodeType?e.parentNode:e),dc((function(){Wc(t,l,n,r)})),l}(n,t,e,i,r);return qc(a)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Wc(null,e,null,null)})),t[mi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ft.length&&0!==t&&t<Ft[n].priority;n++);Ft.splice(n,0,e),0===n&&Lt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Xe()),0===(6&Nl)&&(Hl=Xe()+500,Vi()))}break;case 13:dc((function(){var t=Ao(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Ao(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},St=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(o(90));K(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uc,Ne=dc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,ki,_e,Ie,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[mi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,a,s),e[mi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[mi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,p(w,v.prototype),w.isPureReactComponent=!0;var k=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+T(l,0):o,k(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",k(e))for(var c=0;c<e.length;c++){var u=o+T(s=e[c],c);l+=N(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=N(s=s.value,t,i,u=o+T(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},F={transition:null},R={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:F,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=F.transition;F.transition={};try{e()}finally{F.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,w(e),!p)if(null!==r(c))p=!0,F(x);else{var t=r(u);null!==t&&R(k,t.startTime-e)}}function x(e,n){p=!1,g&&(g=!1,y(_),_=-1),m=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&R(k,d.startTime-n),l=!1}return l}finally{h=null,f=o,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,C=null,_=-1,I=5,T=-1;function N(){return!(t.unstable_now()-T<I)}function A(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?E():(S=!1,C=null)}}else S=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,j=D.port2;D.port1.onmessage=A,E=function(){j.postMessage(null)}}else E=function(){v(A,0)};function F(e){C=e,S||(S=!0,E())}function R(e,n){_=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,F(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(_),_=-1):g=!0,R(k,o-a))):(e.sortIndex=s,n(c,e),p||m||(p=!0,F(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".a9a9f40a.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="billybooksnew:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/billybooks/",(()=>{var e={179:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkbillybooksnew=self.webpackChunkbillybooksnew||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e,t=n(791),r=n.t(t,2),i=n(250);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const a="popstate";function s(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(t,n,r,i){void 0===i&&(i={});let{window:l=document.defaultView,v5Compat:h=!1}=i,f=l.history,m=e.Pop,p=null,g=v();function v(){return(f.state||{idx:null}).idx}function y(){m=e.Pop;let t=v(),n=null==t?null:t-g;g=t,p&&p({action:m,location:w.location,delta:n})}function b(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:d(e);return s(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(o({},f.state,{idx:g}),""));let w={get action(){return m},get location(){return t(l,f)},listen(e){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(a,y),p=e,()=>{l.removeEventListener(a,y),p=null}},createHref:e=>n(l,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){m=e.Push;let i=u(w.location,t,n);r&&r(i,t),g=v()+1;let o=c(i,g),a=w.createHref(i);try{f.pushState(o,"",a)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;l.location.assign(a)}h&&p&&p({action:m,location:w.location,delta:1})},replace:function(t,n){m=e.Replace;let i=u(w.location,t,n);r&&r(i,t),g=v();let o=c(i,g),a=w.createHref(i);f.replaceState(o,"",a),h&&p&&p({action:m,location:w.location,delta:0})},go:e=>f.go(e)};return w}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function p(e,t,n){void 0===n&&(n="/");let r=N(("string"===typeof t?h(t):t).pathname||"/",n);if(null==r)return null;let i=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let a=0;null==o&&a<i.length;++a)o=_(i[a],T(r));return o}function g(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(s(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let l=R([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(s(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:C(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of v(e.path))i(e,t,r);else i(e,t)})),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=v(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const y=/^:\w+$/,b=3,w=2,k=1,x=10,E=-2,S=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(S)&&(r+=E),t&&(r+=w),n.filter((e=>!S(e))).reduce(((e,t)=>e+(y.test(t)?b:""===t?k:x)),r)}function _(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let e=n[a],s=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:R([i,c.pathname]),pathnameBase:O(R([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=R([i,c.pathnameBase]))}return o}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),c=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const c=s[n];return e[r]=i&&!c?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return l(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c||"",r),e}),{});return{params:c,pathname:o,pathnameBase:a,pattern:e}}function T(e){try{return decodeURI(e)}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function j(e,t){let n=D(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=h(e):(i=o({},e),s(!i.pathname||!i.pathname.includes("?"),A("?","pathname","search",i)),s(!i.pathname||!i.pathname.includes("#"),A("#","pathname","hash",i)),s(!i.search||!i.search.includes("#"),A("#","search","hash",i)));let a,l=""===e||""===i.pathname,c=l?"/":i.pathname;if(null==c)a=n;else if(r){let e=0===t.length?[]:t[t.length-1].replace(/^\//,"").split("/");if(c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e.pop();i.pathname=t.join("/")}a="/"+e.join("/")}else{let e=t.length-1;if(c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?h(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:P(r),hash:L(i)}}(i,a),d=c&&"/"!==c&&c.endsWith("/"),f=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!f||(u.pathname+="/"),u}const R=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",L=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function M(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],z=(new Set(U),["get",...U]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}const V=t.createContext(null);const H=t.createContext(null);const W=t.createContext(null);const q=t.createContext(null);const G=t.createContext({outlet:null,matches:[],isDataRoute:!1});const K=t.createContext(null);function Q(){return null!=t.useContext(q)}function Y(){return Q()||s(!1),t.useContext(q).location}function $(e){t.useContext(W).static||t.useLayoutEffect(e)}function X(){let{isDataRoute:e}=t.useContext(G);return e?function(){let{router:e}=ae(ie.UseNavigateStable),n=le(oe.UseNavigateStable),r=t.useRef(!1);$((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,B({fromRouteId:n},i)))}),[e,n]);return i}():function(){Q()||s(!1);let e=t.useContext(V),{basename:n,future:r,navigator:i}=t.useContext(W),{matches:o}=t.useContext(G),{pathname:a}=Y(),l=JSON.stringify(j(o,r.v7_relativeSplatPath)),c=t.useRef(!1);$((()=>{c.current=!0}));let u=t.useCallback((function(t,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof t)return void i.go(t);let o=F(t,JSON.parse(l),a,"path"===r.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:R([n,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[n,i,l,a,e]);return u}()}function J(n,r,i,o){Q()||s(!1);let{navigator:a}=t.useContext(W),{matches:l}=t.useContext(G),c=l[l.length-1],u=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,m=Y();if(r){var g;let e="string"===typeof r?h(r):r;"/"===d||(null==(g=e.pathname)?void 0:g.startsWith(d))||s(!1),f=e}else f=m;let v=f.pathname||"/",y=p(n,{pathname:"/"===d?v:v.slice(d.length)||"/"});let b=re(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:R([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:R([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,i,o);return r&&b?t.createElement(q.Provider,{value:{location:B({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:e.Pop}},b):b}function Z(){let e=function(){var e;let n=t.useContext(K),r=se(oe.UseRouteError),i=le(oe.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=M(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}const ee=t.createElement(Z,null);class te extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(G.Provider,{value:this.props.routeContext},t.createElement(K.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ne(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(V);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(G.Provider,{value:n},i)}function re(e,n,r,i){var o;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}let l=e,c=null==(o=r)?void 0:o.errors;if(null!=c){let e=l.findIndex((e=>e.route.id&&(null==c?void 0:c[e.route.id])));e>=0||s(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,d=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<l.length;t++){let e=l[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=t),e.route.loader&&e.route.id&&void 0===r.loaderData[e.route.id]&&(!r.errors||void 0===r.errors[e.route.id])){u=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}return l.reduceRight(((e,i,o)=>{let a,s=!1,h=null,f=null;var m;r&&(a=c&&i.route.id?c[i.route.id]:void 0,h=i.route.errorElement||ee,u&&(d<0&&0===o?(m="route-fallback",!1||ce[m]||(ce[m]=!0),s=!0,f=null):d===o&&(s=!0,f=i.route.hydrateFallbackElement||null)));let p=n.concat(l.slice(0,o+1)),g=()=>{let n;return n=a?h:s?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(ne,{match:i,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?t.createElement(te,{location:r.location,revalidation:r.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}var ie=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ie||{}),oe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(oe||{});function ae(e){let n=t.useContext(V);return n||s(!1),n}function se(e){let n=t.useContext(H);return n||s(!1),n}function le(e){let n=function(e){let n=t.useContext(G);return n||s(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||s(!1),r.route.id}const ce={};r.startTransition;function ue(e){s(!1)}function de(n){let{basename:r="/",children:i=null,location:o,navigationType:a=e.Pop,navigator:l,static:c=!1,future:u}=n;Q()&&s(!1);let d=r.replace(/^\/*/,"/"),f=t.useMemo((()=>({basename:d,navigator:l,static:c,future:B({v7_relativeSplatPath:!1},u)})),[d,u,l,c]);"string"===typeof o&&(o=h(o));let{pathname:m="/",search:p="",hash:g="",state:v=null,key:y="default"}=o,b=t.useMemo((()=>{let e=N(m,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:y},navigationType:a}}),[d,m,p,g,v,y,a]);return null==b?null:t.createElement(W.Provider,{value:f},t.createElement(q.Provider,{children:i,value:b}))}function he(e){let{children:t,location:n}=e;return J(fe(t),n)}new Promise((()=>{}));t.Component;function fe(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let o=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,fe(e.props.children,o));e.type!==ue&&s(!1),e.props.index&&e.props.children&&s(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=fe(e.props.children,o)),r.push(a)})),r}var me=n(184);function pe(){const e=X(),t=()=>{e("auth",{state:{component:"login"}})},n=()=>{e("auth",{state:{component:"register"}})};return(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("div",{className:"d-block-small d-md-none overflow-hidden",children:(0,me.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:(0,me.jsxs)("div",{children:[(0,me.jsx)("div",{className:"row",children:(0,me.jsx)("div",{className:"col-8 mx-auto text-center",children:(0,me.jsx)("img",{src:"/billybooks/myImgs/BillyBooks.png",alt:"Billy Books Logo",className:"img-fluid"})})}),(0,me.jsx)("div",{className:"row",style:{fontWeight:"600",marginTop:"5rem",fontSize:"1.1rem"},children:(0,me.jsxs)("div",{className:"col-8 mx-auto text-start",children:["Ready to explore ",(0,me.jsx)("span",{style:{color:"#196FFA"},children:"fantastic"})," universes and ",(0,me.jsx)("span",{style:{color:"#196FFA"},children:"charismatic"})," characters?"]})}),(0,me.jsx)("div",{className:"row",style:{marginTop:"2rem"},children:(0,me.jsxs)("div",{className:"col-10 mx-auto",children:[(0,me.jsx)("button",{className:"rounded-pill w-100 billyPrimaryButton",style:{fontSize:"0.8rem"},onClick:t,children:"Log In"}),(0,me.jsx)("button",{className:"rounded-pill w-100 billySecondaryButton",style:{fontSize:"0.8rem",fontWeight:"700",marginTop:"2rem"},onClick:n,children:"Create Account"})]})})]})})}),(0,me.jsx)("div",{className:"d-none d-md-block overflow-hidden",children:(0,me.jsxs)("div",{className:"row",children:[(0,me.jsx)("div",{className:"col-6 text-start",style:{paddingLeft:"2rem"},children:(0,me.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:(0,me.jsxs)("div",{children:[(0,me.jsx)("div",{className:"row",children:(0,me.jsx)("div",{className:"col-6 mx-auto text-center",children:(0,me.jsx)("img",{src:"/billybooks/myImgs/BillyBooks.png",alt:"Billy Books Logo",className:"img-fluid"})})}),(0,me.jsx)("div",{className:"row",style:{fontWeight:"600",marginTop:"5rem",fontSize:"1.1rem"},children:(0,me.jsxs)("div",{className:"col-6 mx-auto text-start",children:["Ready to explore ",(0,me.jsx)("span",{style:{color:"#196FFA"},children:"fantastic"})," universes and ",(0,me.jsx)("span",{style:{color:"#196FFA"},children:"charismatic"})," characters?"]})}),(0,me.jsx)("div",{className:"row",style:{marginTop:"2rem"},children:(0,me.jsxs)("div",{className:"col-6 mx-auto",children:[(0,me.jsx)("button",{className:"rounded-pill w-100 billyPrimaryButton",style:{fontSize:"0.8rem"},onClick:t,children:"Log In"}),(0,me.jsx)("button",{className:"rounded-pill w-100 billySecondaryButton",style:{fontSize:"0.8rem",fontWeight:"700",marginTop:"2rem"},onClick:n,children:"Create Account"})]})})]})})}),(0,me.jsx)("div",{className:"col-6 text-start vh-100",children:(0,me.jsx)("img",{src:"/billybooks/myImgs/introImg.jpg",alt:"Billy Books Logo",className:"img-fluid",style:{objectFit:"cover",height:"100%"}})})]})})]})}var ge=n(164),ve=n.t(ge,2);new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);new Map;const ye=r.startTransition;ve.flushSync;function be(e){let{basename:n,children:r,future:i,window:o}=e,a=t.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),f((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:d(t)}),null,e)}({window:o,v5Compat:!0}));let s=a.current,[l,c]=t.useState({action:s.action,location:s.location}),{v7_startTransition:h}=i||{},m=t.useCallback((e=>{h&&ye?ye((()=>c(e))):c(e)}),[c,h]);return t.useLayoutEffect((()=>s.listen(m)),[s,m]),t.createElement(de,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:s,future:i})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var we,ke;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(we||(we={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ke||(ke={}));function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Se(e)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||Ne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e){return function(e){if(Array.isArray(e))return Ae(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){if(e){if("string"===typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var De=function(){},je={},Fe={},Re=null,Oe={mark:De,measure:De};try{"undefined"!==typeof window&&(je=window),"undefined"!==typeof document&&(Fe=document),"undefined"!==typeof MutationObserver&&(Re=MutationObserver),"undefined"!==typeof performance&&(Oe=performance)}catch(B_){}var Pe,Le,Me,Ue,ze,Be=(je.navigator||{}).userAgent,Ve=void 0===Be?"":Be,He=je,We=Fe,qe=Re,Ge=Oe,Ke=(He.document,!!We.documentElement&&!!We.head&&"function"===typeof We.addEventListener&&"function"===typeof We.createElement),Qe=~Ve.indexOf("MSIE")||~Ve.indexOf("Trident/"),Ye="___FONT_AWESOME___",$e=16,Xe="fa",Je="svg-inline--fa",Ze="data-fa-i2svg",et="data-fa-pseudo-element",tt="data-fa-pseudo-element-pending",nt="data-prefix",rt="data-icon",it="fontawesome-i2svg",ot="async",at=["HTML","HEAD","STYLE","SCRIPT"],st=function(){try{return!0}catch(B_){return!1}}(),lt="classic",ct="sharp",ut=[lt,ct];function dt(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[lt]}})}var ht=dt((_e(Pe={},lt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),_e(Pe,ct,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),Pe)),ft=dt((_e(Le={},lt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),_e(Le,ct,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),Le)),mt=dt((_e(Me={},lt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),_e(Me,ct,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),Me)),pt=dt((_e(Ue={},lt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),_e(Ue,ct,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),Ue)),gt=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,vt="fa-layers-text",yt=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,bt=dt((_e(ze={},lt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),_e(ze,ct,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),ze)),wt=[1,2,3,4,5,6,7,8,9,10],kt=wt.concat([11,12,13,14,15,16,17,18,19,20]),xt=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Et={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},St=new Set;Object.keys(ft[lt]).map(St.add.bind(St)),Object.keys(ft[ct]).map(St.add.bind(St));var Ct=[].concat(ut,Te(St),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Et.GROUP,Et.SWAP_OPACITY,Et.PRIMARY,Et.SECONDARY]).concat(wt.map((function(e){return"".concat(e,"x")}))).concat(kt.map((function(e){return"w-".concat(e)}))),_t=He.FontAwesomeConfig||{};if(We&&"function"===typeof We.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=Ie(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=We.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(_t[r]=i)}))}var It={styleDefault:"solid",familyDefault:"classic",cssPrefix:Xe,replacementClass:Je,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};_t.familyPrefix&&(_t.cssPrefix=_t.familyPrefix);var Tt=Ee(Ee({},It),_t);Tt.autoReplaceSvg||(Tt.observeMutations=!1);var Nt={};Object.keys(It).forEach((function(e){Object.defineProperty(Nt,e,{enumerable:!0,set:function(t){Tt[e]=t,At.forEach((function(e){return e(Nt)}))},get:function(){return Tt[e]}})})),Object.defineProperty(Nt,"familyPrefix",{enumerable:!0,set:function(e){Tt.cssPrefix=e,At.forEach((function(e){return e(Nt)}))},get:function(){return Tt.cssPrefix}}),He.FontAwesomeConfig=Nt;var At=[];var Dt=$e,jt={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var Ft="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Rt(){for(var e=12,t="";e-- >0;)t+=Ft[62*Math.random()|0];return t}function Ot(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Pt(e){return e.classList?Ot(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function Lt(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Mt(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function Ut(e){return e.size!==jt.size||e.x!==jt.x||e.y!==jt.y||e.rotate!==jt.rotate||e.flipX||e.flipY}var zt=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function Bt(){var e=Xe,t=Je,n=Nt.cssPrefix,r=Nt.replacementClass,i=zt;if(n!==e||r!==t){var o=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(o,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(s,".".concat(r))}return i}var Vt=!1;function Ht(){Nt.autoAddCss&&!Vt&&(!function(e){if(e&&Ke){var t=We.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=We.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}We.head.insertBefore(t,r)}}(Bt()),Vt=!0)}var Wt={mixout:function(){return{dom:{css:Bt,insertCss:Ht}}},hooks:function(){return{beforeDOMElementCreation:function(){Ht()},beforeI2svg:function(){Ht()}}}},qt=He||{};qt[Ye]||(qt[Ye]={}),qt[Ye].styles||(qt[Ye].styles={}),qt[Ye].hooks||(qt[Ye].hooks={}),qt[Ye].shims||(qt[Ye].shims=[]);var Gt=qt[Ye],Kt=[],Qt=!1;function Yt(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,o=void 0===i?[]:i;return"string"===typeof e?Lt(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(Lt(e[n]),'" ')}),"").trim()}(r),">").concat(o.map(Yt).join(""),"</").concat(t,">")}function $t(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}Ke&&((Qt=(We.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(We.readyState))||We.addEventListener("DOMContentLoaded",(function e(){We.removeEventListener("DOMContentLoaded",e),Qt=1,Kt.map((function(e){return e()}))})));var Xt=function(e,t,n,r){var i,o,a,s=Object.keys(e),l=s.length,c=void 0!==r?function(e,t){return function(n,r,i,o){return e.call(t,n,r,i,o)}}(t,r):t;for(void 0===n?(i=1,a=e[s[0]]):(i=0,a=n);i<l;i++)a=c(a,e[o=s[i]],o,e);return a};function Jt(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function Zt(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function en(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=Zt(t);"function"!==typeof Gt.hooks.addPack||r?Gt.styles[e]=Ee(Ee({},Gt.styles[e]||{}),i):Gt.hooks.addPack(e,Zt(t)),"fas"===e&&en("fa",t)}var tn,nn,rn,on=Gt.styles,an=Gt.shims,sn=(_e(tn={},lt,Object.values(mt[lt])),_e(tn,ct,Object.values(mt[ct])),tn),ln=null,cn={},un={},dn={},hn={},fn={},mn=(_e(nn={},lt,Object.keys(ht[lt])),_e(nn,ct,Object.keys(ht[ct])),nn);function pn(e,t){var n,r=t.split("-"),i=r[0],o=r.slice(1).join("-");return i!==e||""===o||(n=o,~Ct.indexOf(n))?null:o}var gn=function(){var e=function(e){return Xt(on,(function(t,n,r){return t[r]=Xt(n,e,{}),t}),{})};cn=e((function(e,t,n){(t[3]&&(e[t[3]]=n),t[2])&&t[2].filter((function(e){return"number"===typeof e})).forEach((function(t){e[t.toString(16)]=n}));return e})),un=e((function(e,t,n){(e[n]=n,t[2])&&t[2].filter((function(e){return"string"===typeof e})).forEach((function(t){e[t]=n}));return e})),fn=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in on||Nt.autoFetchSvg,n=Xt(an,(function(e,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:o}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:o}),e}),{names:{},unicodes:{}});dn=n.names,hn=n.unicodes,ln=xn(Nt.styleDefault,{family:Nt.familyDefault})};function vn(e,t){return(cn[e]||{})[t]}function yn(e,t){return(fn[e]||{})[t]}function bn(e){return dn[e]||{prefix:null,iconName:null}}function wn(){return ln}!function(e){At.push(e)}((function(e){ln=xn(e.styleDefault,{family:Nt.familyDefault})})),gn();var kn=function(){return{prefix:null,iconName:null,rest:[]}};function xn(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,n=void 0===t?lt:t,r=ht[n][e],i=ft[n][e]||ft[n][r],o=e in Gt.styles?e:null;return i||o||null}var En=(_e(rn={},lt,Object.keys(mt[lt])),_e(rn,ct,Object.keys(mt[ct])),rn);function Sn(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==n&&n,i=(_e(t={},lt,"".concat(Nt.cssPrefix,"-").concat(lt)),_e(t,ct,"".concat(Nt.cssPrefix,"-").concat(ct)),t),o=null,a=lt;(e.includes(i[lt])||e.some((function(e){return En[lt].includes(e)})))&&(a=lt),(e.includes(i[ct])||e.some((function(e){return En[ct].includes(e)})))&&(a=ct);var s=e.reduce((function(e,t){var n=pn(Nt.cssPrefix,t);if(on[t]?(t=sn[a].includes(t)?pt[a][t]:t,o=t,e.prefix=t):mn[a].indexOf(t)>-1?(o=t,e.prefix=xn(t,{family:a})):n?e.iconName=n:t!==Nt.replacementClass&&t!==i[lt]&&t!==i[ct]&&e.rest.push(t),!r&&e.prefix&&e.iconName){var s="fa"===o?bn(e.iconName):{},l=yn(e.prefix,e.iconName);s.prefix&&(o=null),e.iconName=s.iconName||l||e.iconName,e.prefix=s.prefix||e.prefix,"far"!==e.prefix||on.far||!on.fas||Nt.autoFetchSvg||(e.prefix="fas")}return e}),kn());return(e.includes("fa-brands")||e.includes("fab"))&&(s.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(s.prefix="fad"),s.prefix||a!==ct||!on.fass&&!Nt.autoFetchSvg||(s.prefix="fass",s.iconName=yn(s.prefix,s.iconName)||s.iconName),"fa"!==s.prefix&&"fa"!==o||(s.prefix=wn()||"fas"),s}var Cn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=Ee(Ee({},e.definitions[t]||{}),i[t]),en(t,i[t]);var n=mt[lt][t];n&&en(n,i[t]),gn()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,o=r.iconName,a=r.icon,s=a[2];e[i]||(e[i]={}),s.length>0&&s.forEach((function(t){"string"===typeof t&&(e[i][t]=a)})),e[i][o]=a})),e}}],n&&Ce(t.prototype,n),r&&Ce(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),_n=[],In={},Tn={},Nn=Object.keys(Tn);function An(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(In[e]||[]).forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function Dn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(In[e]||[]).forEach((function(e){e.apply(null,n)}))}function jn(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Tn[e]?Tn[e].apply(null,t):void 0}function Fn(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||wn();if(t)return t=yn(n,t)||t,$t(Rn.definitions,n,t)||$t(Gt.styles,n,t)}var Rn=new Cn,On={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ke?(Dn("beforeI2svg",e),jn("pseudoElements2svg",e),jn("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.autoReplaceSvgRoot;!1===Nt.autoReplaceSvg&&(Nt.autoReplaceSvg=!0),Nt.observeMutations=!0,e=function(){Mn({autoReplaceSvgRoot:n}),Dn("watch",t)},Ke&&(Qt?setTimeout(e,0):Kt.push(e))}},Pn={icon:function(e){if(null===e)return null;if("object"===Se(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:yn(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=xn(e[0]);return{prefix:n,iconName:yn(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(Nt.cssPrefix,"-"))>-1||e.match(gt))){var r=Sn(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||wn(),iconName:yn(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=wn();return{prefix:i,iconName:yn(i,e)||e}}}},Ln={noAuto:function(){Nt.autoReplaceSvg=!1,Nt.observeMutations=!1,Dn("noAuto")},config:Nt,dom:On,parse:Pn,library:Rn,findIconDefinition:Fn,toHtml:Yt},Mn=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?We:e;(Object.keys(Gt.styles).length>0||Nt.autoFetchSvg)&&Ke&&Nt.autoReplaceSvg&&Ln.dom.i2svg({node:t})};function Un(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return Yt(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(Ke){var t=We.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function zn(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,o=e.iconName,a=e.transform,s=e.symbol,l=e.title,c=e.maskId,u=e.titleId,d=e.extra,h=e.watchable,f=void 0!==h&&h,m=r.found?r:n,p=m.width,g=m.height,v="fak"===i,y=[Nt.replacementClass,o?"".concat(Nt.cssPrefix,"-").concat(o):""].filter((function(e){return-1===d.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(d.classes).join(" "),b={children:[],attributes:Ee(Ee({},d.attributes),{},{"data-prefix":i,"data-icon":o,class:y,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(g)})},w=v&&!~d.classes.indexOf("fa-fw")?{width:"".concat(p/g*16*.0625,"em")}:{};f&&(b.attributes[Ze]=""),l&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(u||Rt())},children:[l]}),delete b.attributes.title);var k=Ee(Ee({},b),{},{prefix:i,iconName:o,main:n,mask:r,maskId:c,transform:a,symbol:s,styles:Ee(Ee({},w),d.styles)}),x=r.found&&n.found?jn("generateAbstractMask",k)||{children:[],attributes:{}}:jn("generateAbstractIcon",k)||{children:[],attributes:{}},E=x.children,S=x.attributes;return k.children=E,k.attributes=S,s?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,o=e.symbol,a=!0===o?"".concat(t,"-").concat(Nt.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ee(Ee({},i),{},{id:a}),children:r}]}]}(k):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,o=e.styles,a=e.transform;if(Ut(a)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=Mt(Ee(Ee({},o),{},{"transform-origin":"".concat(s.x+a.x/16,"em ").concat(s.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(k)}function Bn(e){var t=e.content,n=e.width,r=e.height,i=e.transform,o=e.title,a=e.extra,s=e.watchable,l=void 0!==s&&s,c=Ee(Ee(Ee({},a.attributes),o?{title:o}:{}),{},{class:a.classes.join(" ")});l&&(c[Ze]="");var u=Ee({},a.styles);Ut(i)&&(u.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?$e:n,i=e.height,o=void 0===i?$e:i,a=e.startCentered,s=void 0!==a&&a,l="";return l+=s&&Qe?"translate(".concat(t.x/Dt-r/2,"em, ").concat(t.y/Dt-o/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/Dt,"em), calc(-50% + ").concat(t.y/Dt,"em)) "):"translate(".concat(t.x/Dt,"em, ").concat(t.y/Dt,"em) "),l+="scale(".concat(t.size/Dt*(t.flipX?-1:1),", ").concat(t.size/Dt*(t.flipY?-1:1),") "),l+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=Mt(u);d.length>0&&(c.style=d);var h=[];return h.push({tag:"span",attributes:c,children:[t]}),o&&h.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),h}var Vn=Gt.styles;function Hn(e){var t=e[0],n=e[1],r=Ie(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(Nt.cssPrefix,"-").concat(Et.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Nt.cssPrefix,"-").concat(Et.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Nt.cssPrefix,"-").concat(Et.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var Wn={found:!1,width:512,height:512};function qn(e,t){var n=t;return"fa"===t&&null!==Nt.styleDefault&&(t=wn()),new Promise((function(r,i){jn("missingIconAbstract");if("fa"===n){var o=bn(e)||{};e=o.iconName||e,t=o.prefix||t}if(e&&t&&Vn[t]&&Vn[t][e])return r(Hn(Vn[t][e]));!function(e,t){st||Nt.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(Ee(Ee({},Wn),{},{icon:Nt.showMissingIcons&&e&&jn("missingIconAbstract")||{}}))}))}var Gn=function(){},Kn=Nt.measurePerformance&&Ge&&Ge.mark&&Ge.measure?Ge:{mark:Gn,measure:Gn},Qn='FA "6.5.1"',Yn=function(e){Kn.mark("".concat(Qn," ").concat(e," ends")),Kn.measure("".concat(Qn," ").concat(e),"".concat(Qn," ").concat(e," begins"),"".concat(Qn," ").concat(e," ends"))},$n={begin:function(e){return Kn.mark("".concat(Qn," ").concat(e," begins")),function(){return Yn(e)}},end:Yn},Xn=function(){};function Jn(e){return"string"===typeof(e.getAttribute?e.getAttribute(Ze):null)}function Zn(e){return We.createElementNS("http://www.w3.org/2000/svg",e)}function er(e){return We.createElement(e)}function tr(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?Zn:er:t;if("string"===typeof e)return We.createTextNode(e);var r=n(e.tag);return Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])})),(e.children||[]).forEach((function(e){r.appendChild(tr(e,{ceFn:n}))})),r}var nr={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(tr(e),t)})),null===t.getAttribute(Ze)&&Nt.keepOriginalSource){var n=We.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~Pt(t).indexOf(Nt.replacementClass))return nr.replace(e);var r=new RegExp("".concat(Nt.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===Nt.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var o=n.map((function(e){return Yt(e)})).join("\n");t.setAttribute(Ze,""),t.innerHTML=o}};function rr(e){e()}function ir(e,t){var n="function"===typeof t?t:Xn;if(0===e.length)n();else{var r=rr;Nt.mutateApproach===ot&&(r=He.requestAnimationFrame||rr),r((function(){var t=!0===Nt.autoReplaceSvg?nr.replace:nr[Nt.autoReplaceSvg]||nr.replace,r=$n.begin("mutate");e.map(t),r(),n()}))}}var or=!1;function ar(){or=!0}function sr(){or=!1}var lr=null;function cr(e){if(qe&&Nt.observeMutations){var t=e.treeCallback,n=void 0===t?Xn:t,r=e.nodeCallback,i=void 0===r?Xn:r,o=e.pseudoElementsCallback,a=void 0===o?Xn:o,s=e.observeMutationsRoot,l=void 0===s?We:s;lr=new qe((function(e){if(!or){var t=wn();Ot(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!Jn(e.addedNodes[0])&&(Nt.searchPseudoElements&&a(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&Nt.searchPseudoElements&&a(e.target.parentNode),"attributes"===e.type&&Jn(e.target)&&~xt.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(nt):null,n=e.getAttribute?e.getAttribute(rt):null;return t&&n}(e.target)){var r=Sn(Pt(e.target)),o=r.prefix,s=r.iconName;e.target.setAttribute(nt,o||t),s&&e.target.setAttribute(rt,s)}else(l=e.target)&&l.classList&&l.classList.contains&&l.classList.contains(Nt.replacementClass)&&i(e.target);var l}))}})),Ke&&lr.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function ur(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=Sn(Pt(e));return i.prefix||(i.prefix=wn()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(un[e]||{})[t]}(i.prefix,e.innerText)||vn(i.prefix,Jt(e.innerText))),!i.iconName&&Nt.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function dr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=ur(e),r=n.iconName,i=n.prefix,o=n.rest,a=function(e){var t=Ot(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return Nt.autoA11y&&(n?t["aria-labelledby"]="".concat(Nt.replacementClass,"-title-").concat(r||Rt()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),s=An("parseNodeAttributes",{},e),l=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}(e):[];return Ee({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:jt,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:l,attributes:a}},s)}var hr=Gt.styles;function fr(e){var t="nest"===Nt.autoReplaceSvg?dr(e,{styleParser:!1}):dr(e);return~t.extra.classes.indexOf(vt)?jn("generateLayersText",e,t):jn("generateSvgReplacementMutation",e,t)}var mr=new Set;function pr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Ke)return Promise.resolve();var n=We.documentElement.classList,r=function(e){return n.add("".concat(it,"-").concat(e))},i=function(e){return n.remove("".concat(it,"-").concat(e))},o=Nt.autoFetchSvg?mr:ut.map((function(e){return"fa-".concat(e)})).concat(Object.keys(hr));o.includes("fa")||o.push("fa");var a=[".".concat(vt,":not([").concat(Ze,"])")].concat(o.map((function(e){return".".concat(e,":not([").concat(Ze,"])")}))).join(", ");if(0===a.length)return Promise.resolve();var s=[];try{s=Ot(e.querySelectorAll(a))}catch(B_){}if(!(s.length>0))return Promise.resolve();r("pending"),i("complete");var l=$n.begin("onTree"),c=s.reduce((function(e,t){try{var n=fr(t);n&&e.push(n)}catch(B_){st||"MissingIcon"===B_.name&&console.error(B_)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){ir(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),l(),e()}))})).catch((function(e){l(),n(e)}))}))}function gr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;fr(e).then((function(e){e&&ir([e],t)}))}ut.map((function(e){mr.add("fa-".concat(e))})),Object.keys(ht[lt]).map(mr.add.bind(mr)),Object.keys(ht[ct]).map(mr.add.bind(mr)),mr=Te(mr);var vr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?jt:n,i=t.symbol,o=void 0!==i&&i,a=t.mask,s=void 0===a?null:a,l=t.maskId,c=void 0===l?null:l,u=t.title,d=void 0===u?null:u,h=t.titleId,f=void 0===h?null:h,m=t.classes,p=void 0===m?[]:m,g=t.attributes,v=void 0===g?{}:g,y=t.styles,b=void 0===y?{}:y;if(e){var w=e.prefix,k=e.iconName,x=e.icon;return Un(Ee({type:"icon"},e),(function(){return Dn("beforeDOMElementCreation",{iconDefinition:e,params:t}),Nt.autoA11y&&(d?v["aria-labelledby"]="".concat(Nt.replacementClass,"-title-").concat(f||Rt()):(v["aria-hidden"]="true",v.focusable="false")),zn({icons:{main:Hn(x),mask:s?Hn(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:k,transform:Ee(Ee({},jt),r),symbol:o,title:d,maskId:c,titleId:f,extra:{attributes:v,styles:b,classes:p}})}))}},yr={mixout:function(){return{icon:(e=vr,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:Fn(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Fn(i||{})),e(r,Ee(Ee({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=pr,e.nodeCallback=gr,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?We:t,r=e.callback;return pr(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,o=t.prefix,a=t.transform,s=t.symbol,l=t.mask,c=t.maskId,u=t.extra;return new Promise((function(t,d){Promise.all([qn(n,o),l.iconName?qn(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(l){var d=Ie(l,2),h=d[0],f=d[1];t([e,zn({icons:{main:h,mask:f},prefix:o,iconName:n,transform:a,symbol:s,maskId:c,title:r,titleId:i,extra:u,watchable:!0})])})).catch(d)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,o=e.transform,a=Mt(e.styles);return a.length>0&&(r.style=a),Ut(o)&&(t=jn("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},br={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return Un({type:"layer"},(function(){Dn("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(Nt.cssPrefix,"-layers")].concat(Te(r)).join(" ")},children:n}]}))}}}},wr={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,o=void 0===i?[]:i,a=t.attributes,s=void 0===a?{}:a,l=t.styles,c=void 0===l?{}:l;return Un({type:"counter",content:e},(function(){return Dn("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.title,r=e.extra,i=Ee(Ee(Ee({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=Mt(r.styles);o.length>0&&(i.style=o);var a=[];return a.push({tag:"span",attributes:i,children:[t]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}({content:e.toString(),title:r,extra:{attributes:s,styles:c,classes:["".concat(Nt.cssPrefix,"-layers-counter")].concat(Te(o))}})}))}}}},kr={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?jt:n,i=t.title,o=void 0===i?null:i,a=t.classes,s=void 0===a?[]:a,l=t.attributes,c=void 0===l?{}:l,u=t.styles,d=void 0===u?{}:u;return Un({type:"text",content:e},(function(){return Dn("beforeDOMElementCreation",{content:e,params:t}),Bn({content:e,transform:Ee(Ee({},jt),r),title:o,extra:{attributes:c,styles:d,classes:["".concat(Nt.cssPrefix,"-layers-text")].concat(Te(s))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,o=null,a=null;if(Qe){var s=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();o=l.width/s,a=l.height/s}return Nt.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,Bn({content:e.innerHTML,width:o,height:a,transform:r,title:n,extra:i,watchable:!0})])}}},xr=new RegExp('"',"ug"),Er=[1105920,1112319];function Sr(e,t){var n="".concat(tt).concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var o=Ot(e.children).filter((function(e){return e.getAttribute(et)===t}))[0],a=He.getComputedStyle(e,t),s=a.getPropertyValue("font-family").match(yt),l=a.getPropertyValue("font-weight"),c=a.getPropertyValue("content");if(o&&!s)return e.removeChild(o),r();if(s&&"none"!==c&&""!==c){var u=a.getPropertyValue("content"),d=~["Sharp"].indexOf(s[2])?ct:lt,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(s[2])?ft[d][s[2].toLowerCase()]:bt[d][l],f=function(e){var t=e.replace(xr,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=Er[0]&&n<=Er[1],i=2===t.length&&t[0]===t[1];return{value:Jt(i?t[0]:t),isSecondary:r||i}}(u),m=f.value,p=f.isSecondary,g=s[0].startsWith("FontAwesome"),v=vn(h,m),y=v;if(g){var b=function(e){var t=hn[e],n=vn("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(m);b.iconName&&b.prefix&&(v=b.iconName,h=b.prefix)}if(!v||p||o&&o.getAttribute(nt)===h&&o.getAttribute(rt)===y)r();else{e.setAttribute(n,y),o&&e.removeChild(o);var w={iconName:null,title:null,titleId:null,prefix:null,transform:jt,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},k=w.extra;k.attributes[et]=t,qn(v,h).then((function(i){var o=zn(Ee(Ee({},w),{},{icons:{main:i,mask:kn()},prefix:h,iconName:y,extra:k,watchable:!0})),a=We.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(a,e.firstChild):e.appendChild(a),a.outerHTML=o.map((function(e){return Yt(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function Cr(e){return Promise.all([Sr(e,"::before"),Sr(e,"::after")])}function _r(e){return e.parentNode!==document.head&&!~at.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(et)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function Ir(e){if(Ke)return new Promise((function(t,n){var r=Ot(e.querySelectorAll("*")).filter(_r).map(Cr),i=$n.begin("searchPseudoElements");ar(),Promise.all(r).then((function(){i(),sr(),t()})).catch((function(){i(),sr(),n()}))}))}var Tr=!1,Nr=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Ar={mixout:function(){return{parse:{transform:function(e){return Nr(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=Nr(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,o={transform:"translate(".concat(r/2," 256)")},a="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={outer:o,inner:{transform:"".concat(a," ").concat(s," ").concat(l)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:Ee({},c.outer),children:[{tag:"g",attributes:Ee({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:Ee(Ee({},t.icon.attributes),c.path)}]}]}}}},Dr={x:0,y:0,width:"100%",height:"100%"};function jr(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var Fr={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?Sn(n.split(" ").map((function(e){return e.trim()}))):kn();return r.prefix||(r.prefix=wn()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,o=e.mask,a=e.maskId,s=e.transform,l=i.width,c=i.icon,u=o.width,d=o.icon,h=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(a," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:s,containerWidth:u,iconWidth:l}),f={tag:"rect",attributes:Ee(Ee({},Dr),{},{fill:"white"})},m=c.children?{children:c.children.map(jr)}:{},p={tag:"g",attributes:Ee({},h.inner),children:[jr(Ee({tag:c.tag,attributes:Ee(Ee({},c.attributes),h.path)},m))]},g={tag:"g",attributes:Ee({},h.outer),children:[p]},v="mask-".concat(a||Rt()),y="clip-".concat(a||Rt()),b={tag:"mask",attributes:Ee(Ee({},Dr),{},{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,g]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=d,"g"===t.tag?t.children:[t])},b]};return n.push(w,{tag:"rect",attributes:Ee({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(v,")")},Dr)}),{children:n,attributes:r}}}},Rr={provides:function(e){var t=!1;He.matchMedia&&(t=He.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:Ee(Ee({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=Ee(Ee({},r),{},{attributeName:"opacity"}),o={tag:"circle",attributes:Ee(Ee({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||o.children.push({tag:"animate",attributes:Ee(Ee({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Ee(Ee({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(o),e.push({tag:"path",attributes:Ee(Ee({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Ee(Ee({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:Ee(Ee({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Ee(Ee({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;_n=e,In={},Object.keys(Tn).forEach((function(e){-1===Nn.indexOf(e)&&delete Tn[e]})),_n.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===Se(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){In[e]||(In[e]=[]),In[e].push(r[e])}))}e.provides&&e.provides(Tn)}))}([Wt,yr,br,wr,kr,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=Ir,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?We:t;Nt.searchPseudoElements&&Ir(n)}}},{mixout:function(){return{dom:{unwatch:function(){ar(),Tr=!0}}}},hooks:function(){return{bootstrap:function(){cr(An("mutationObserverCallbacks",{}))},noAuto:function(){lr&&lr.disconnect()},watch:function(e){var t=e.observeMutationsRoot;Tr?sr():cr(An("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},Ar,Fr,Rr,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:Ln});var Or=Ln.parse,Pr=Ln.icon,Lr=n(7),Mr=n.n(Lr);function Ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(n),!0).forEach((function(t){Vr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Br(e){return Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Br(e)}function Vr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wr(e){return function(e){if(Array.isArray(e))return qr(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gr(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var Kr=["style"];var Qr=!1;try{Qr=!0}catch(B_){}function Yr(e){return e&&"object"===Br(e)&&e.prefix&&e.iconName&&e.icon?e:Or.icon?Or.icon(e):null===e?null:e&&"object"===Br(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function $r(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Vr({},e,t):{}}var Xr=t.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,o=e.className,a=e.title,s=e.titleId,l=e.maskId,c=Yr(n),u=$r("classes",[].concat(Wr(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,o=e.bounce,a=e.shake,s=e.flash,l=e.spin,c=e.spinPulse,u=e.spinReverse,d=e.pulse,h=e.fixedWidth,f=e.inverse,m=e.border,p=e.listItem,g=e.flip,v=e.size,y=e.rotation,b=e.pull,w=(Vr(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":o,"fa-shake":a,"fa-flash":s,"fa-spin":l,"fa-spin-reverse":u,"fa-spin-pulse":c,"fa-pulse":d,"fa-fw":h,"fa-inverse":f,"fa-border":m,"fa-li":p,"fa-flip":!0===g,"fa-flip-horizontal":"horizontal"===g||"both"===g,"fa-flip-vertical":"vertical"===g||"both"===g},"fa-".concat(v),"undefined"!==typeof v&&null!==v),Vr(t,"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),Vr(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),Vr(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(w).map((function(e){return w[e]?e:null})).filter((function(e){return e}))}(e)),Wr(o.split(" ")))),d=$r("transform","string"===typeof e.transform?Or.transform(e.transform):e.transform),h=$r("mask",Yr(r)),f=Pr(c,zr(zr(zr(zr({},u),d),h),{},{symbol:i,title:a,titleId:s,maskId:l}));if(!f)return function(){var e;!Qr&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var m=f.abstract,p={ref:t};return Object.keys(e).forEach((function(t){Xr.defaultProps.hasOwnProperty(t)||(p[t]=e[t])})),Jr(m[0],p)}));Xr.displayName="FontAwesomeIcon",Xr.propTypes={beat:Mr().bool,border:Mr().bool,beatFade:Mr().bool,bounce:Mr().bool,className:Mr().string,fade:Mr().bool,flash:Mr().bool,mask:Mr().oneOfType([Mr().object,Mr().array,Mr().string]),maskId:Mr().string,fixedWidth:Mr().bool,inverse:Mr().bool,flip:Mr().oneOf([!0,!1,"horizontal","vertical","both"]),icon:Mr().oneOfType([Mr().object,Mr().array,Mr().string]),listItem:Mr().bool,pull:Mr().oneOf(["right","left"]),pulse:Mr().bool,rotation:Mr().oneOf([0,90,180,270]),shake:Mr().bool,size:Mr().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Mr().bool,spinPulse:Mr().bool,spinReverse:Mr().bool,symbol:Mr().oneOfType([Mr().bool,Mr().string]),title:Mr().string,titleId:Mr().string,transform:Mr().oneOfType([Mr().string,Mr().object]),swapOpacity:Mr().bool},Xr.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var Jr=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),o=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=function(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=Gr(t.slice(0,r)),o=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=o:e[i]=o,e}),{})}(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[Gr(t)]=r}return e}),{attrs:{}}),a=r.style,s=void 0===a?{}:a,l=Hr(r,Kr);return o.attrs.style=zr(zr({},o.attrs.style),s),t.apply(void 0,[n.tag,zr(zr({},o.attrs),l)].concat(Wr(i)))}.bind(null,t.createElement),Zr=n(622);const ei=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ti={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ei(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new ni;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ni extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ri=function(e){return function(e){const t=ei(e);return ti.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ii=function(e){try{return ti.decodeString(e,!0)}catch(B_){console.error("base64Decode failed: ",B_)}return null};const oi=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,ai=()=>{try{return oi()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/billybooks",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(B_){return}const t=e&&ii(e[1]);return t&&JSON.parse(t)})()}catch(B_){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(B_))}},si=e=>{var t,n;return null===(n=null===(t=ai())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},li=e=>{const t=si(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ci=()=>{var e;return null===(e=ai())||void 0===e?void 0:e.config},ui=e=>{var t;return null===(t=ai())||void 0===t?void 0:t["_".concat(e)]};class di{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function hi(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ri(JSON.stringify({alg:"none",type:"JWT"})),ri(JSON.stringify(o)),""].join(".")}function fi(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function mi(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function pi(){try{return"object"===typeof indexedDB}catch(B_){return!1}}function gi(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class vi extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yi.prototype.create)}}class yi{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(bi,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new vi(n,o,t)}}const bi=/\{\$([^}]+)}/g;function wi(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(ki(n)&&ki(o)){if(!wi(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ki(e){return null!==e&&"object"===typeof e}function xi(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ei(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Si(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Ci{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=_i),void 0===r.error&&(r.error=_i),void 0===r.complete&&(r.complete=_i);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(B_){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(B_){"undefined"!==typeof console&&console.error&&console.error(B_)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function _i(){}const Ii=1e3,Ti=2,Ni=144e5,Ai=.5;function Di(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ti;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ii)*Math.pow(t,e),r=Math.round(Ai*n*(Math.random()-.5)*2);return Math.min(Ni,n+r)}function ji(e){return e&&e._delegate?e._delegate:e}class Fi{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ri="[DEFAULT]";class Oi{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new di;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(B_){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(B_){if(r)return null;throw B_}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch(B_){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(B_){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Ri?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri;return this.component?this.component.multipleInstances?e:Ri:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pi{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Oi(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Li=[];var Mi;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Mi||(Mi={}));const Ui={debug:Mi.DEBUG,verbose:Mi.VERBOSE,info:Mi.INFO,warn:Mi.WARN,error:Mi.ERROR,silent:Mi.SILENT},zi=Mi.INFO,Bi={[Mi.DEBUG]:"log",[Mi.VERBOSE]:"log",[Mi.INFO]:"info",[Mi.WARN]:"warn",[Mi.ERROR]:"error"},Vi=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Bi[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class Hi{constructor(e){this.name=e,this._logLevel=zi,this._logHandler=Vi,this._userLogHandler=null,Li.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Ui[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mi.DEBUG,...t),this._logHandler(this,Mi.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mi.VERBOSE,...t),this._logHandler(this,Mi.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mi.INFO,...t),this._logHandler(this,Mi.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mi.WARN,...t),this._logHandler(this,Mi.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mi.ERROR,...t),this._logHandler(this,Mi.ERROR,...t)}}const Wi=(e,t)=>t.some((t=>e instanceof t));let qi,Gi;const Ki=new WeakMap,Qi=new WeakMap,Yi=new WeakMap,$i=new WeakMap,Xi=new WeakMap;let Ji={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Qi.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Yi.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return to(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Zi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Gi||(Gi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(no(this),n),to(Ki.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return to(e.apply(no(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(no(this),t,...r);return Yi.set(o,t.sort?t.sort():[t]),to(o)}}function eo(e){return"function"===typeof e?Zi(e):(e instanceof IDBTransaction&&function(e){if(Qi.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Qi.set(e,t)}(e),Wi(e,qi||(qi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ji):e)}function to(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(to(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Ki.set(t,e)})).catch((()=>{})),Xi.set(t,e),t}(e);if($i.has(e))return $i.get(e);const t=eo(e);return t!==e&&($i.set(e,t),Xi.set(t,e)),t}const no=e=>Xi.get(e);const ro=["get","getKey","getAll","getAllKeys","count"],io=["put","add","delete","clear"],oo=new Map;function ao(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(oo.get(t))return oo.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=io.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ro.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return oo.set(t,o),o}Ji=(e=>({...e,get:(t,n,r)=>ao(t,n)||e.get(t,n,r),has:(t,n)=>!!ao(t,n)||e.has(t,n)}))(Ji);class so{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const lo="@firebase/app",co="0.9.25",uo=new Hi("@firebase/app"),ho="[DEFAULT]",fo={[lo]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mo=new Map,po=new Map;function go(e,t){try{e.container.addComponent(t)}catch(B_){uo.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),B_)}}function vo(e){const t=e.name;if(po.has(t))return uo.debug("There were multiple attempts to register component ".concat(t,".")),!1;po.set(t,e);for(const n of mo.values())go(n,e);return!0}function yo(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const bo=new yi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class wo{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Fi("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bo.create("app-deleted",{appName:this._name})}}const ko="10.7.1";function xo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ho,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw bo.create("bad-app-name",{appName:String(i)});if(n||(n=ci()),!n)throw bo.create("no-options");const o=mo.get(i);if(o){if(wi(n,o.options)&&wi(r,o.config))return o;throw bo.create("duplicate-app",{appName:i})}const a=new Pi(i);for(const l of po.values())a.addComponent(l);const s=new wo(n,r,a);return mo.set(i,s),s}function Eo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ho;const t=mo.get(e);if(!t&&e===ho&&ci())return xo();if(!t)throw bo.create("no-app",{appName:e});return t}function So(e,t,n){var r;let i=null!==(r=fo[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void uo.warn(e.join(" "))}vo(new Fi("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const Co="firebase-heartbeat-database",_o=1,Io="firebase-heartbeat-store";let To=null;function No(){return To||(To=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=to(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(to(a.result),e.oldVersion,e.newVersion,to(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}(Co,_o,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Io)}}).catch((e=>{throw bo.create("idb-open",{originalErrorMessage:e.message})}))),To}async function Ao(e,t){try{const n=(await No()).transaction(Io,"readwrite"),r=n.objectStore(Io);await r.put(t,Do(e)),await n.done}catch(B_){if(B_ instanceof vi)uo.warn(B_.message);else{const t=bo.create("idb-set",{originalErrorMessage:null===B_||void 0===B_?void 0:B_.message});uo.warn(t.message)}}}function Do(e){return"".concat(e.name,"!").concat(e.options.appId)}class jo{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ro(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Fo();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Fo(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Oo(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Oo(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=ri(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Fo(){return(new Date).toISOString().substring(0,10)}class Ro{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!pi()&&gi().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await No();return await t.transaction(Io).objectStore(Io).get(Do(e))}catch(B_){if(B_ instanceof vi)uo.warn(B_.message);else{const t=bo.create("idb-get",{originalErrorMessage:null===B_||void 0===B_?void 0:B_.message});uo.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ao(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ao(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Oo(e){return ri(JSON.stringify({version:2,heartbeats:e})).length}var Po;Po="",vo(new Fi("platform-logger",(e=>new so(e)),"PRIVATE")),vo(new Fi("heartbeat",(e=>new jo(e)),"PRIVATE")),So(lo,co,Po),So(lo,co,"esm2017"),So("fire-js","");function Lo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Mo(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Uo=Mo,zo=new yi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Bo=new Hi("@firebase/auth");function Vo(e){if(Bo.logLevel<=Mi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Bo.error("Auth (".concat(ko,"): ").concat(e),...n)}}function Ho(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ko(e,...n)}function Wo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ko(e,...n)}function qo(e,t,n){const r=Object.assign(Object.assign({},Uo()),{[t]:n});return new yi("auth","Firebase",r).create(t,{appName:e.name})}function Go(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ho(e,"argument-error"),qo(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ko(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return zo.create(e,...n)}function Qo(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ko(t,...r)}}function Yo(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Vo(t),new Error(t)}function $o(e,t){e||Yo(t)}function Xo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Jo(){return"http:"===Zo()||"https:"===Zo()}function Zo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ea{constructor(e,t){this.shortDelay=e,this.longDelay=t,$o(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fi())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Jo()||mi()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ta(e,t){$o(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class na{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Yo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Yo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Yo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ra={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ia=new ea(3e4,6e4);function oa(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function aa(e,t,n,r){return sa(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=xi(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),na.fetch()(ca(e,e.config.apiHost,n,a),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},i))}))}async function sa(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ra),t);try{const t=new da(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ha(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ha(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw ha(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw ha(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw qo(e,s,a);Ho(e,s)}}catch(B_){if(B_ instanceof vi)throw B_;Ho(e,"network-request-failed",{message:String(B_)})}}async function la(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await aa(e,t,n,r,i);return"mfaPendingCredential"in o&&Ho(e,"multi-factor-auth-required",{_serverResponse:o}),o}function ca(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ta(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function ua(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class da{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Wo(this.auth,"network-request-failed"))),ia.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function ha(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wo(e,t,r);return i.customData._tokenResponse=n,i}function fa(e){return void 0!==e&&void 0!==e.enterprise}class ma{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ua(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function pa(e,t){return aa(e,"GET","/v2/recaptchaConfig",oa(e,t))}function ga(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(B_){}}function va(e){return 1e3*Number(e)}function ya(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Vo("JWT malformed, contained fewer than 3 sections"),null;try{const e=ii(n);return e?JSON.parse(e):(Vo("Failed to decode base64 JWT payload"),null)}catch(B_){return Vo("Caught error parsing JWT payload as JSON",null===B_||void 0===B_?void 0:B_.toString()),null}}async function ba(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(B_){throw B_ instanceof vi&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(B_)&&e.auth.currentUser===e&&await e.auth.signOut(),B_}}class wa{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(B_){return void((null===B_||void 0===B_?void 0:B_.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ka{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ga(this.lastLoginAt),this.creationTime=ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xa(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ba(e,async function(e,t){return aa(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Qo(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?function(e){return e.map((e=>{var{providerId:t}=e,n=Lo(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}(o.providerUserInfo):[],s=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new ka(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class Ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qo(e.idToken,"internal-error"),Qo("undefined"!==typeof e.idToken,"internal-error"),Qo("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=ya(e);return Qo(t,"internal-error"),Qo("undefined"!==typeof t.exp,"internal-error"),Qo("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Qo(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await sa(e,{},(async()=>{const n=xi({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=ca(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",na.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Ea;return n&&(Qo("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Qo("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Qo("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ea,this.toJSON())}_performRefresh(){return Yo("not implemented")}}function Sa(e,t){Qo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ca{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Lo(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ka(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ba(this,this.stsTokenManager.getToken(this.auth,e));return Qo(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ji(e),r=await n.getIdToken(t),i=ya(r);Qo(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:ga(va(i.auth_time)),issuedAtTime:ga(va(i.iat)),expirationTime:ga(va(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ji(e);await xa(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Qo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ca(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Qo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await xa(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ba(this,async function(e,t){return aa(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,p=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:k,stsTokenManager:x}=t;Qo(y&&x,e,"internal-error");const E=Ea.fromJSON(this.name,x);Qo("string"===typeof y,e,"internal-error"),Sa(u,e.name),Sa(d,e.name),Qo("boolean"===typeof b,e,"internal-error"),Qo("boolean"===typeof w,e,"internal-error"),Sa(h,e.name),Sa(f,e.name),Sa(m,e.name),Sa(p,e.name),Sa(g,e.name),Sa(v,e.name);const S=new Ca({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:m,stsTokenManager:E,createdAt:g,lastLoginAt:v});return k&&Array.isArray(k)&&(S.providerData=k.map((e=>Object.assign({},e)))),p&&(S._redirectEventId=p),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Ea;r.updateFromServerResponse(t);const i=new Ca({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await xa(i),i}}const _a=new Map;function Ia(e){$o(e instanceof Function,"Expected a class definition");let t=_a.get(e);return t?($o(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_a.set(e,t),t)}class Ta{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ta.type="NONE";const Na=Ta;function Aa(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Da{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Aa(this.userKey,r.apiKey,i),this.fullPersistenceKey=Aa("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ca._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Da(Ia(Na),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Ia(Na);const o=Aa(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){const n=Ca._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new Da(i,e,n)):new Da(i,e,n)}}function ja(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Pa(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fa(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ma(t))return"Blackberry";if(Ua(t))return"Webos";if(Ra(t))return"Safari";if((t.includes("chrome/")||Oa(t))&&!t.includes("edge/"))return"Chrome";if(La(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Fa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi();return/firefox\//i.test(e)}function Ra(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Oa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi();return/crios\//i.test(e)}function Pa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi();return/iemobile/i.test(e)}function La(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi();return/android/i.test(e)}function Ma(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi();return/blackberry/i.test(e)}function Ua(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi();return/webos/i.test(e)}function za(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ba(){return function(){const e=fi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Va(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi();return za(e)||La(e)||Ua(e)||Ma(e)||/windows phone/i.test(e)||Pa(e)}function Ha(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ja(fi());break;case"Worker":t="".concat(ja(fi()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ko,"/").concat(r)}class Wa{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(B_){r(B_)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(B_){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===B_||void 0===B_?void 0:B_.message})}}}class qa{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ga{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qa(this),this.idTokenSubscription=new Qa(this),this.beforeStateQueue=new Wa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zo,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ia(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Da.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(B_){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(B_){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(B_)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Qo(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(B_){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xa(e)}catch(B_){if((null===B_||void 0===B_?void 0:B_.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?ji(e):null;return t&&Qo(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Qo(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Ia(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return aa(e,"GET","/v2/passwordPolicy",oa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new qa(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yi("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return aa(e,"POST","/v2/accounts:revokeToken",oa(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ia(e)||this._popupRedirectResolver;Qo(t,this,"argument-error"),this.redirectPersistenceManager=await Da.create(this,[Ia(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qo(a,this,"internal-error"),a.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qo(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ha(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Bo.logLevel<=Mi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Bo.warn("Auth (".concat(ko,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Ka(e){return ji(e)}class Qa{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Ci(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Qo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ya(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Wo("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function $a(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Xa{constructor(e){this.type="recaptcha-enterprise",this.auth=Ka(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;fa(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{pa(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new ma(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&fa(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Ya("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Ja(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Xa(e);let o;try{o=await i.verify(n)}catch(s){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Za(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ja(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Ja(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function es(e,t,n){const r=Ka(e);Qo(r._canInitEmulator,r,"emulator-config-failed"),Qo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=ts(t),{host:a,port:s}=function(e){const t=ts(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ns(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ns(t)}}}(t),l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(o,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ts(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ns(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class rs{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yo("not implemented")}_getIdTokenResponse(e){return Yo("not implemented")}_linkToIdToken(e,t){return Yo("not implemented")}_getReauthenticationResolver(e){return Yo("not implemented")}}async function is(e,t){return aa(e,"POST","/v1/accounts:signUp",t)}async function os(e,t){return la(e,"POST","/v1/accounts:signInWithPassword",oa(e,t))}class as extends rs{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new as(e,t,"password")}static _fromEmailAndCode(e,t){return new as(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Za(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",os);case"emailLink":return async function(e,t){return la(e,"POST","/v1/accounts:signInWithEmailLink",oa(e,t))}(e,{email:this._email,oobCode:this._password});default:Ho(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Za(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",is);case"emailLink":return async function(e,t){return la(e,"POST","/v1/accounts:signInWithEmailLink",oa(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ho(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ss(e,t){return la(e,"POST","/v1/accounts:signInWithIdp",oa(e,t))}class ls extends rs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ho("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Lo(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new ls(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return ss(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ss(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ss(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xi(t)}return e}}const cs={USER_NOT_FOUND:"user-not-found"};class us extends rs{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new us({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new us({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return la(e,"POST","/v1/accounts:signInWithPhoneNumber",oa(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await la(e,"POST","/v1/accounts:signInWithPhoneNumber",oa(e,t));if(n.temporaryProof)throw ha(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return la(e,"POST","/v1/accounts:signInWithPhoneNumber",oa(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),cs)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new us({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ds{constructor(e){var t,n,r,i,o,a;const s=Ei(Si(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Qo(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Ei(Si(e)).link,n=t?Ei(Si(t)).deep_link_id:null,r=Ei(Si(e)).deep_link_id;return(r?Ei(Si(r)).link:null)||r||n||t||e}(e);try{return new ds(t)}catch(n){return null}}}class hs{constructor(){this.providerId=hs.PROVIDER_ID}static credential(e,t){return as._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ds.parseLink(t);return Qo(n,"argument-error"),as._fromEmailAndCode(e,n.code,n.tenantId)}}hs.PROVIDER_ID="password",hs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",hs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class fs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ms extends fs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ps extends ms{constructor(){super("facebook.com")}static credential(e){return ls._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ps.credential(t.oauthAccessToken)}catch(n){return null}}}ps.FACEBOOK_SIGN_IN_METHOD="facebook.com",ps.PROVIDER_ID="facebook.com";class gs extends ms{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ls._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return gs.credential(n,r)}catch(i){return null}}}gs.GOOGLE_SIGN_IN_METHOD="google.com",gs.PROVIDER_ID="google.com";class vs extends ms{constructor(){super("github.com")}static credential(e){return ls._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return vs.credential(t.oauthAccessToken)}catch(n){return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com",vs.PROVIDER_ID="github.com";class ys extends ms{constructor(){super("twitter.com")}static credential(e,t){return ls._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ys.credential(n,r)}catch(i){return null}}}async function bs(e,t){return la(e,"POST","/v1/accounts:signUp",oa(e,t))}ys.TWITTER_SIGN_IN_METHOD="twitter.com",ys.PROVIDER_ID="twitter.com";class ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ca._fromIdTokenResponse(e,n,r),o=ks(n);return new ws({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ks(n);return new ws({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ks(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class xs extends vi{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,xs.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new xs(e,t,n,r)}}function Es(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw xs._fromErrorAndOperation(e,n,t,r);throw n}))}async function Ss(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ba(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ws._forOperation(e,"link",r)}async function Cs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await ba(e,Es(r,i,t,e),n);Qo(o.idToken,r,"internal-error");const a=ya(o.idToken);Qo(a,r,"internal-error");const{sub:s}=a;return Qo(e.uid===s,r,"user-mismatch"),ws._forOperation(e,i,o)}catch(B_){throw(null===B_||void 0===B_?void 0:B_.code)==="auth/".concat("user-not-found")&&Ho(r,"user-mismatch"),B_}}async function _s(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Es(e,r,t),o=await ws._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Is(e,t){return _s(Ka(e),t)}async function Ts(e){const t=Ka(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const Ns="__sak";class As{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ns,"1"),this.storage.removeItem(Ns),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ds extends As{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=fi();return Ra(e)||za(e)}()&&function(){try{return!(!window||window===window.top)}catch(B_){return!1}}(),this.fallbackToPolling=Va(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Ba()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ds.type="LOCAL";const js=Ds;class Fs extends As{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Fs.type="SESSION";const Rs=Fs;class Os{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Os(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Os.receivers=[];class Ls{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=Ps("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Ms(){return window}function Us(){return"undefined"!==typeof Ms().WorkerGlobalScope&&"function"===typeof Ms().importScripts}const zs="firebaseLocalStorageDb",Bs="firebaseLocalStorage",Vs="fbase_key";class Hs{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ws(e,t){return e.transaction([Bs],t?"readwrite":"readonly").objectStore(Bs)}function qs(){const e=indexedDB.open(zs,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Bs,{keyPath:Vs})}catch(B_){n(B_)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Bs)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(zs);return new Hs(e).toPromise()}(),t(await qs()))}))}))}async function Gs(e,t,n){const r=Ws(e,!0).put({[Vs]:t,value:n});return new Hs(r).toPromise()}function Ks(e,t){const n=Ws(e,!0).delete(t);return new Hs(n).toPromise()}class Qs{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await qs()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(B_){if(t++>3)throw B_;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Us()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Os._getInstance(Us()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ls(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qs();return await Gs(e,Ns,"1"),await Ks(e,Ns),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Gs(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ws(e,!1).get(t),r=await new Hs(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ks(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ws(e,!1).getAll();return new Hs(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Qs.type="LOCAL";const Ys=Qs;$a("rcb"),new ea(3e4,6e4);const $s="recaptcha";async function Xs(e,t,n){var r;const i=await n.verify();try{let o;if(Qo("string"===typeof i,e,"argument-error"),Qo(n.type===$s,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Qo("enroll"===t.type,e,"internal-error");const n=await function(e,t){return aa(e,"POST","/v2/accounts/mfaEnrollment:start",oa(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Qo("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Qo(n,e,"missing-multi-factor-info");const a=await function(e,t){return aa(e,"POST","/v2/accounts/mfaSignIn:start",oa(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return aa(e,"POST","/v1/accounts:sendVerificationCode",oa(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Js{constructor(e){this.providerId=Js.PROVIDER_ID,this.auth=Ka(e)}verifyPhoneNumber(e,t){return Xs(this.auth,e,ji(t))}static credential(e,t){return us._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Js.credentialFromTaggedObject(t)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?us._fromTokenResponse(n,r):null}}function Zs(e,t){return t?Ia(t):(Qo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Js.PROVIDER_ID="phone",Js.PHONE_SIGN_IN_METHOD="phone";class el extends rs{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ss(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ss(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ss(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tl(e){return _s(e.auth,new el(e),e.bypassAuthState)}function nl(e){const{auth:t,user:n}=e;return Qo(n,t,"internal-error"),Cs(n,new el(e),e.bypassAuthState)}async function rl(e){const{auth:t,user:n}=e;return Qo(n,t,"internal-error"),Ss(n,new el(e),e.bypassAuthState)}class il{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(B_){this.reject(B_)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(B_){this.reject(B_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tl;case"linkViaPopup":case"linkViaRedirect":return rl;case"reauthViaPopup":case"reauthViaRedirect":return nl;default:Ho(this.auth,"internal-error")}}resolve(e){$o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ol=new ea(2e3,1e4);async function al(e,t,n){const r=Ka(e);Go(e,t,fs);const i=Zs(r,n);return new sl(r,"signInViaPopup",t,i).executeNotNull()}class sl extends il{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,sl.currentPopupAction&&sl.currentPopupAction.cancel(),sl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qo(e,this.auth,"internal-error"),e}async onExecution(){$o(1===this.filter.length,"Popup operations only handle one event");const e=Ps();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Wo(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Wo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Wo(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,ol.get())};e()}}sl.currentPopupAction=null;const ll="pendingRedirect",cl=new Map;class ul extends il{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=cl.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=fl(t),r=hl(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(B_){e=()=>Promise.reject(B_)}cl.set(this.auth._key(),e)}return this.bypassAuthState||cl.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function dl(e,t){cl.set(e._key(),t)}function hl(e){return Ia(e._redirectPersistence)}function fl(e){return Aa(ll,e.config.apiKey,e.name)}async function ml(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Ka(e),i=Zs(r,t),o=new ul(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class pl{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!vl(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Wo(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gl(e))}saveEventToCache(e){this.cachedEventUids.add(gl(e)),this.lastProcessedEventTime=Date.now()}}function gl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function vl(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const yl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bl=/^https?/;async function wl(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return aa(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(kl(r))return}catch(n){}Ho(e,"unauthorized-domain")}function kl(e){const t=Xo(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!bl.test(n))return!1;if(yl.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const xl=new ea(3e4,6e4);function El(){const e=Ms().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Sl=null;function Cl(e){return Sl=Sl||function(e){return new Promise(((t,n)=>{var r,i,o;function a(){El(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{El(),n(Wo(e,"network-request-failed"))},timeout:xl.get()})}if(null===(i=null===(r=Ms().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Ms().gapi)||void 0===o?void 0:o.load)){const t=$a("iframefcb");return Ms()[t]=()=>{gapi.load?a():n(Wo(e,"network-request-failed"))},Ya("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw Sl=null,e}))}(e),Sl}const _l=new ea(5e3,15e3),Il="__/auth/iframe",Tl="emulator/auth/iframe",Nl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Al=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dl(e){const t=e.config;Qo(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ta(t,Tl):"https://".concat(e.config.authDomain,"/").concat(Il),r={apiKey:t.apiKey,appName:e.name,v:ko},i=Al.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(xi(r).slice(1))}const jl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Fl{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(B_){}}}function Rl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},jl),{width:r.toString(),height:i.toString(),top:o,left:a}),c=fi().toLowerCase();n&&(s=Oa(c)?"_blank":n),Fa(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return za(arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Fl(null);const d=window.open(t||"",s,u);Qo(d,e,"popup-blocked");try{d.focus()}catch(B_){}return new Fl(d)}const Ol="__/auth/handler",Pl="emulator/auth/handler",Ll=encodeURIComponent("fac");async function Ml(e,t,n,r,i,o){Qo(e.config.authDomain,e,"auth-domain-config-required"),Qo(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ko,eventId:i};if(t instanceof fs){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof ms){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ll,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ol);return ta(t,Pl)}(e),"?").concat(xi(s).slice(1)).concat(c)}const Ul="webStorageSupport";const zl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rs,this._completeRedirectFn=ml,this._overrideRedirectResult=dl}async _openPopup(e,t,n,r){var i;$o(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Rl(e,await Ml(e,t,n,Xo(),r),Ps())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ms().location.href=e}(await Ml(e,t,n,Xo(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):($o(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Cl(e),n=Ms().gapi;return Qo(n,e,"internal-error"),t.open({where:document.body,url:Dl(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nl,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Wo(e,"network-request-failed"),o=Ms().setTimeout((()=>{r(i)}),_l.get());function a(){Ms().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new pl(e);return t.register("authEvent",(t=>{Qo(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ul,{type:Ul},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ul];void 0!==i&&t(!!i),Ho(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wl(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Va()||Ra()||za()}};var Bl="@firebase/auth",Vl="1.5.1";class Hl{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Qo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Wl=ui("authIdTokenMaxAge")||300;let ql=null;const Gl=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Wl)return;const i=null===n||void 0===n?void 0:n.token;ql!==i&&(ql=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))};function Kl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eo();const t=yo(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=yo(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(wi(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Ho(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:zl,persistence:[Ys,js,Rs]}),r=ui("authTokenSyncURL");if(r){const e=Gl(r);!function(e,t,n){ji(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){ji(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}const i=si("auth");return i&&es(n,"http://".concat(i)),n}var Ql;Ql="Browser",vo(new Fi("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;Qo(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:Ql,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ha(Ql)},c=new Ga(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ia);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),vo(new Fi("auth-internal",(e=>(e=>new Hl(e))(Ka(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),So(Bl,Vl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ql)),So(Bl,Vl,"esm2017");var Yl={prefix:"fas",iconName:"door-open",icon:[576,512,[],"f52b","M320 32c0-9.9-4.5-19.2-12.3-25.2S289.8-1.4 280.2 1l-179.9 45C79 51.3 64 70.5 64 92.5V448H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H96 288h32V480 32zM256 256c0 17.7-10.7 32-24 32s-24-14.3-24-32s10.7-32 24-32s24 14.3 24 32zm96-128h96V480c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H512V128c0-35.3-28.7-64-64-64H352v64z"]},$l={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},Xl={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},Jl={prefix:"fas",iconName:"user-group",icon:[640,512,[128101,"user-friends"],"f500","M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM609.3 512H471.4c5.4-9.4 8.6-20.3 8.6-32v-8c0-60.7-27.1-115.2-69.8-151.8c2.4-.1 4.7-.2 7.1-.2h61.4C567.8 320 640 392.2 640 481.3c0 17-13.8 30.7-30.7 30.7zM432 256c-31 0-59-12.6-79.3-32.9C372.4 196.5 384 163.6 384 128c0-26.8-6.6-52.1-18.3-74.3C384.3 40.1 407.2 32 432 32c61.9 0 112 50.1 112 112s-50.1 112-112 112z"]},Zl={prefix:"fas",iconName:"user-minus",icon:[640,512,[],"f503","M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM472 200H616c13.3 0 24 10.7 24 24s-10.7 24-24 24H472c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},ec={prefix:"fas",iconName:"handshake",icon:[640,512,[],"f2b5","M323.4 85.2l-96.8 78.4c-16.1 13-19.2 36.4-7 53.1c12.9 17.8 38 21.3 55.3 7.8l99.3-77.2c7-5.4 17-4.2 22.5 2.8s4.2 17-2.8 22.5l-20.9 16.2L512 316.8V128h-.7l-3.9-2.5L434.8 79c-15.3-9.8-33.2-15-51.4-15c-21.8 0-43 7.5-60 21.2zm22.8 124.4l-51.7 40.2C263 274.4 217.3 268 193.7 235.6c-22.2-30.5-16.6-73.1 12.7-96.8l83.2-67.3c-11.6-4.9-24.1-7.4-36.8-7.4C234 64 215.7 69.6 200 80l-72 48V352h28.2l91.4 83.4c19.6 17.9 49.9 16.5 67.8-3.1c5.5-6.1 9.2-13.2 11.1-20.6l17 15.6c19.5 17.9 49.9 16.6 67.8-2.9c4.5-4.9 7.8-10.6 9.9-16.5c19.4 13 45.8 10.3 62.1-7.5c17.9-19.5 16.6-49.9-2.9-67.8l-134.2-123zM16 128c-8.8 0-16 7.2-16 16V352c0 17.7 14.3 32 32 32H64c17.7 0 32-14.3 32-32V128H16zM48 320a16 16 0 1 1 0 32 16 16 0 1 1 0-32zM544 128V352c0 17.7 14.3 32 32 32h32c17.7 0 32-14.3 32-32V144c0-8.8-7.2-16-16-16H544zm32 208a16 16 0 1 1 32 0 16 16 0 1 1 -32 0z"]},tc={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},nc={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},rc={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},ic=rc,oc={prefix:"fas",iconName:"trophy",icon:[576,512,[127942],"f091","M400 0H176c-26.5 0-48.1 21.8-47.1 48.2c.2 5.3 .4 10.6 .7 15.8H24C10.7 64 0 74.7 0 88c0 92.6 33.5 157 78.5 200.7c44.3 43.1 98.3 64.8 138.1 75.8c23.4 6.5 39.4 26 39.4 45.6c0 20.9-17 37.9-37.9 37.9H192c-17.7 0-32 14.3-32 32s14.3 32 32 32H384c17.7 0 32-14.3 32-32s-14.3-32-32-32H357.9C337 448 320 431 320 410.1c0-19.6 15.9-39.2 39.4-45.6c39.9-11 93.9-32.7 138.2-75.8C542.5 245 576 180.6 576 88c0-13.3-10.7-24-24-24H446.4c.3-5.2 .5-10.4 .7-15.8C448.1 21.8 426.5 0 400 0zM48.9 112h84.4c9.1 90.1 29.2 150.3 51.9 190.6c-24.9-11-50.8-26.5-73.2-48.3c-32-31.1-58-76-63-142.3zM464.1 254.3c-22.4 21.8-48.3 37.3-73.2 48.3c22.7-40.3 42.8-100.5 51.9-190.6h84.4c-5.1 66.3-31.1 111.2-63 142.3z"]},ac={prefix:"fas",iconName:"book",icon:[448,512,[128212],"f02d","M96 0C43 0 0 43 0 96V416c0 53 43 96 96 96H384h32c17.7 0 32-14.3 32-32s-14.3-32-32-32V384c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H384 96zm0 384H352v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},sc={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM504 312V248H440c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V136c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H552v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},lc={prefix:"fas",iconName:"angle-left",icon:[320,512,[8249],"f104","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]};function cc(e){const{switchComponentHandler:n,handleShowAlert:r,handleGoogleLogin:i}=e,o=X(),[a,s]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(!1);return(0,me.jsx)(me.Fragment,{children:(0,me.jsxs)("div",{children:[(0,me.jsxs)("div",{className:"row align-items-start",style:{marginTop:"3rem"},children:[(0,me.jsx)("div",{className:"col-10 mx-auto titleFont",style:{fontSize:"1.8rem",textAlign:"left"},children:"Welcome back!"}),(0,me.jsx)("div",{className:"col-10 mx-auto billyGreyText",style:{fontWeight:"600",textAlign:"left"},children:"Sign in to keep track of your books"})]}),(0,me.jsxs)("form",{className:"col-10 mx-auto",style:{marginTop:"1rem"},children:[(0,me.jsxs)("div",{className:"form-group text-start",children:[(0,me.jsx)("label",{htmlFor:"email",style:{marginBottom:"0.5rem",display:"block",fontSize:"0.9rem",fontWeight:"600"},children:"Email"}),(0,me.jsx)("input",{type:"text",className:"billyInput rounded d-block col-12",id:"email",placeholder:"Enter your email here",onChange:e=>{s(e.target.value)}})]}),(0,me.jsxs)("div",{className:"form-group text-start",style:{marginTop:"1rem"},children:[(0,me.jsx)("label",{htmlFor:"password",style:{marginBottom:"0.5rem",display:"block",fontSize:"0.9rem",fontWeight:"600"},children:"Password"}),(0,me.jsxs)("div",{className:"input-group",children:[(0,me.jsx)("input",{type:u?"text":"password",className:"form-control billyInput col-12",style:{borderRadius:"0.5rem 0rem 0rem 0.5rem",fontSize:"0.8rem",border:"0.1rem solid #D4D4D4"},id:"password",placeholder:"Create your password here",value:l,onChange:e=>{c(e.target.value)},onBlur:()=>{console.log("pass worked")}}),(0,me.jsx)("div",{className:"input-group-append",children:(0,me.jsx)("span",{className:"btn input-group-text",style:{borderRadius:"0rem 0.5rem 0.5rem 0rem",color:"#196FFA",backgroundColor:"white",border:"0.1rem solid #196FFA"},onClick:()=>{"password"==="password"&&d(!u)},children:(0,me.jsx)(Xr,{icon:u?tc:Xl})})})]})]}),(0,me.jsx)("div",{style:{fontSize:"0.8rem",marginTop:"1rem",textDecoration:"underline",color:"#196FFA"},className:"text-start",children:"Forgot password? Click here"}),(0,me.jsx)("div",{className:"row",style:{marginTop:"2rem"},children:(0,me.jsxs)("div",{className:"col-12 mx-auto",children:[(0,me.jsx)("button",{className:"rounded-pill w-100 billyPrimaryButton",style:{fontSize:"0.8rem"},onClick:async e=>{e.preventDefault();try{const e=Kl();await function(e,t,n){return Is(ji(e),hs.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ts(e),t}))}(e,a,l),o("/main")}catch(t){console.error(t),r({isError:!0,errorName:"invalidCredentials"})}},children:"Log In"}),(0,me.jsx)("div",{className:"billyGreyText text-center",style:{fontSize:"0.8rem",padding:"0.4rem"},children:"or"}),(0,me.jsxs)("button",{className:"rounded-pill w-100 billySecondaryButton",style:{fontSize:"0.8rem",fontWeight:"700"},onClick:i,children:[(0,me.jsx)(Xr,{icon:Zr.xY,style:{marginRight:"1rem"}}),"Continue with Google"]})]})})]}),(0,me.jsxs)("div",{style:{marginTop:"3rem",fontSize:"0.8rem"},className:"text-center",children:["Don't have an account? ",(0,me.jsx)("span",{className:"text-decoration-underline",style:{color:"#196FFA",cursor:"pointer"},onClick:()=>{n(!0)},children:"Register here"})]})]})})}function uc(e){const{password:t}=e;let n=0;return t.length>5&&n++,t.length>10&&n++,t.length>15&&n++,t.length>20&&n++,/[A-Z]/.test(t)&&n++,/[a-z]/.test(t)&&n++,/[0-9]/.test(t)&&n++,/[!@#$%^&*]/.test(t)&&n++,0===n?(0,me.jsx)("div",{className:"progress",children:(0,me.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"0%",backgroundColor:"#D1E2FE"},"aria-valuenow":"0","aria-valuemax":"100"})}):n<3?(0,me.jsx)("div",{className:"progress",children:(0,me.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"20%",backgroundColor:"#D1E2FE"},"aria-valuenow":"10","aria-valuemax":"100"})}):n<6?(0,me.jsx)("div",{className:"progress",children:(0,me.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"50%",backgroundColor:"#8CB7FC"},"aria-valuenow":"50","aria-valuemax":"100"})}):n<7?(0,me.jsx)("div",{className:"progress",children:(0,me.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"80%",backgroundColor:"#669FFC1"},"aria-valuenow":"80","aria-valuemax":"100"})}):(0,me.jsx)("div",{className:"progress",children:(0,me.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"100%",backgroundColor:"#196FFA"},"aria-valuenow":"100","aria-valuemax":"100"})})}So("firebase","10.7.1","app");const dc=(e,t)=>t.some((t=>e instanceof t));let hc,fc;const mc=new WeakMap,pc=new WeakMap,gc=new WeakMap,vc=new WeakMap,yc=new WeakMap;let bc={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return pc.get(e);if("objectStoreNames"===t)return e.objectStoreNames||gc.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xc(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function wc(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(fc||(fc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ec(this),n),xc(mc.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xc(e.apply(Ec(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Ec(this),t,...r);return gc.set(o,t.sort?t.sort():[t]),xc(o)}}function kc(e){return"function"===typeof e?wc(e):(e instanceof IDBTransaction&&function(e){if(pc.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));pc.set(e,t)}(e),dc(e,hc||(hc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,bc):e)}function xc(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(xc(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&mc.set(t,e)})).catch((()=>{})),yc.set(t,e),t}(e);if(vc.has(e))return vc.get(e);const t=kc(e);return t!==e&&(vc.set(e,t),yc.set(t,e)),t}const Ec=e=>yc.get(e);const Sc=["get","getKey","getAll","getAllKeys","count"],Cc=["put","add","delete","clear"],_c=new Map;function Ic(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(_c.get(t))return _c.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Cc.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Sc.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return _c.set(t,o),o}!function(e){bc=e(bc)}((e=>({...e,get:(t,n,r)=>Ic(t,n)||e.get(t,n,r),has:(t,n)=>!!Ic(t,n)||e.has(t,n)})));const Tc="@firebase/installations",Nc="0.6.4",Ac=1e4,Dc="w:".concat(Nc),jc="FIS_v2",Fc="https://firebaseinstallations.googleapis.com/v1",Rc=36e5,Oc=new yi("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pc(e){return e instanceof vi&&e.code.includes("request-failed")}function Lc(e){let{projectId:t}=e;return"".concat(Fc,"/projects/").concat(t,"/installations")}function Mc(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Uc(e,t){const n=(await t.json()).error;return Oc.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function zc(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Bc(e,t){let{refreshToken:n}=t;const r=zc(e);return r.append("Authorization",function(e){return"".concat(jc," ").concat(e)}(n)),r}async function Vc(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Hc(e){return new Promise((t=>{setTimeout(t,e)}))}const Wc=/^[cdef][\w-]{21}$/,qc="";function Gc(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Wc.test(t)?t:qc}catch(e){return qc}}function Kc(e){return"".concat(e.appName,"!").concat(e.appId)}const Qc=new Map;function Yc(e,t){const n=Kc(e);$c(n,t),function(e,t){const n=Jc();n&&n.postMessage({key:e,fid:t});Zc()}(n,t)}function $c(e,t){const n=Qc.get(e);if(n)for(const r of n)r(t)}let Xc=null;function Jc(){return!Xc&&"BroadcastChannel"in self&&(Xc=new BroadcastChannel("[Firebase] FID Change"),Xc.onmessage=e=>{$c(e.data.key,e.data.fid)}),Xc}function Zc(){0===Qc.size&&Xc&&(Xc.close(),Xc=null)}const eu="firebase-installations-database",tu=1,nu="firebase-installations-store";let ru=null;function iu(){return ru||(ru=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=xc(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(xc(a.result),e.oldVersion,e.newVersion,xc(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),s}(eu,tu,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(nu)}})),ru}async function ou(e,t){const n=Kc(e),r=(await iu()).transaction(nu,"readwrite"),i=r.objectStore(nu),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||Yc(e,t.fid),t}async function au(e){const t=Kc(e),n=(await iu()).transaction(nu,"readwrite");await n.objectStore(nu).delete(t),await n.done}async function su(e,t){const n=Kc(e),r=(await iu()).transaction(nu,"readwrite"),i=r.objectStore(nu),o=await i.get(n),a=t(o);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||o&&o.fid===a.fid||Yc(e,a.fid),a}async function lu(e){let t;const n=await su(e.appConfig,(n=>{const r=function(e){const t=e||{fid:Gc(),registrationStatus:0};return du(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Oc.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=Lc(n),a=zc(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:jc,appId:n.appId,sdkVersion:Dc},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await Vc((()=>fetch(o,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Mc(e.authToken)}}throw await Uc("Create Installation",u)}(e,t);return ou(e.appConfig,n)}catch(B_){throw Pc(B_)&&409===B_.customData.serverCode?await au(e.appConfig):await ou(e.appConfig,{fid:t.fid,registrationStatus:0}),B_}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:cu(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return n.fid===qc?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function cu(e){let t=await uu(e.appConfig);for(;1===t.registrationStatus;)await Hc(100),t=await uu(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await lu(e);return n||t}return t}function uu(e){return su(e,(e=>{if(!e)throw Oc.create("installation-not-found");return du(e)}))}function du(e){return 1===(t=e).registrationStatus&&t.registrationTime+Ac<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function hu(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Lc(e),"/").concat(n,"/authTokens:generate")}(n,t),o=Bc(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const s={installation:{sdkVersion:Dc,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(s)},c=await Vc((()=>fetch(i,l)));if(c.ok){return Mc(await c.json())}throw await Uc("Generate Auth Token",c)}async function fu(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await su(e.appConfig,(r=>{if(!pu(r))throw Oc.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Rc}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await mu(e.appConfig);for(;1===n.authToken.requestStatus;)await Hc(100),n=await mu(e.appConfig);const r=n.authToken;return 0===r.requestStatus?fu(e,t):r}(e,n),r;{if(!navigator.onLine)throw Oc.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await hu(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await ou(e.appConfig,r),n}catch(B_){if(!Pc(B_)||401!==B_.customData.serverCode&&404!==B_.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await ou(e.appConfig,n)}else await au(e.appConfig);throw B_}}(e,n),n}}));return t?await t:r.authToken}function mu(e){return su(e,(e=>{if(!pu(e))throw Oc.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Ac<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function pu(e){return void 0!==e&&2===e.registrationStatus}async function gu(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await lu(e);t&&await t}(n);return(await fu(n,t)).token}function vu(e){return Oc.create("missing-app-config-values",{valueName:e})}const yu="installations",bu=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw vu("App Configuration");if(!e.name)throw vu("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw vu(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:yo(t,"heartbeat"),_delete:()=>Promise.resolve()}},wu=e=>{const t=yo(e.getProvider("app").getImmediate(),yu).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await lu(t);return r?r.catch(console.error):fu(t).catch(console.error),n.fid}(t),getToken:e=>gu(t,e)}};vo(new Fi(yu,bu,"PUBLIC")),vo(new Fi("installations-internal",wu,"PRIVATE")),So(Tc,Nc),So(Tc,Nc,"esm2017");const ku="analytics",xu="firebase_id",Eu="origin",Su=6e4,Cu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_u="https://www.googletagmanager.com/gtag/js",Iu=new Hi("@firebase/analytics"),Tu=new yi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Nu(e){if(!e.startsWith(_u)){const t=Tu.create("invalid-gtag-resource",{gtagURL:e});return Iu.warn(t.message),""}return e}function Au(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function Du(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Nu}),r=document.createElement("script"),i="".concat(_u,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function ju(e,t,n,r){return async function(i){try{for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await Au(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(B_){Iu.error(B_)}}(e,t,n,r,i)}else if("config"===i){const[i,o]=a;await async function(e,t,n,r,i,o){const a=r[i];try{if(a)await t[a];else{const e=(await Au(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(B_){Iu.error(B_)}e("config",i,o)}(e,t,n,r,i,o)}else if("consent"===i){const[t]=a;e("consent","update",t)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(B_){Iu.error(B_)}}}const Fu=30;const Ru=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Ou(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Pu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ru,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Tu.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Tu.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new Mu;return setTimeout((async()=>{s.abort()}),void 0!==n?n:Su),Lu({appId:r,apiKey:i,measurementId:o},a,s,t)}async function Lu(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ru;var a;const{appId:s,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(o),r(Tu.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(B_){if(l)return Iu.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===B_||void 0===B_?void 0:B_.message,"]")),{appId:s,measurementId:l};throw B_}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Ou(r)},o=Cu.replace("{app-id}",n),a=await fetch(o,i);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(s){}throw Tu.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return o.deleteThrottleMetadata(s),t}catch(B_){const r=B_;if(!function(e){if(!(e instanceof vi)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(o.deleteThrottleMetadata(s),l)return Iu.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:s,measurementId:l};throw B_}const c=503===Number(null===(a=null===r||void 0===r?void 0:r.customData)||void 0===a?void 0:a.httpStatus)?Di(i,o.intervalMillis,Fu):Di(i,o.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return o.setThrottleMetadata(s,u),Iu.debug("Calling attemptFetch again in ".concat(c," millis")),Lu(e,u,n,o)}}class Mu{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let Uu,zu;function Bu(e){zu=e}function Vu(e){Uu=e}async function Hu(e,t,n,r,i,o,a){var s;const l=Pu(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Iu.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((e=>Iu.error(e))),t.push(l);const c=async function(){if(!pi())return Iu.warn(Tu.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await gi()}catch(B_){return Iu.warn(Tu.create("indexeddb-unavailable",{errorInfo:null===B_||void 0===B_?void 0:B_.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(_u)&&n.src.includes(e))return n;return null})(o)||Du(o,u.measurementId),zu&&(i("consent","default",zu),Bu(void 0)),i("js",new Date);const h=null!==(s=null===a||void 0===a?void 0:a.config)&&void 0!==s?s:{};return h[Eu]="firebase",h.update=!0,null!=d&&(h[xu]=d),i("config",u.measurementId,h),Uu&&(i("set",Uu),Vu(void 0)),u.measurementId}class Wu{constructor(e){this.app=e}_delete(){return delete qu[this.app.options.appId],Promise.resolve()}}let qu={},Gu=[];const Ku={};let Qu,Yu,$u="dataLayer",Xu="gtag",Ju=!1;function Zu(){const e=[];if(mi()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>"(".concat(t+1,") ").concat(e))).join(" "),n=Tu.create("invalid-analytics-context",{errorInfo:t});Iu.warn(n.message)}}function ed(e,t,n){Zu();const r=e.options.appId;if(!r)throw Tu.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Tu.create("no-api-key");Iu.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=qu[r])throw Tu.create("already-exists",{id:r});if(!Ju){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}($u);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=ju(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(qu,Gu,Ku,$u,Xu);Yu=e,Qu=t,Ju=!0}qu[r]=Hu(e,Gu,Ku,t,Qu,$u,n);return new Wu(e)}function td(e,t,n,r){e=ji(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Yu,qu[e.app.options.appId],t,n,r).catch((e=>Iu.error(e)))}const nd="@firebase/analytics",rd="0.10.0";vo(new Fi(ku,((e,t)=>{let{options:n}=t;return ed(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),vo(new Fi("analytics-internal",(function(e){try{const t=e.getProvider(ku).getImmediate();return{logEvent:(e,n,r)=>td(t,e,n,r)}}catch(B_){throw Tu.create("interop-component-reg-failed",{reason:B_})}}),"PRIVATE")),So(nd,rd),So(nd,rd,"esm2017");var id,od="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ad={},sd=sd||{},ld=od||self;function cd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ud(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var dd="closure_uid_"+(1e9*Math.random()>>>0),hd=0;function fd(e,t,n){return e.call.apply(e.bind,arguments)}function md(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function pd(e,t,n){return(pd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fd:md).apply(null,arguments)}function gd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function vd(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function yd(){this.s=this.s,this.o=this.o}yd.prototype.s=!1,yd.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,dd)&&e[dd]||(e[dd]=++hd))},yd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const bd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function wd(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function kd(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(cd(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function xd(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}xd.prototype.h=function(){this.defaultPrevented=!0};var Ed=function(){if(!ld.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};ld.addEventListener("test",e,t),ld.removeEventListener("test",e,t)}catch(n){}return e}();function Sd(e){return/^[\s\xa0]*$/.test(e)}function Cd(){var e=ld.navigator;return e&&(e=e.userAgent)?e:""}function _d(e){return-1!=Cd().indexOf(e)}function Id(e){return Id[" "](e),e}Id[" "]=function(){};var Td,Nd,Ad=_d("Opera"),Dd=_d("Trident")||_d("MSIE"),jd=_d("Edge"),Fd=jd||Dd,Rd=_d("Gecko")&&!(-1!=Cd().toLowerCase().indexOf("webkit")&&!_d("Edge"))&&!(_d("Trident")||_d("MSIE"))&&!_d("Edge"),Od=-1!=Cd().toLowerCase().indexOf("webkit")&&!_d("Edge");function Pd(){var e=ld.document;return e?e.documentMode:void 0}e:{var Ld="",Md=function(){var e=Cd();return Rd?/rv:([^\);]+)(\)|;)/.exec(e):jd?/Edge\/([\d\.]+)/.exec(e):Dd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Od?/WebKit\/(\S+)/.exec(e):Ad?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Md&&(Ld=Md?Md[1]:""),Dd){var Ud=Pd();if(null!=Ud&&Ud>parseFloat(Ld)){Td=String(Ud);break e}}Td=Ld}if(ld.document&&Dd){var zd=Pd();Nd=zd||(parseInt(Td,10)||void 0)}else Nd=void 0;var Bd=Nd;function Vd(e,t){if(xd.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Rd){e:{try{Id(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Hd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Vd.$.h.call(this)}}vd(Vd,xd);var Hd={2:"touch",3:"pen",4:"mouse"};Vd.prototype.h=function(){Vd.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Wd="closure_listenable_"+(1e6*Math.random()|0),qd=0;function Gd(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++qd,this.fa=this.ia=!1}function Kd(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Qd(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Yd(e){const t={};for(const n in e)t[n]=e[n];return t}const $d="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xd(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<$d.length;t++)n=$d[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Jd(e){this.src=e,this.g={},this.h=0}function Zd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=bd(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Kd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function eh(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Jd.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=eh(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new Gd(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var th="closure_lm_"+(1e6*Math.random()|0),nh={};function rh(e,t,n,r,i){if(r&&r.once)return oh(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)rh(e,t[o],n,r,i);return null}return n=hh(n),e&&e[Wd]?e.O(t,n,ud(r)?!!r.capture:!!r,i):ih(e,t,n,!1,r,i)}function ih(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=ud(i)?!!i.capture:!!i,s=uh(e);if(s||(e[th]=s=new Jd(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ch;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ed||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(lh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function oh(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)oh(e,t[o],n,r,i);return null}return n=hh(n),e&&e[Wd]?e.P(t,n,ud(r)?!!r.capture:!!r,i):ih(e,t,n,!0,r,i)}function ah(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ah(e,t[o],n,r,i);else r=ud(r)?!!r.capture:!!r,n=hh(n),e&&e[Wd]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=eh(o=e.g[t],n,r,i))&&(Kd(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=uh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=eh(t,n,r,i)),(n=-1<e?t[e]:null)&&sh(n))}function sh(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Wd])Zd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(lh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=uh(t))?(Zd(n,e),0==n.h&&(n.src=null,t[th]=null)):Kd(e)}}}function lh(e){return e in nh?nh[e]:nh[e]="on"+e}function ch(e,t){if(e.fa)e=!0;else{t=new Vd(t,this);var n=e.listener,r=e.la||e.src;e.ia&&sh(e),e=n.call(r,t)}return e}function uh(e){return(e=e[th])instanceof Jd?e:null}var dh="__closure_events_fn_"+(1e9*Math.random()>>>0);function hh(e){return"function"===typeof e?e:(e[dh]||(e[dh]=function(t){return e.handleEvent(t)}),e[dh])}function fh(){yd.call(this),this.i=new Jd(this),this.S=this,this.J=null}function mh(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new xd(t,e);else if(t instanceof xd)t.target=t.target||e;else{var i=t;Xd(t=new xd(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ph(a,r,!0,t)&&i}if(i=ph(a=t.g=e,r,!0,t)&&i,i=ph(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ph(a=t.g=n[o],r,!1,t)&&i}function ph(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==n){var s=a.listener,l=a.la||a.src;a.ia&&Zd(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}vd(fh,yd),fh.prototype[Wd]=!0,fh.prototype.removeEventListener=function(e,t,n,r){ah(this,e,t,n,r)},fh.prototype.N=function(){if(fh.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Kd(n[r]);delete t.g[e],t.h--}}this.J=null},fh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},fh.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var gh=ld.JSON.stringify;function vh(){var e=Sh;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var yh=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new bh),(e=>e.reset()));class bh{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function wh(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function kh(e){ld.setTimeout((()=>{throw e}),0)}let xh,Eh=!1,Sh=new class{constructor(){this.h=this.g=null}add(e,t){const n=yh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Ch=()=>{const e=ld.Promise.resolve(void 0);xh=()=>{e.then(_h)}};var _h=()=>{for(var e;e=vh();){try{e.h.call(e.g)}catch(n){kh(n)}var t=yh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Eh=!1};function Ih(e,t){fh.call(this),this.h=e||1,this.g=t||ld,this.j=pd(this.qb,this),this.l=Date.now()}function Th(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Nh(e,t,n){if("function"===typeof e)n&&(e=pd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=pd(e.handleEvent,e)}return 2147483647<Number(t)?-1:ld.setTimeout(e,t||0)}function Ah(e){e.g=Nh((()=>{e.g=null,e.i&&(e.i=!1,Ah(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}vd(Ih,fh),(id=Ih.prototype).ga=!1,id.T=null,id.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mh(this,"tick"),this.ga&&(Th(this),this.start()))}},id.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},id.N=function(){Ih.$.N.call(this),Th(this),delete this.g};class Dh extends yd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ah(this)}N(){super.N(),this.g&&(ld.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jh(e){yd.call(this),this.h=e,this.g={}}vd(jh,yd);var Fh=[];function Rh(e,t,n,r){Array.isArray(n)||(n&&(Fh[0]=n.toString()),n=Fh);for(var i=0;i<n.length;i++){var o=rh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Oh(e){Qd(e.g,(function(e,t){this.g.hasOwnProperty(t)&&sh(e)}),e),e.g={}}function Ph(){this.g=!0}function Lh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return gh(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}jh.prototype.N=function(){jh.$.N.call(this),Oh(this)},jh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ph.prototype.Ea=function(){this.g=!1},Ph.prototype.info=function(){};var Mh={},Uh=null;function zh(){return Uh=Uh||new fh}function Bh(e){xd.call(this,Mh.Ta,e)}function Vh(e){const t=zh();mh(t,new Bh(t))}function Hh(e,t){xd.call(this,Mh.STAT_EVENT,e),this.stat=t}function Wh(e){const t=zh();mh(t,new Hh(t,e))}function qh(e,t){xd.call(this,Mh.Ua,e),this.size=t}function Gh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ld.setTimeout((function(){e()}),t)}Mh.Ta="serverreachability",vd(Bh,xd),Mh.STAT_EVENT="statevent",vd(Hh,xd),Mh.Ua="timingevent",vd(qh,xd);var Kh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Qh={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Yh(){}function $h(e){return e.h||(e.h=e.i())}function Xh(){}Yh.prototype.h=null;var Jh,Zh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ef(){xd.call(this,"d")}function tf(){xd.call(this,"c")}function nf(){}function rf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new jh(this),this.P=af,e=Fd?125:void 0,this.V=new Ih(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new of}function of(){this.i=null,this.g="",this.h=!1}vd(ef,xd),vd(tf,xd),vd(nf,Yh),nf.prototype.g=function(){return new XMLHttpRequest},nf.prototype.i=function(){return{}},Jh=new nf;var af=45e3,sf={},lf={};function cf(e,t,n){e.L=1,e.A=Tf(Ef(t)),e.u=n,e.S=!0,uf(e,null)}function uf(e,t){e.G=Date.now(),mf(e),e.B=Ef(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Bf(n.i,"t",r),e.o=0,n=e.l.J,e.h=new of,e.g=Vm(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Dh(pd(e.Pa,e,e.g),e.O)),Rh(e.U,e.g,"readystatechange",e.nb),t=e.I?Yd(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Vh(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function df(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function hf(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=ff(e,n),r==lf){4==t&&(e.s=4,Wh(14),i=!1),Lh(e.j,e.m,null,"[Incomplete Response]");break}if(r==sf){e.s=4,Wh(15),Lh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Lh(e.j,e.m,r,null),bf(e,r)}df(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Wh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rm(t),t.M=!0,Wh(11))):(Lh(e.j,e.m,n,"[Invalid Chunked Response]"),yf(e),vf(e))}function ff(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?lf:(n=Number(t.substring(n,r)),isNaN(n)?sf:(r+=1)+n>t.length?lf:(t=t.slice(r,r+n),e.o=r+n,t))}function mf(e){e.Y=Date.now()+e.P,pf(e,e.P)}function pf(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Gh(pd(e.lb,e),t)}function gf(e){e.C&&(ld.clearTimeout(e.C),e.C=null)}function vf(e){0==e.l.H||e.J||Lm(e.l,e)}function yf(e){gf(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Th(e.V),Oh(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function bf(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Qf(n.i,e)))if(!e.K&&Qf(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Pm(n),_m(n)}Fm(n),Wh(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Gh(pd(n.ib,n),6e3));if(1>=Kf(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Um(n,11)}else if((e.K||n.g==e)&&Pm(n),!Sd(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Yf(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,If(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=Bm(r,r.J?r.pa:null,r.Y),a.K){$f(r.i,a);var s=a,l=r.L;l&&s.setTimeout(l),s.C&&(gf(s),mf(s)),r.g=a}else jm(r);0<n.j.length&&Tm(n)}else"stop"!=c[0]&&"close"!=c[0]||Um(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Um(n,7):Cm(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Vh()}catch(c){}}function wf(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(cd(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(cd(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(cd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(id=rf.prototype).setTimeout=function(e){this.P=e},id.nb=function(e){e=e.target;const t=this.M;t&&3==bm(e)?t.l():this.Pa(e)},id.Pa=function(e){try{if(e==this.g)e:{const u=bm(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Fd||this.g&&(this.h.h||this.g.ja()||wm(this.g)))){this.J||4!=u||7==t||Vh(),gf(this);var n=this.g.da();this.ca=n;t:if(df(this)){var r=wm(this.g);e="";var i=r.length,o=4==bm(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){yf(this),vf(this);var a="";break t}this.h.i=new ld.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sd(s)){var c=s;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,Wh(12),yf(this),vf(this);break e}Lh(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bf(this,n)}this.S?(hf(this,u,a),Fd&&this.i&&3==u&&(Rh(this.U,this.V,"tick",this.mb),this.V.start())):(Lh(this.j,this.m,a,null),bf(this,a)),4==u&&yf(this),this.i&&!this.J&&(4==u?Lm(this.l,this):(this.i=!1,mf(this)))}else(function(e){const t={};e=(e.g&&2<=bm(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Sd(e[r]))continue;var n=wh(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Wh(12)):(this.s=0,Wh(13)),yf(this),vf(this)}}}catch(u){}},id.mb=function(){if(this.g){var e=bm(this.g),t=this.g.ja();this.o<t.length&&(gf(this),hf(this,e,t),this.i&&4!=e&&mf(this))}},id.cancel=function(){this.J=!0,yf(this)},id.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Vh(),Wh(17)),yf(this),this.s=2,vf(this)):pf(this,this.Y-e)};var kf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xf(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof xf){this.h=e.h,Sf(this,e.j),this.s=e.s,this.g=e.g,Cf(this,e.m),this.l=e.l;var t=e.i,n=new Lf;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),_f(this,n),this.o=e.o}else e&&(t=String(e).match(kf))?(this.h=!1,Sf(this,t[1]||"",!0),this.s=Nf(t[2]||""),this.g=Nf(t[3]||"",!0),Cf(this,t[4]),this.l=Nf(t[5]||"",!0),_f(this,t[6]||"",!0),this.o=Nf(t[7]||"")):(this.h=!1,this.i=new Lf(null,this.h))}function Ef(e){return new xf(e)}function Sf(e,t,n){e.j=n?Nf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Cf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function _f(e,t,n){t instanceof Lf?(e.i=t,function(e,t){t&&!e.j&&(Mf(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Uf(this,t),Bf(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Af(t,Of)),e.i=new Lf(t,e.h))}function If(e,t,n){e.i.set(t,n)}function Tf(e){return If(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Nf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Af(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Df),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Df(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}xf.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Af(t,jf,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Af(t,jf,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Af(n,"/"==n.charAt(0)?Rf:Ff,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Af(n,Pf)),e.join("")};var jf=/[#\/\?@]/g,Ff=/[#\?:]/g,Rf=/[#\?]/g,Of=/[#\?@]/g,Pf=/#/g;function Lf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Mf(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Uf(e,t){Mf(e),t=Vf(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function zf(e,t){return Mf(e),t=Vf(e,t),e.g.has(t)}function Bf(e,t,n){Uf(e,t),0<n.length&&(e.i=null,e.g.set(Vf(e,t),wd(n)),e.h+=n.length)}function Vf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(id=Lf.prototype).add=function(e,t){Mf(this),this.i=null,e=Vf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},id.forEach=function(e,t){Mf(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},id.ta=function(){Mf(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},id.Z=function(e){Mf(this);let t=[];if("string"===typeof e)zf(this,e)&&(t=t.concat(this.g.get(Vf(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},id.set=function(e,t){return Mf(this),this.i=null,zf(this,e=Vf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},id.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},id.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var Hf=class{constructor(e,t){this.g=e,this.map=t}};function Wf(e){this.l=e||qf,ld.PerformanceNavigationTiming?e=0<(e=ld.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ld.g&&ld.g.Ka&&ld.g.Ka()&&ld.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var qf=10;function Gf(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Kf(e){return e.h?1:e.g?e.g.size:0}function Qf(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Yf(e,t){e.g?e.g.add(t):e.h=t}function $f(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Xf(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return wd(e.i)}Wf.prototype.cancel=function(){if(this.i=Xf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Jf,Zf=class{stringify(e){return ld.JSON.stringify(e,void 0)}parse(e){return ld.JSON.parse(e,void 0)}};function em(){this.g=new Zf}function tm(e,t,n){const r=n||"";try{wf(e,(function(e,n){let i=e;ud(e)&&(i=gh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(B_){throw t.push(r+"type="+encodeURIComponent("_badmap")),B_}}function nm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function rm(e){this.l=e.ec||null,this.j=e.ob||!1}function im(e,t){fh.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=om,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vd(rm,Yh),rm.prototype.g=function(){return new im(this.l,this.j)},rm.prototype.i=(Jf={},function(){return Jf}),vd(im,fh);var om=0;function am(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function sm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,lm(e)}function lm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(id=im.prototype).open=function(e,t){if(this.readyState!=om)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,lm(this)},id.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ld).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},id.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sm(this)),this.readyState=om},id.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,lm(this)),this.g&&(this.readyState=3,lm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof ld.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;am(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},id.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?sm(this):lm(this),3==this.readyState&&am(this)}},id.Za=function(e){this.g&&(this.response=this.responseText=e,sm(this))},id.Ya=function(e){this.g&&(this.response=e,sm(this))},id.ka=function(){this.g&&sm(this)},id.setRequestHeader=function(e,t){this.v.append(e,t)},id.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},id.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(im.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var cm=ld.JSON.parse;function um(e){fh.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dm,this.L=this.M=!1}vd(um,fh);var dm="",hm=/^https?$/i,fm=["POST","PUT"];function mm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,pm(e),vm(e)}function pm(e){e.F||(e.F=!0,mh(e,"complete"),mh(e,"error"))}function gm(e){if(e.h&&"undefined"!=typeof sd&&(!e.C[1]||4!=bm(e)||2!=e.da()))if(e.v&&4==bm(e))Nh(e.La,0,e);else if(mh(e,"readystatechange"),4==bm(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.I).match(kf)[1]||null;!i&&ld.self&&ld.self.location&&(i=ld.self.location.protocol.slice(0,-1)),r=!hm.test(i?i.toLowerCase():"")}n=r}if(n)mh(e,"complete"),mh(e,"success");else{e.m=6;try{var o=2<bm(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.da()+"]",pm(e)}}finally{vm(e)}}}function vm(e,t){if(e.g){ym(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||mh(e,"ready");try{n.onreadystatechange=r}catch(B_){}}}function ym(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ld.clearTimeout(e.A),e.A=null)}function bm(e){return e.g?e.g.readyState:0}function wm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case dm:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ip){return null}}function km(e){let t="";return Qd(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function xm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=km(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):If(e,t,n))}function Em(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Sm(e){this.Ga=0,this.j=[],this.l=new Ph,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Em("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Em("baseRetryDelayMs",5e3,e),this.hb=Em("retryDelaySeedMs",1e4,e),this.eb=Em("forwardChannelMaxRetries",2,e),this.xa=Em("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Wf(e&&e.concurrentRequestLimit),this.Ja=new em,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Cm(e){if(Im(e),3==e.H){var t=e.W++,n=Ef(e.I);if(If(n,"SID",e.K),If(n,"RID",t),If(n,"TYPE","terminate"),Am(e,n),(t=new rf(e,e.l,t)).L=2,t.A=Tf(Ef(n)),n=!1,ld.navigator&&ld.navigator.sendBeacon)try{n=ld.navigator.sendBeacon(t.A.toString(),"")}catch(Dt){}!n&&ld.Image&&((new Image).src=t.A,n=!0),n||(t.g=Vm(t.l,null),t.g.ha(t.A)),t.G=Date.now(),mf(t)}zm(e)}function _m(e){e.g&&(Rm(e),e.g.cancel(),e.g=null)}function Im(e){_m(e),e.u&&(ld.clearTimeout(e.u),e.u=null),Pm(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ld.clearTimeout(e.m),e.m=null)}function Tm(e){if(!Gf(e.i)&&!e.m){e.m=!0;var t=e.Na;xh||Ch(),Eh||(xh(),Eh=!0),Sh.add(t,e),e.C=0}}function Nm(e,t){var n;n=t?t.m:e.W++;const r=Ef(e.I);If(r,"SID",e.K),If(r,"RID",n),If(r,"AID",e.V),Am(e,r),e.o&&e.s&&xm(r,e.o,e.s),n=new rf(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Dm(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Yf(e.i,n),cf(n,r,t)}function Am(e,t){e.na&&Qd(e.na,(function(e,n){If(t,n,e)})),e.h&&wf({},(function(e,n){If(t,n,e)}))}function Dm(e,t,n){n=Math.min(e.j.length,n);var r=e.h?pd(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),a=!1;else try{tm(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function jm(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;xh||Ch(),Eh||(xh(),Eh=!0),Sh.add(t,e),e.A=0}}function Fm(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Gh(pd(e.Ma,e),Mm(e,e.A)),e.A++,!0)}function Rm(e){null!=e.B&&(ld.clearTimeout(e.B),e.B=null)}function Om(e){e.g=new rf(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Ef(e.wa);If(t,"RID","rpc"),If(t,"SID",e.K),If(t,"AID",e.V),If(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&If(t,"TO",e.qa),If(t,"TYPE","xmlhttp"),Am(e,t),e.o&&e.s&&xm(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Tf(Ef(t)),n.u=null,n.S=!0,uf(n,e)}function Pm(e){null!=e.v&&(ld.clearTimeout(e.v),e.v=null)}function Lm(e,t){var n=null;if(e.g==t){Pm(e),Rm(e),e.g=null;var r=2}else{if(!Qf(e.i,t))return;n=t.F,$f(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;mh(r=zh(),new qh(r,n)),Tm(e)}else jm(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Kf(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Gh(pd(e.Na,e,t),Mm(e,e.C)),e.C++,!0))}(e,t)||2==r&&Fm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Um(e,5);break;case 4:Um(e,10);break;case 3:Um(e,6);break;default:Um(e,2)}}function Mm(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Um(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=pd(e.pb,e);n||(n=new xf("//www.google.com/images/cleardot.gif"),ld.location&&"http"==ld.location.protocol||Sf(n,"https"),Tf(n)),function(e,t){const n=new Ph;if(ld.Image){const r=new Image;r.onload=gd(nm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=gd(nm,n,r,"TestLoadImage: error",!1,t),r.onabort=gd(nm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=gd(nm,n,r,"TestLoadImage: timeout",!1,t),ld.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Wh(2);e.H=0,e.h&&e.h.za(t),zm(e),Im(e)}function zm(e){if(e.H=0,e.ma=[],e.h){const t=Xf(e.i);0==t.length&&0==e.j.length||(kd(e.ma,t),kd(e.ma,e.j),e.i.i.length=0,wd(e.j),e.j.length=0),e.h.ya()}}function Bm(e,t,n){var r=n instanceof xf?Ef(n):new xf(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Cf(r,r.m);else{var i=ld.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new xf(null);r&&Sf(o,r),t&&(o.g=t),i&&Cf(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&If(r,n,t),If(r,"VER",e.ra),Am(e,r),r}function Vm(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new um(new rm({ob:n})):new um(e.va)).Oa(e.J),t}function Hm(){}function Wm(){if(Dd&&!(10<=Number(Bd)))throw Error("Environmental error: no available transport.")}function qm(e,t){fh.call(this),this.g=new Sm(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Sd(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Sd(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Qm(this)}function Gm(e){ef.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Km(){tf.call(this),this.status=1}function Qm(e){this.g=e}function Ym(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function $m(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Xm(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(id=um.prototype).Oa=function(e){this.M=e},id.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Jh.g(),this.C=this.u?$h(this.u):$h(Jh),this.g.onreadystatechange=pd(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void mm(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=ld.FormData&&e instanceof ld.FormData,!(0<=bd(fm,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,s]of n)this.g.setRequestHeader(a,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ym(this),0<this.B&&((this.L=function(e){return Dd&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pd(this.ua,this)):this.A=Nh(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){mm(this,o)}},id.ua=function(){"undefined"!=typeof sd&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mh(this,"timeout"),this.abort(8))},id.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,mh(this,"complete"),mh(this,"abort"),vm(this))},id.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vm(this,!0)),um.$.N.call(this)},id.La=function(){this.s||(this.G||this.v||this.l?gm(this):this.kb())},id.kb=function(){gm(this)},id.isActive=function(){return!!this.g},id.da=function(){try{return 2<bm(this)?this.g.status:-1}catch(Jf){return-1}},id.ja=function(){try{return this.g?this.g.responseText:""}catch(Jf){return""}},id.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),cm(t)}},id.Ia=function(){return this.m},id.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(id=Sm.prototype).ra=8,id.H=1,id.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new rf(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Yd(o),Xd(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Dm(this,i,t),If(n=Ef(this.I),"RID",e),If(n,"CVER",22),this.F&&If(n,"X-HTTP-Session-Id",this.F),Am(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(km(o)))+"&"+t:this.o&&xm(n,this.o,o)),Yf(this.i,i),this.bb&&If(n,"TYPE","init"),this.P?(If(n,"$req",t),If(n,"SID","null"),i.aa=!0,cf(i,n,null)):cf(i,n,t),this.H=2}}else 3==this.H&&(e?Nm(this,e):0==this.j.length||Gf(this.i)||Nm(this))},id.Ma=function(){if(this.u=null,Om(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Gh(pd(this.jb,this),e)}},id.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Wh(10),_m(this),Om(this))},id.ib=function(){null!=this.v&&(this.v=null,_m(this),Fm(this),Wh(19))},id.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Wh(2)):(this.l.info("Failed to ping google.com"),Wh(1))},id.isActive=function(){return!!this.h&&this.h.isActive(this)},(id=Hm.prototype).Ba=function(){},id.Aa=function(){},id.za=function(){},id.ya=function(){},id.isActive=function(){return!0},id.Va=function(){},Wm.prototype.g=function(e,t){return new qm(e,t)},vd(qm,fh),qm.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Wh(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Bm(e,null,e.Y),Tm(e)},qm.prototype.close=function(){Cm(this.g)},qm.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=gh(e),e=n);t.j.push(new Hf(t.fb++,e)),3==t.H&&Tm(t)},qm.prototype.N=function(){this.g.h=null,delete this.j,Cm(this.g),delete this.g,qm.$.N.call(this)},vd(Gm,ef),vd(Km,tf),vd(Qm,Hm),Qm.prototype.Ba=function(){mh(this.g,"a")},Qm.prototype.Aa=function(e){mh(this.g,new Gm(e))},Qm.prototype.za=function(e){mh(this.g,new Km)},Qm.prototype.ya=function(){mh(this.g,"b")},vd(Ym,(function(){this.blockSize=-1})),Ym.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ym.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)$m(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){$m(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){$m(this,r),i=0;break}}this.h=i,this.i+=t},Ym.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Jm={};function Zm(e){return-128<=e&&128>e?function(e,t){var n=Jm;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Xm([0|e],0>e?-1:0)})):new Xm([0|e],0>e?-1:0)}function ep(e){if(isNaN(e)||!isFinite(e))return np;if(0>e)return sp(ep(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=tp;return new Xm(t,0)}var tp=4294967296,np=Zm(0),rp=Zm(1),ip=Zm(16777216);function op(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function ap(e){return-1==e.h}function sp(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Xm(n,~e.h).add(rp)}function lp(e,t){return e.add(sp(t))}function cp(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function up(e,t){this.g=e,this.h=t}function dp(e,t){if(op(t))throw Error("division by zero");if(op(e))return new up(np,np);if(ap(e))return t=dp(sp(e),t),new up(sp(t.g),sp(t.h));if(ap(t))return t=dp(e,sp(t)),new up(sp(t.g),t.h);if(30<e.g.length){if(ap(e)||ap(t))throw Error("slowDivide_ only works with positive integers.");for(var n=rp,r=t;0>=r.X(e);)n=hp(n),r=hp(r);var i=fp(n,1),o=fp(r,1);for(r=fp(r,2),n=fp(n,2);!op(r);){var a=o.add(r);0>=a.X(e)&&(i=i.add(n),o=a),r=fp(r,1),n=fp(n,1)}return t=lp(e,i.R(t)),new up(i,t)}for(i=np;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(o=ep(n)).R(t);ap(a)||0<a.X(e);)a=(o=ep(n-=r)).R(t);op(o)&&(o=rp),i=i.add(o),e=lp(e,a)}return new up(i,e)}function hp(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Xm(n,e.h)}function fp(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Xm(i,e.h)}(id=Xm.prototype).ea=function(){if(ap(this))return-sp(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:tp+r)*t,t*=tp}return e},id.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(op(this))return"0";if(ap(this))return"-"+sp(this).toString(e);for(var t=ep(Math.pow(e,6)),n=this,r="";;){var i=dp(n,t).g,o=((0<(n=lp(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(op(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},id.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},id.X=function(e){return ap(e=lp(this,e))?-1:op(e)?0:1},id.abs=function(){return ap(this)?sp(this):this},id.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),a=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new Xm(n,-2147483648&n[n.length-1]?-1:0)},id.R=function(e){if(op(this)||op(e))return np;if(ap(this))return ap(e)?sp(this).R(sp(e)):sp(sp(this).R(e));if(ap(e))return sp(this.R(sp(e)));if(0>this.X(ip)&&0>e.X(ip))return ep(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,a=65535&this.D(r),s=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,cp(n,2*r+2*i),n[2*r+2*i+1]+=o*l,cp(n,2*r+2*i+1),n[2*r+2*i+1]+=a*s,cp(n,2*r+2*i+1),n[2*r+2*i+2]+=o*s,cp(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Xm(n,0)},id.gb=function(e){return dp(this,e).h},id.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Xm(n,this.h&e.h)},id.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Xm(n,this.h|e.h)},id.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Xm(n,this.h^e.h)},Wm.prototype.createWebChannel=Wm.prototype.g,qm.prototype.send=qm.prototype.u,qm.prototype.open=qm.prototype.m,qm.prototype.close=qm.prototype.close,Kh.NO_ERROR=0,Kh.TIMEOUT=8,Kh.HTTP_ERROR=6,Qh.COMPLETE="complete",Xh.EventType=Zh,Zh.OPEN="a",Zh.CLOSE="b",Zh.ERROR="c",Zh.MESSAGE="d",fh.prototype.listen=fh.prototype.O,um.prototype.listenOnce=um.prototype.P,um.prototype.getLastError=um.prototype.Sa,um.prototype.getLastErrorCode=um.prototype.Ia,um.prototype.getStatus=um.prototype.da,um.prototype.getResponseJson=um.prototype.Wa,um.prototype.getResponseText=um.prototype.ja,um.prototype.send=um.prototype.ha,um.prototype.setWithCredentials=um.prototype.Oa,Ym.prototype.digest=Ym.prototype.l,Ym.prototype.reset=Ym.prototype.reset,Ym.prototype.update=Ym.prototype.j,Xm.prototype.add=Xm.prototype.add,Xm.prototype.multiply=Xm.prototype.R,Xm.prototype.modulo=Xm.prototype.gb,Xm.prototype.compare=Xm.prototype.X,Xm.prototype.toNumber=Xm.prototype.ea,Xm.prototype.toString=Xm.prototype.toString,Xm.prototype.getBits=Xm.prototype.D,Xm.fromNumber=ep,Xm.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return sp(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=ep(Math.pow(n,8)),i=np,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),n);8>a?(a=ep(Math.pow(n,a)),i=i.R(a).add(ep(s))):i=(i=i.R(r)).add(ep(s))}return i};var mp=ad.createWebChannelTransport=function(){return new Wm},pp=ad.getStatEventTarget=function(){return zh()},gp=ad.ErrorCode=Kh,vp=ad.EventType=Qh,yp=ad.Event=Mh,bp=ad.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wp=(ad.FetchXmlHttpFactory=rm,ad.WebChannel=Xh),kp=ad.XhrIo=um,xp=ad.Md5=Ym,Ep=ad.Integer=Xm;const Sp="@firebase/firestore";class Cp{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cp.UNAUTHENTICATED=new Cp(null),Cp.GOOGLE_CREDENTIALS=new Cp("google-credentials-uid"),Cp.FIRST_PARTY=new Cp("first-party-uid"),Cp.MOCK_USER=new Cp("mock-user");let _p="10.7.0";const Ip=new Hi("@firebase/firestore");function Tp(){return Ip.logLevel}function Np(e){if(Ip.logLevel<=Mi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(jp);Ip.debug("Firestore (".concat(_p,"): ").concat(e),...i)}}function Ap(e){if(Ip.logLevel<=Mi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(jp);Ip.error("Firestore (".concat(_p,"): ").concat(e),...i)}}function Dp(e){if(Ip.logLevel<=Mi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(jp);Ip.warn("Firestore (".concat(_p,"): ").concat(e),...i)}}function jp(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Fp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(_p,") INTERNAL ASSERTION FAILED: ")+e;throw Ap(t),new Error(t)}function Rp(e,t){e||Fp()}function Op(e,t){return e}const Pp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Lp extends vi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Mp{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Up{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class zp{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Cp.UNAUTHENTICATED)))}shutdown(){}}class Bp{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Vp{constructor(e){this.t=e,this.currentUser=Cp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Mp;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Mp,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Np("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Np("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Mp)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Np("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Rp("string"==typeof t.accessToken),new Up(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rp(null===e||"string"==typeof e),new Cp(e)}}class Hp{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Cp.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Wp{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Hp(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Cp.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gp{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Np("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Np("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Np("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Np("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Rp("string"==typeof e.token),this.R=e.token,new qp(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Kp(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Qp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Kp(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Yp(e,t){return e<t?-1:e>t?1:0}function $p(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Xp{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Lp(Pp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Lp(Pp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Lp(Pp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Lp(Pp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xp.fromMillis(Date.now())}static fromDate(e){return Xp.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Xp(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yp(this.nanoseconds,e.nanoseconds):Yp(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Jp{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Jp(e)}static min(){return new Jp(new Xp(0,0))}static max(){return new Jp(new Xp(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Zp{constructor(e,t,n){void 0===t?t=0:t>e.length&&Fp(),void 0===n?n=e.length-t:n>e.length-t&&Fp(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Zp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zp?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class eg extends Zp{construct(e,t,n){return new eg(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Lp(Pp.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new eg(e)}static emptyPath(){return new eg([])}}const tg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ng extends Zp{construct(e,t,n){return new ng(e,t,n)}static isValidIdentifier(e){return tg.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ng.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ng(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Lp(Pp.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Lp(Pp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Lp(Pp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Lp(Pp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ng(t)}static emptyPath(){return new ng([])}}class rg{constructor(e){this.path=e}static fromPath(e){return new rg(eg.fromString(e))}static fromName(e){return new rg(eg.fromString(e).popFirst(5))}static empty(){return new rg(eg.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===eg.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return eg.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rg(new eg(e.slice()))}}class ig{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ig.UNKNOWN_ID=-1;function og(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Jp.fromTimestamp(1e9===r?new Xp(n+1,0):new Xp(n,r));return new sg(i,rg.empty(),t)}function ag(e){return new sg(e.readTime,e.key,-1)}class sg{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new sg(Jp.min(),rg.empty(),-1)}static max(){return new sg(Jp.max(),rg.empty(),-1)}}function lg(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=rg.comparator(e.documentKey,t.documentKey),0!==n?n:Yp(e.largestBatchId,t.largestBatchId))}const cg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ug{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function dg(e){if(e.code!==Pp.FAILED_PRECONDITION||e.message!==cg)throw e;Np("LocalStore","Unexpectedly lost primary lease")}class hg{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fp(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new hg(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof hg?t:hg.resolve(t)}catch(e){return hg.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):hg.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):hg.reject(t)}static resolve(e){return new hg(((t,n)=>{t(e)}))}static reject(e){return new hg(((t,n)=>{n(e)}))}static waitFor(e){return new hg(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=hg.resolve(!1);for(const n of e)t=t.next((e=>e?hg.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new hg(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{o[l]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new hg(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function fg(e){return"IndexedDbTransactionError"===e.name}class mg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function pg(e){return null==e}function gg(e){return 0===e&&1/e==-1/0}function vg(e){return"number"==typeof e&&Number.isInteger(e)&&!gg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}mg._e=-1;const yg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],bg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wg=bg;function kg(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xg(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Eg(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Sg{constructor(e,t){this.comparator=e,this.root=t||_g.EMPTY}insert(e,t){return new Sg(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_g.BLACK,null,null))}remove(e){return new Sg(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_g.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cg(this.root,e,this.comparator,!0)}}class Cg{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _g{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:_g.RED,this.left=null!=r?r:_g.EMPTY,this.right=null!=i?i:_g.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new _g(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _g.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return _g.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_g.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_g.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fp();if(this.right.isRed())throw Fp();const e=this.left.check();if(e!==this.right.check())throw Fp();return e+(this.isRed()?0:1)}}_g.EMPTY=null,_g.RED=!0,_g.BLACK=!1,_g.EMPTY=new class{constructor(){this.size=0}get key(){throw Fp()}get value(){throw Fp()}get color(){throw Fp()}get left(){throw Fp()}get right(){throw Fp()}copy(e,t,n,r,i){return this}insert(e,t,n){return new _g(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ig{constructor(e){this.comparator=e,this.data=new Sg(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Tg(this.data.getIterator())}getIteratorFrom(e){return new Tg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ig))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ig(this.comparator);return t.data=e,t}}class Tg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ng{constructor(e){this.fields=e,e.sort(ng.comparator)}static empty(){return new Ng([])}unionWith(e){let t=new Ig(ng.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ng(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $p(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Ag extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Dg{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ag("Invalid base64 string: "+e):e}}(e);return new Dg(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Dg(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yp(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dg.EMPTY_BYTE_STRING=new Dg("");const jg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fg(e){if(Rp(!!e),"string"==typeof e){let t=0;const n=jg.exec(e);if(Rp(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Rg(e.seconds),nanos:Rg(e.nanos)}}function Rg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Og(e){return"string"==typeof e?Dg.fromBase64String(e):Dg.fromUint8Array(e)}function Pg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Lg(e){const t=e.mapValue.fields.__previous_value__;return Pg(t)?Lg(t):t}function Mg(e){const t=Fg(e.mapValue.fields.__local_write_time__.timestampValue);return new Xp(t.seconds,t.nanos)}class Ug{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class zg{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new zg("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zg&&e.projectId===this.projectId&&e.database===this.database}}const Bg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Pg(e)?4:nv(e)?9007199254740991:10:Fp()}function Hg(e,t){if(e===t)return!0;const n=Vg(e);if(n!==Vg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Mg(e).isEqual(Mg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Fg(e.timestampValue),r=Fg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Og(e.bytesValue).isEqual(Og(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Rg(e.geoPointValue.latitude)===Rg(t.geoPointValue.latitude)&&Rg(e.geoPointValue.longitude)===Rg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Rg(e.integerValue)===Rg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Rg(e.doubleValue),r=Rg(t.doubleValue);return n===r?gg(n)===gg(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $p(e.arrayValue.values||[],t.arrayValue.values||[],Hg);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(kg(n)!==kg(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Hg(n[i],r[i])))return!1;return!0}(e,t);default:return Fp()}}function Wg(e,t){return void 0!==(e.values||[]).find((e=>Hg(e,t)))}function qg(e,t){if(e===t)return 0;const n=Vg(e),r=Vg(t);if(n!==r)return Yp(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yp(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Rg(e.integerValue||e.doubleValue),r=Rg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Gg(e.timestampValue,t.timestampValue);case 4:return Gg(Mg(e),Mg(t));case 5:return Yp(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Og(e),r=Og(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Yp(n[i],r[i]);if(0!==e)return e}return Yp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Yp(Rg(e.latitude),Rg(t.latitude));return 0!==n?n:Yp(Rg(e.longitude),Rg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=qg(n[i],r[i]);if(e)return e}return Yp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Bg.mapValue&&t===Bg.mapValue)return 0;if(e===Bg.mapValue)return 1;if(t===Bg.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=Yp(r[a],o[a]);if(0!==e)return e;const t=qg(n[r[a]],i[o[a]]);if(0!==t)return t}return Yp(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Fp()}}function Gg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Yp(e,t);const n=Fg(e),r=Fg(t),i=Yp(n.seconds,r.seconds);return 0!==i?i:Yp(n.nanos,r.nanos)}function Kg(e){return Qg(e)}function Qg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Fg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Og(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return rg.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Qg(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Qg(e.fields[i]));return n+"}"}(e.mapValue):Fp()}function Yg(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function $g(e){return!!e&&"integerValue"in e}function Xg(e){return!!e&&"arrayValue"in e}function Jg(e){return!!e&&"nullValue"in e}function Zg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ev(e){return!!e&&"mapValue"in e}function tv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return xg(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=tv(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=tv(e.arrayValue.values[n]);return t}return Object.assign({},e)}function nv(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class rv{constructor(e){this.value=e}static empty(){return new rv({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ev(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tv(t)}setAll(e){let t=ng.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=tv(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ev(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hg(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ev(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){xg(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new rv(tv(this.value))}}function iv(e){const t=[];return xg(e.fields,((e,n)=>{const r=new ng([e]);if(ev(n)){const e=iv(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ng(t)}class ov{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ov(e,0,Jp.min(),Jp.min(),Jp.min(),rv.empty(),0)}static newFoundDocument(e,t,n,r){return new ov(e,1,t,Jp.min(),n,r,0)}static newNoDocument(e,t){return new ov(e,2,t,Jp.min(),Jp.min(),rv.empty(),0)}static newUnknownDocument(e,t){return new ov(e,3,t,Jp.min(),Jp.min(),rv.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Jp.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rv.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rv.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jp.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ov&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ov(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class av{constructor(e,t){this.position=e,this.inclusive=t}}function sv(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?rg.comparator(rg.fromName(a.referenceValue),n.key):qg(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function lv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Hg(e.position[n],t.position[n]))return!1;return!0}class cv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function uv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class dv{}class hv extends dv{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new wv(e,t,n):"array-contains"===t?new Sv(e,n):"in"===t?new Cv(e,n):"not-in"===t?new _v(e,n):"array-contains-any"===t?new Iv(e,n):new hv(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new kv(e,n):new xv(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(qg(t,this.value)):null!==t&&Vg(this.value)===Vg(t)&&this.matchesComparison(qg(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Fp()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fv extends dv{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new fv(e,t)}matches(e){return mv(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function mv(e){return"and"===e.op}function pv(e){return gv(e)&&mv(e)}function gv(e){for(const t of e.filters)if(t instanceof fv)return!1;return!0}function vv(e){if(e instanceof hv)return e.field.canonicalString()+e.op.toString()+Kg(e.value);if(pv(e))return e.filters.map((e=>vv(e))).join(",");{const t=e.filters.map((e=>vv(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function yv(e,t){return e instanceof hv?function(e,t){return t instanceof hv&&e.op===t.op&&e.field.isEqual(t.field)&&Hg(e.value,t.value)}(e,t):e instanceof fv?function(e,t){return t instanceof fv&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&yv(n,t.filters[r])),!0)}(e,t):void Fp()}function bv(e){return e instanceof hv?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Kg(e.value))}(e):e instanceof fv?function(e){return e.op.toString()+" {"+e.getFilters().map(bv).join(" ,")+"}"}(e):"Filter"}class wv extends hv{constructor(e,t,n){super(e,t,n),this.key=rg.fromName(n.referenceValue)}matches(e){const t=rg.comparator(e.key,this.key);return this.matchesComparison(t)}}class kv extends hv{constructor(e,t){super(e,"in",t),this.keys=Ev("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class xv extends hv{constructor(e,t){super(e,"not-in",t),this.keys=Ev("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ev(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>rg.fromName(e.referenceValue)))}class Sv extends hv{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xg(t)&&Wg(t.arrayValue,this.value)}}class Cv extends hv{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wg(this.value.arrayValue,t)}}class _v extends hv{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Wg(this.value.arrayValue,t)}}class Iv extends hv{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Wg(this.value.arrayValue,e)))}}class Tv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function Nv(e){return new Tv(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Av(e){const t=Op(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>vv(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),pg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Kg(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Kg(e))).join(",")),t.ce=e}return t.ce}function Dv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!uv(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!yv(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!lv(e.startAt,t.startAt)&&lv(e.endAt,t.endAt)}function jv(e){return rg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Fv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Rv(e,t,n,r,i,o,a,s){return new Fv(e,t,n,r,i,o,a,s)}function Ov(e){return new Fv(e)}function Pv(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Lv(e){return null!==e.collectionGroup}function Mv(e){const t=Op(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ig(ng.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new cv(r,n))})),e.has(ng.keyField().canonicalString())||t.le.push(new cv(ng.keyField(),n))}return t.le}function Uv(e){const t=Op(e);return t.he||(t.he=zv(t,Mv(e))),t.he}function zv(e,t){if("F"===e.limitType)return Nv(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new cv(e.field,t)}));const n=e.endAt?new av(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new av(e.startAt.position,e.startAt.inclusive):null;return Nv(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Bv(e,t){const n=e.filters.concat([t]);return new Fv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Vv(e,t,n){return new Fv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hv(e,t){return Dv(Uv(e),Uv(t))&&e.limitType===t.limitType}function Wv(e){return"".concat(Av(Uv(e)),"|lt:").concat(e.limitType)}function qv(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>bv(e))).join(", "),"]")),pg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Kg(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Kg(e))).join(",")),"Target(".concat(t,")")}(Uv(e)),"; limitType=").concat(e.limitType,")")}function Gv(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):rg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Mv(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=sv(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Mv(e),t))&&!(e.endAt&&!function(e,t,n){const r=sv(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Mv(e),t))}(e,t)}function Kv(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Qv(e){return(t,n)=>{let r=!1;for(const i of Mv(e)){const e=Yv(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Yv(e,t,n){const r=e.field.isKeyField()?rg.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?qg(r,i):Fp()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Fp()}}class $v{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){xg(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Eg(this.inner)}size(){return this.innerSize}}const Xv=new Sg(rg.comparator);function Jv(){return Xv}const Zv=new Sg(rg.comparator);function ey(){let e=Zv;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function ty(e){let t=Zv;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function ny(){return iy()}function ry(){return iy()}function iy(){return new $v((e=>e.toString()),((e,t)=>e.isEqual(t)))}const oy=new Sg(rg.comparator),ay=new Ig(rg.comparator);function sy(){let e=ay;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ly=new Ig(Yp);function cy(){return ly}function uy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gg(t)?"-0":t}}function dy(e){return{integerValue:""+e}}function hy(e,t){return vg(t)?dy(t):uy(e,t)}class fy{constructor(){this._=void 0}}function my(e,t,n){return e instanceof vy?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Pg(t)&&(t=Lg(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof yy?by(e,t):e instanceof wy?ky(e,t):function(e,t){const n=gy(e,t),r=Ey(n)+Ey(e.Ie);return $g(n)&&$g(e.Ie)?dy(r):uy(e.serializer,r)}(e,t)}function py(e,t,n){return e instanceof yy?by(e,t):e instanceof wy?ky(e,t):n}function gy(e,t){return e instanceof xy?function(e){return $g(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class vy extends fy{}class yy extends fy{constructor(e){super(),this.elements=e}}function by(e,t){const n=Sy(t);for(const r of e.elements)n.some((e=>Hg(e,r)))||n.push(r);return{arrayValue:{values:n}}}class wy extends fy{constructor(e){super(),this.elements=e}}function ky(e,t){let n=Sy(t);for(const r of e.elements)n=n.filter((e=>!Hg(e,r)));return{arrayValue:{values:n}}}class xy extends fy{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Ey(e){return Rg(e.integerValue||e.doubleValue)}function Sy(e){return Xg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Cy{constructor(e,t){this.version=e,this.transformResults=t}}class _y{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _y}static exists(e){return new _y(void 0,e)}static updateTime(e){return new _y(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Iy(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ty{}function Ny(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Uy(e.key,_y.none()):new Ry(e.key,e.data,_y.none());{const n=e.data,r=rv.empty();let i=new Ig(ng.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Oy(e.key,r,new Ng(i.toArray()),_y.none())}}function Ay(e,t,n){e instanceof Ry?function(e,t,n){const r=e.value.clone(),i=Ly(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Oy?function(e,t,n){if(!Iy(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ly(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Py(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Dy(e,t,n,r){return e instanceof Ry?function(e,t,n,r){if(!Iy(e.precondition,t))return n;const i=e.value.clone(),o=My(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Oy?function(e,t,n,r){if(!Iy(e.precondition,t))return n;const i=My(e.fieldTransforms,r,t),o=t.data;return o.setAll(Py(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Iy(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function jy(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=gy(r.transform,e||null);null!=i&&(null===n&&(n=rv.empty()),n.set(r.field,i))}return n||null}function Fy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$p(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof yy&&t instanceof yy||e instanceof wy&&t instanceof wy?$p(e.elements,t.elements,Hg):e instanceof xy&&t instanceof xy?Hg(e.Ie,t.Ie):e instanceof vy&&t instanceof vy}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ry extends Ty{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Oy extends Ty{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Py(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ly(e,t,n){const r=new Map;Rp(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,py(a,s,n[i]))}return r}function My(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,my(e,o,t))}return r}class Uy extends Ty{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zy extends Ty{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class By{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ay(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Dy(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Dy(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ry();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=Ny(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(Jp.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),sy())}isEqual(e){return this.batchId===e.batchId&&$p(this.mutations,e.mutations,((e,t)=>Fy(e,t)))&&$p(this.baseMutations,e.baseMutations,((e,t)=>Fy(e,t)))}}class Vy{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Rp(e.mutations.length===n.length);let r=oy;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Vy(e,t,n,r)}}class Hy{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Wy{constructor(e,t){this.count=e,this.unchangedNames=t}}var qy,Gy;function Ky(e){switch(e){default:return Fp();case Pp.CANCELLED:case Pp.UNKNOWN:case Pp.DEADLINE_EXCEEDED:case Pp.RESOURCE_EXHAUSTED:case Pp.INTERNAL:case Pp.UNAVAILABLE:case Pp.UNAUTHENTICATED:return!1;case Pp.INVALID_ARGUMENT:case Pp.NOT_FOUND:case Pp.ALREADY_EXISTS:case Pp.PERMISSION_DENIED:case Pp.FAILED_PRECONDITION:case Pp.ABORTED:case Pp.OUT_OF_RANGE:case Pp.UNIMPLEMENTED:case Pp.DATA_LOSS:return!0}}function Qy(e){if(void 0===e)return Ap("GRPC error has no .code"),Pp.UNKNOWN;switch(e){case qy.OK:return Pp.OK;case qy.CANCELLED:return Pp.CANCELLED;case qy.UNKNOWN:return Pp.UNKNOWN;case qy.DEADLINE_EXCEEDED:return Pp.DEADLINE_EXCEEDED;case qy.RESOURCE_EXHAUSTED:return Pp.RESOURCE_EXHAUSTED;case qy.INTERNAL:return Pp.INTERNAL;case qy.UNAVAILABLE:return Pp.UNAVAILABLE;case qy.UNAUTHENTICATED:return Pp.UNAUTHENTICATED;case qy.INVALID_ARGUMENT:return Pp.INVALID_ARGUMENT;case qy.NOT_FOUND:return Pp.NOT_FOUND;case qy.ALREADY_EXISTS:return Pp.ALREADY_EXISTS;case qy.PERMISSION_DENIED:return Pp.PERMISSION_DENIED;case qy.FAILED_PRECONDITION:return Pp.FAILED_PRECONDITION;case qy.ABORTED:return Pp.ABORTED;case qy.OUT_OF_RANGE:return Pp.OUT_OF_RANGE;case qy.UNIMPLEMENTED:return Pp.UNIMPLEMENTED;case qy.DATA_LOSS:return Pp.DATA_LOSS;default:return Fp()}}(Gy=qy||(qy={}))[Gy.OK=0]="OK",Gy[Gy.CANCELLED=1]="CANCELLED",Gy[Gy.UNKNOWN=2]="UNKNOWN",Gy[Gy.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gy[Gy.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gy[Gy.NOT_FOUND=5]="NOT_FOUND",Gy[Gy.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gy[Gy.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gy[Gy.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gy[Gy.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gy[Gy.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gy[Gy.ABORTED=10]="ABORTED",Gy[Gy.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gy[Gy.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gy[Gy.INTERNAL=13]="INTERNAL",Gy[Gy.UNAVAILABLE=14]="UNAVAILABLE",Gy[Gy.DATA_LOSS=15]="DATA_LOSS";let Yy=null;function $y(){return new TextEncoder}const Xy=new Ep([4294967295,4294967295],0);function Jy(e){const t=$y().encode(e),n=new xp;return n.update(t),new Uint8Array(n.digest())}function Zy(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ep([n,r],0),new Ep([i,o],0)]}class eb{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new tb("Invalid padding: ".concat(t));if(n<0)throw new tb("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new tb("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new tb("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Ep.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Ep.fromNumber(n)));return 1===r.compare(Xy)&&(r=new Ep([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Jy(e),[n,r]=Zy(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new eb(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=Jy(e),[n,r]=Zy(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class tb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nb{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,rb.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new nb(Jp.min(),r,new Sg(Yp),Jv(),sy())}}class rb{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new rb(n,t,sy(),sy(),sy())}}class ib{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class ob{constructor(e,t){this.targetId=e,this.fe=t}}class ab{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dg.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class sb{constructor(){this.ge=0,this.pe=ub(),this.ye=Dg.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=sy(),t=sy(),n=sy();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Fp()}})),new rb(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=ub()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Rp(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class lb{constructor(e){this.Le=e,this.ke=new Map,this.qe=Jv(),this.Qe=cb(),this.Ke=new Sg(Yp)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Fp()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(jv(i))if(0===n){const e=new rg(i.path);this.We(t,e,ov.newNoDocument(e,Jp.min()))}else Rp(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Yy||Yy.tt(function(e,t,n,r,i){var o,a,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=Og(n).toUint8Array()}catch(e){if(e instanceof Ag)return Dp("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new eb(o,r,i)}catch(e){return Dp(e instanceof tb?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Te?null:a}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&jv(i.target)){const t=new rg(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,ov.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=sy();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new nb(e,t,this.Ke,this.qe,n);return this.qe=Jv(),this.Qe=cb(),this.Ke=new Sg(Yp),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new sb,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Ig(Yp),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Np("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new sb),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function cb(){return new Sg(rg.comparator)}function ub(){return new Sg(rg.comparator)}const db={asc:"ASCENDING",desc:"DESCENDING"},hb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fb={and:"AND",or:"OR"};class mb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pb(e,t){return e.useProto3Json||pg(t)?t:{value:t}}function gb(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function vb(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function yb(e,t){return gb(e,t.toTimestamp())}function bb(e){return Rp(!!e),Jp.fromTimestamp(function(e){const t=Fg(e);return new Xp(t.seconds,t.nanos)}(e))}function wb(e,t){return function(e){return new eg(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function kb(e){const t=eg.fromString(e);return Rp(Bb(t)),t}function xb(e,t){return wb(e.databaseId,t.path)}function Eb(e,t){const n=kb(t);if(n.get(1)!==e.databaseId.projectId)throw new Lp(Pp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Lp(Pp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new rg(Ib(n))}function Sb(e,t){return wb(e.databaseId,t)}function Cb(e){const t=kb(e);return 4===t.length?eg.emptyPath():Ib(t)}function _b(e){return new eg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ib(e){return Rp(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Tb(e,t,n){return{name:xb(e,t),fields:n.value.mapValue.fields}}function Nb(e,t){let n;if(t instanceof Ry)n={update:Tb(e,t.key,t.value)};else if(t instanceof Uy)n={delete:xb(e,t.key)};else if(t instanceof Oy)n={update:Tb(e,t.key,t.data),updateMask:zb(t.fieldMask)};else{if(!(t instanceof zy))return Fp();n={verify:xb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof vy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof yy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof xy)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Fp()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:yb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Fp()}(e,t.precondition)),n}function Ab(e,t){return{documents:[Sb(e,t.path)]}}function Db(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Sb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Sb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Ub(fv.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Lb(e.field),direction:Rb(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=pb(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function jb(e){let t=Cb(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Rp(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Fb(e);return t instanceof fv&&pv(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new cv(Mb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,pg(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new av(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new av(n,t)}(n.endAt)),Rv(t,i,a,o,s,"F",l,c)}function Fb(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Mb(e.unaryFilter.field);return hv.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Mb(e.unaryFilter.field);return hv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Mb(e.unaryFilter.field);return hv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Mb(e.unaryFilter.field);return hv.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Fp()}}(e):void 0!==e.fieldFilter?function(e){return hv.create(Mb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fp()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return fv.create(e.compositeFilter.filters.map((e=>Fb(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Fp()}}(e.compositeFilter.op))}(e):Fp()}function Rb(e){return db[e]}function Ob(e){return hb[e]}function Pb(e){return fb[e]}function Lb(e){return{fieldPath:e.canonicalString()}}function Mb(e){return ng.fromServerFormat(e.fieldPath)}function Ub(e){return e instanceof hv?function(e){if("=="===e.op){if(Zg(e.value))return{unaryFilter:{field:Lb(e.field),op:"IS_NAN"}};if(Jg(e.value))return{unaryFilter:{field:Lb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Zg(e.value))return{unaryFilter:{field:Lb(e.field),op:"IS_NOT_NAN"}};if(Jg(e.value))return{unaryFilter:{field:Lb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lb(e.field),op:Ob(e.op),value:e.value}}}(e):e instanceof fv?function(e){const t=e.getFilters().map((e=>Ub(e)));return 1===t.length?t[0]:{compositeFilter:{op:Pb(e.op),filters:t}}}(e):Fp()}function zb(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Bb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Vb{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jp.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Jp.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Dg.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Vb(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vb(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Hb{constructor(e){this.ut=e}}function Wb(e){const t=jb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Vv(t,t.limit,"L"):t}class qb{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Rg(e.integerValue));else if("doubleValue"in e){const n=Rg(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),gg(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Og(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?nv(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Fp()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),rg.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}qb.St=new qb;class Gb{constructor(){this.on=new Kb}addToCollectionParentIndex(e,t){return this.on.add(t),hg.resolve()}getCollectionParents(e,t){return hg.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return hg.resolve()}deleteFieldIndex(e,t){return hg.resolve()}deleteAllFieldIndexes(e){return hg.resolve()}createTargetIndexes(e,t){return hg.resolve()}getDocumentsMatchingTarget(e,t){return hg.resolve(null)}getIndexType(e,t){return hg.resolve(0)}getFieldIndexes(e,t){return hg.resolve([])}getNextCollectionGroupToUpdate(e){return hg.resolve(null)}getMinOffset(e,t){return hg.resolve(sg.min())}getMinOffsetFromCollectionGroup(e,t){return hg.resolve(sg.min())}updateCollectionGroup(e,t,n){return hg.resolve()}updateIndexEntries(e,t){return hg.resolve()}}class Kb{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ig(eg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ig(eg.comparator)).toArray()}}new Uint8Array(0);class Qb{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Qb(e,Qb.DEFAULT_COLLECTION_PERCENTILE,Qb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Qb.DEFAULT_COLLECTION_PERCENTILE=10,Qb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qb.DEFAULT=new Qb(41943040,Qb.DEFAULT_COLLECTION_PERCENTILE,Qb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qb.DISABLED=new Qb(-1,0,0);class Yb{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Yb(0)}static Nn(){return new Yb(-1)}}class $b{constructor(){this.changes=new $v((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ov.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?hg.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Xb{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Jb{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Dy(n.mutation,e,Ng.empty(),Xp.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,sy()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sy();const r=ny();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=ey();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=ny();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,sy())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Jv();const o=iy(),a=iy();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Oy)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Dy(a.mutation,t,a.mutation.getFieldMask(),Xp.now())):o.set(t.key,Ng.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Xb(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=iy();let r=new Sg(((e,t)=>e-t)),i=sy();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||Ng.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||sy()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=ry();l.forEach((e=>{if(!i.has(e)){const r=Ny(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return hg.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return rg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Lv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):hg.resolve(ny());let a=-1,s=i;return o.next((t=>hg.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?hg.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,sy()))).next((e=>({batchId:a,changes:ty(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rg(t)).next((e=>{let t=ey();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=ey();return this.indexManager.getCollectionParents(e,i).next((a=>hg.forEach(a,(a=>{const s=function(e,t){return new Fv(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,ov.newInvalidDocument(r)))}));let n=ey();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Dy(o.mutation,r,Ng.empty(),Xp.now()),Gv(t,r)&&(n=n.insert(e,r))})),n}))}}class Zb{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return hg.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:bb(e.createTime)}}(t)),hg.resolve()}getNamedQuery(e,t){return hg.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:Wb(e.bundledQuery),readTime:bb(e.readTime)}}(t)),hg.resolve()}}class ew{constructor(){this.overlays=new Sg(rg.comparator),this.lr=new Map}getOverlay(e,t){return hg.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ny();return hg.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),hg.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),hg.resolve()}getOverlaysForCollection(e,t,n){const r=ny(),i=t.length+1,o=new rg(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return hg.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Sg(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ny(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=ny(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return hg.resolve(a)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Hy(t,n));let i=this.lr.get(t);void 0===i&&(i=sy(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class tw{constructor(){this.hr=new Ig(nw.Pr),this.Ir=new Ig(nw.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new nw(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new nw(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new rg(new eg([])),n=new nw(t,e),r=new nw(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new rg(new eg([])),n=new nw(t,e),r=new nw(t,e+1);let i=sy();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new nw(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class nw{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return rg.comparator(e.key,t.key)||Yp(e.gr,t.gr)}static Tr(e,t){return Yp(e.gr,t.gr)||rg.comparator(e.key,t.key)}}class rw{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Ig(nw.Pr)}checkEmpty(e){return hg.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new By(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.yr=this.yr.add(new nw(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return hg.resolve(o)}lookupMutationBatch(e,t){return hg.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return hg.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return hg.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return hg.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new nw(t,0),r=new nw(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),hg.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ig(Yp);return t.forEach((e=>{const t=new nw(e,0),r=new nw(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),hg.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;rg.isDocumentKey(i)||(i=i.child(""));const o=new nw(new rg(i),0);let a=new Ig(Yp);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.gr)),!0)}),o),hg.resolve(this.br(a))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Rp(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return hg.forEach(t.mutations,(r=>{const i=new nw(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new nw(t,0),r=this.yr.firstAfterOrEqual(n);return hg.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,hg.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class iw{constructor(e){this.Cr=e,this.docs=new Sg(rg.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return hg.resolve(n?n.document.mutableCopy():ov.newInvalidDocument(t))}getEntries(e,t){let n=Jv();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():ov.newInvalidDocument(e))})),hg.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Jv();const o=t.path,a=new rg(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||lg(ag(a),n)<=0||(r.has(a.key)||Gv(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return hg.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Fp()}vr(e,t){return hg.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new ow(this)}getSize(e){return hg.resolve(this.size)}}class ow extends $b{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),hg.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class aw{constructor(e){this.persistence=e,this.Fr=new $v((e=>Av(e)),Dv),this.lastRemoteSnapshotVersion=Jp.min(),this.highestTargetId=0,this.Mr=0,this.Or=new tw,this.targetCount=0,this.Nr=Yb.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),hg.resolve()}getLastRemoteSnapshotVersion(e){return hg.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return hg.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),hg.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),hg.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Yb(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,hg.resolve()}updateTargetData(e,t){return this.kn(t),hg.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,hg.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),hg.waitFor(i).next((()=>r))}getTargetCount(e){return hg.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return hg.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),hg.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),hg.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),hg.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return hg.resolve(n)}containsKey(e,t){return hg.resolve(this.Or.containsKey(t))}}class sw{constructor(e,t){this.Br={},this.overlays={},this.Lr=new mg(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new aw(this),this.indexManager=new Gb,this.remoteDocumentCache=function(e){return new iw(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new Hb(t),this.Kr=new Zb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ew,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new rw(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){Np("MemoryPersistence","Starting transaction:",e);const r=new lw(this.Lr.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return hg.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class lw extends ug{constructor(e){super(),this.currentSequenceNumber=e}}class cw{constructor(e){this.persistence=e,this.Gr=new tw,this.zr=null}static jr(e){return new cw(e)}get Hr(){if(this.zr)return this.zr;throw Fp()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),hg.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),hg.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),hg.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hg.forEach(this.Hr,(n=>{const r=rg.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,Jp.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return hg.or([()=>hg.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class uw{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=sy(),r=sy();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new uw(e,t.fromCache,n,r)}}class dw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hw{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new dw;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(Tp()<=Mi.DEBUG&&Np("QueryEngine","SDK will not create cache indexes for query:",qv(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),hg.resolve()):(Tp()<=Mi.DEBUG&&Np("QueryEngine","Query:",qv(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(Tp()<=Mi.DEBUG&&Np("QueryEngine","The SDK decides to create cache indexes for query:",qv(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Uv(t))):hg.resolve())}zi(e,t){if(Pv(t))return hg.resolve(null);let n=Uv(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Vv(t,null,"F"),n=Uv(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=sy(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Yi(t,r);return this.Zi(t,o,i,n.readTime)?this.zi(e,Vv(t,null,"F")):this.Xi(e,o,t,n)}))))})))))}ji(e,t,n,r){return Pv(t)||r.isEqual(Jp.min())?hg.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const o=this.Yi(t,i);return this.Zi(t,o,n,r)?hg.resolve(null):(Tp()<=Mi.DEBUG&&Np("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),qv(t)),this.Xi(e,o,t,og(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new Ig(Qv(e));return t.forEach(((t,r)=>{Gv(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return Tp()<=Mi.DEBUG&&Np("QueryEngine","Using full collection scan to execute query:",qv(t)),this.Gi.getDocumentsMatchingQuery(e,t,sg.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class fw{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new Sg(Yp),this.ns=new $v((e=>Av(e)),Dv),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jb(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function mw(e,t,n,r){return new fw(e,t,n,r)}async function pw(e,t){const n=Op(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=sy();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function gw(e){const t=Op(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function vw(e,t,n){let r=sy(),i=sy();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Jv();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Jp.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Np("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{us:r,cs:i}}))}function yw(e,t){const n=Op(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function bw(e,t){const n=Op(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,hg.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new Vb(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function ww(e,t,n){const r=Op(e),i=r.ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!fg(e))throw e;Np("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function kw(e,t,n){const r=Op(e);let i=Jp.min(),o=sy();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Op(e),i=r.ns.get(n);return void 0!==i?hg.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,Uv(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:Jp.min(),n?o:sy()))).next((e=>(xw(r,Kv(t),e),{documents:e,ls:o})))))}function xw(e,t,n){let r=e.rs.get(t)||Jp.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}class Ew{constructor(){this.activeTargetIds=cy()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sw{constructor(){this.eo=new Ew,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Ew,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Cw{ro(e){}shutdown(){}}class _w{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Np("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Np("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Iw=null;function Tw(){return null===Iw?Iw=268435456+Math.round(2147483648*Math.random()):Iw++,"0x"+Iw.toString(16)}const Nw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Aw{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Dw="WebChannelConnection";class jw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo="projects/".concat(n,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get yo(){return!1}wo(e,t,n,r,i){const o=Tw(),a=this.So(e,t);Np("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),a,n);const s={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(s,r,i),this.Do(e,a,s,n).then((t=>(Np("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Dp("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",n),t}))}Co(e,t,n,r,i,o){return this.wo(e,t,n,r,i)}bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+_p,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=Nw[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,r){const i=Tw();return new Promise(((o,a)=>{const s=new kp;s.setWithCredentials(!0),s.listenOnce(vp.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case gp.NO_ERROR:const t=s.getResponseJson();Np(Dw,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case gp.TIMEOUT:Np(Dw,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Lp(Pp.DEADLINE_EXCEEDED,"Request time out"));break;case gp.HTTP_ERROR:const n=s.getStatus();if(Np(Dw,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Pp).indexOf(t)>=0?t:Pp.UNKNOWN}(t.status);a(new Lp(e,t.message))}else a(new Lp(Pp.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Lp(Pp.UNAVAILABLE,"Connection failed."));break;default:Fp()}}finally{Np(Dw,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Np(Dw,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",l,n,15)}))}vo(e,t,n){const r=Tw(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mp(),a=pp(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.bo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");Np(Dw,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=o.createWebChannel(c,s);let d=!1,h=!1;const f=new Aw({co:t=>{h?Np(Dw,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Np(Dw,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Np(Dw,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,wp.EventType.OPEN,(()=>{h||Np(Dw,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),m(u,wp.EventType.CLOSE,(()=>{h||(h=!0,Np(Dw,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Ro())})),m(u,wp.EventType.ERROR,(t=>{h||(h=!0,Dp(Dw,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Ro(new Lp(Pp.UNAVAILABLE,"The operation could not be completed")))})),m(u,wp.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Rp(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){Np(Dw,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=qy[e];if(void 0!==t)return Qy(t)}(t),i=a.message;void 0===n&&(n=Pp.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.Ro(new Lp(n,i)),u.close()}else Np(Dw,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.Vo(i)}})),m(a,yp.STAT_EVENT,(t=>{t.stat===bp.PROXY?Np(Dw,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===bp.NOPROXY&&Np(Dw,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ao()}),0),f}}function Fw(){return"undefined"!=typeof document?document:null}function Rw(e){return new mb(e,!0)}class Ow{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Fo=n,this.Mo=r,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&Np("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Pw{constructor(e,t,n,r,i,o,a,s){this.si=e,this.Ko=n,this.$o=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Ow(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(()=>this.Xo())))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():t&&t.code===Pp.RESOURCE_EXHAUSTED?(Ap(t.toString()),Ap("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===Pp.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Uo===t&&this.s_(n,r)}),(t=>{e((()=>{const e=new Lp(Pp.UNKNOWN,"Fetching auth token failed: "+t.message);return this.o_(e)}))}))}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((()=>{n((()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,(()=>(this.Ho()&&(this.state=3),Promise.resolve()))),this.listener.ho())))})),this.stream.Io((e=>{n((()=>this.o_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Jo(){this.state=5,this.zo.ko((async()=>{this.state=0,this.start()}))}o_(e){return Np("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget((()=>this.Uo===e?t():(Np("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Lw extends Pw{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Fp()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Rp(void 0===t||"string"==typeof t),Dg.fromBase64String(t||"")):(Rp(void 0===t||t instanceof Uint8Array),Dg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?Pp.UNKNOWN:Qy(e.code);return new Lp(t,e.message||"")}(a);n=new ab(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Eb(e,r.document.name),o=bb(r.document.updateTime),a=r.document.createTime?bb(r.document.createTime):Jp.min(),s=new rv({mapValue:{fields:r.document.fields}}),l=ov.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ib(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Eb(e,r.document),o=r.readTime?bb(r.readTime):Jp.min(),a=ov.newNoDocument(i,o),s=r.removedTargetIds||[];n=new ib([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Eb(e,r.document),o=r.removedTargetIds||[];n=new ib([],o,i,null)}else{if(!("filter"in t))return Fp();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Wy(r,i),a=e.targetId;n=new ob(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Jp.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Jp.min():t.readTime?bb(t.readTime):Jp.min()}(e);return this.listener.a_(t,n)}u_(e){const t={};t.database=_b(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=jv(r)?{documents:Ab(e,r)}:{query:Db(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=vb(e,t.resumeToken);const r=pb(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Jp.min())>0){n.readTime=gb(e,t.snapshotVersion.toTimestamp());const r=pb(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fp()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}c_(e){const t={};t.database=_b(this.serializer),t.removeTarget=e,this.e_(t)}}class Mw extends Pw{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Rp(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function(e,t){return e&&e.length>0?(Rp(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?bb(e.updateTime):bb(t);return n.isEqual(Jp.min())&&(n=bb(t)),new Cy(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=bb(e.commitTime);return this.listener.I_(n,t)}return Rp(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=_b(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Nb(this.serializer,e)))};this.e_(t)}}class Uw extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new Lp(Pp.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,o]=r;return this.connection.wo(e,t,n,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Pp.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Lp(Pp.UNKNOWN,e.toString())}))}Co(e,t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.Co(e,t,n,o,a,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Pp.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Lp(Pp.UNKNOWN,e.toString())}))}terminate(){this.d_=!0}}class zw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()))))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(Ap(t),this.f_=!1):Np("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Bw{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro((e=>{n.enqueueAndForget((async()=>{$w(this)&&(Np("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Op(e);t.C_.add(4),await Hw(t),t.M_.set("Unknown"),t.C_.delete(4),await Vw(t)}(this))}))})),this.M_=new zw(n,r)}}async function Vw(e){if($w(e))for(const t of e.v_)await t(!0)}async function Hw(e){for(const t of e.v_)await t(!1)}function Ww(e,t){const n=Op(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),Yw(n)?Qw(n):mk(n).Ho()&&Gw(n,t))}function qw(e,t){const n=Op(e),r=mk(n);n.D_.delete(t),r.Ho()&&Kw(n,t),0===n.D_.size&&(r.Ho()?r.Zo():$w(n)&&n.M_.set("Unknown"))}function Gw(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Jp.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}mk(e).u_(t)}function Kw(e,t){e.x_.Oe(t),mk(e).c_(t)}function Qw(e){e.x_=new lb({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),mk(e).start(),e.M_.g_()}function Yw(e){return $w(e)&&!mk(e).jo()&&e.D_.size>0}function $w(e){return 0===Op(e).C_.size}function Xw(e){e.x_=void 0}async function Jw(e){e.D_.forEach(((t,n)=>{Gw(e,t)}))}async function Zw(e,t){Xw(e),Yw(e)?(e.M_.w_(t),Qw(e)):e.M_.set("Unknown")}async function ek(e,t,n){if(e.M_.set("Online"),t instanceof ab&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.D_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.D_.delete(r),e.x_.removeTarget(r))}(e,t)}catch(n){Np("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await tk(e,n)}else if(t instanceof ib?e.x_.$e(t):t instanceof ob?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(Jp.min()))try{const t=await gw(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.x_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.D_.get(t);if(!r)return;e.D_.set(t,r.withResumeToken(Dg.EMPTY_BYTE_STRING,r.snapshotVersion)),Kw(e,t);const i=new Vb(r.target,t,n,r.sequenceNumber);Gw(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Np("RemoteStore","Failed to raise snapshot:",t),await tk(e,t)}}async function tk(e,t,n){if(!fg(t))throw t;e.C_.add(1),await Hw(e),e.M_.set("Offline"),n||(n=()=>gw(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Np("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await Vw(e)}))}function nk(e,t){return t().catch((n=>tk(e,n,t)))}async function rk(e){const t=Op(e),n=pk(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;ik(t);)try{const e=await yw(t.localStore,r);if(null===e){0===t.b_.length&&n.Zo();break}r=e.batchId,ok(t,e)}catch(e){await tk(t,e)}ak(t)&&sk(t)}function ik(e){return $w(e)&&e.b_.length<10}function ok(e,t){e.b_.push(t);const n=pk(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function ak(e){return $w(e)&&!pk(e).jo()&&e.b_.length>0}function sk(e){pk(e).start()}async function lk(e){pk(e).E_()}async function ck(e){const t=pk(e);for(const n of e.b_)t.P_(n.mutations)}async function uk(e,t,n){const r=e.b_.shift(),i=Vy.from(r,t,n);await nk(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await rk(e)}async function dk(e,t){t&&pk(e).h_&&await async function(e,t){if(function(e){return Ky(e)&&e!==Pp.ABORTED}(t.code)){const n=e.b_.shift();pk(e).Yo(),await nk(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await rk(e)}}(e,t),ak(e)&&sk(e)}async function hk(e,t){const n=Op(e);n.asyncQueue.verifyOperationInProgress(),Np("RemoteStore","RemoteStore received new credentials");const r=$w(n);n.C_.add(3),await Hw(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await Vw(n)}async function fk(e,t){const n=Op(e);t?(n.C_.delete(2),await Vw(n)):t||(n.C_.add(2),await Hw(n),n.M_.set("Unknown"))}function mk(e){return e.O_||(e.O_=function(e,t,n){const r=Op(e);return r.A_(),new Lw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:Jw.bind(null,e),Io:Zw.bind(null,e),a_:ek.bind(null,e)}),e.v_.push((async t=>{t?(e.O_.Yo(),Yw(e)?Qw(e):e.M_.set("Unknown")):(await e.O_.stop(),Xw(e))}))),e.O_}function pk(e){return e.N_||(e.N_=function(e,t,n){const r=Op(e);return r.A_(),new Mw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:lk.bind(null,e),Io:dk.bind(null,e),T_:ck.bind(null,e),I_:uk.bind(null,e)}),e.v_.push((async t=>{t?(e.N_.Yo(),await rk(e)):(await e.N_.stop(),e.b_.length>0&&(Np("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]))}))),e.N_}class gk{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Mp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new gk(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lp(Pp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vk(e,t){if(Ap("AsyncQueue","".concat(t,": ").concat(e)),fg(e))return new Lp(Pp.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class yk{constructor(e){this.comparator=e?(t,n)=>e(t,n)||rg.comparator(t.key,n.key):(e,t)=>rg.comparator(e.key,t.key),this.keyedMap=ey(),this.sortedSet=new Sg(this.comparator)}static emptySet(e){return new yk(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yk))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new yk;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class bk{constructor(){this.B_=new Sg(rg.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Fp():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class wk{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new wk(e,t,yk.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class kk{constructor(){this.k_=void 0,this.listeners=[]}}class xk{constructor(){this.queries=new $v((e=>Wv(e)),Hv),this.onlineState="Unknown",this.q_=new Set}}async function Ek(e,t){const n=Op(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new kk),i)try{o.k_=await n.onListen(r)}catch(e){const n=vk(e,"Initialization of query '".concat(qv(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Q_(n.onlineState),o.k_&&t.K_(o.k_)&&Ik(n)}async function Sk(e,t){const n=Op(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Ck(e,t){const n=Op(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.K_(i)&&(r=!0);t.k_=i}}r&&Ik(n)}function _k(e,t,n){const r=Op(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function Ik(e){e.q_.forEach((e=>{e.next()}))}class Tk{constructor(e,t,n){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new wk(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}H_(e){e=wk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Nk{constructor(e){this.key=e}}class Ak{constructor(e){this.key=e}}class Dk{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=sy(),this.mutatedKeys=sy(),this._a=Qv(e),this.aa=new yk(this._a)}get ua(){return this.ia}ca(e,t){const n=t?t.la:new bk,r=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Gv(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ha(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this._a(u,s)>0||l&&this._a(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{aa:o,la:n,Zi:a,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fp()}};return n(e)-n(t)}(e.type,t.type)||this._a(e.doc,t.doc))),this.Pa(n),r=null!=r&&r;const a=t&&!r?this.Ia():[],s=0===this.oa.size&&this.current&&!r?1:0,l=s!==this.sa;return this.sa=s,0!==o.length||l?{snapshot:new wk(this.query,e.aa,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new bk,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach((e=>this.ia=this.ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ia=this.ia.delete(e))),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=sy(),this.aa.forEach((e=>{this.Ea(e.key)&&(this.oa=this.oa.add(e.key))}));const t=[];return e.forEach((e=>{this.oa.has(e)||t.push(new Ak(e))})),this.oa.forEach((n=>{e.has(n)||t.push(new Nk(n))})),t}da(e){this.ia=e.ls,this.oa=sy();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return wk.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class jk{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Fk{constructor(e){this.key=e,this.Ra=!1}}class Rk{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new $v((e=>Wv(e)),Hv),this.fa=new Map,this.ga=new Set,this.pa=new Sg(rg.comparator),this.ya=new Map,this.wa=new tw,this.Sa={},this.ba=new Map,this.Da=Yb.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}async function Ok(e,t){const n=Zk(e);let r,i;const o=n.ma.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const e=await bw(n.localStore,Uv(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Pk(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&Ww(n.remoteStore,e)}return i}async function Pk(e,t,n,r,i){e.va=(t,n,r)=>async function(e,t,n,r){let i=t.view.ca(n);i.Zi&&(i=await kw(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ca(n,i)})));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return Kk(e,t.targetId,s.Ta),s.snapshot}(e,t,n,r);const o=await kw(e.localStore,t,!0),a=new Dk(t,o.ls),s=a.ca(o.documents),l=rb.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);Kk(e,n,c.Ta);const u=new jk(t,n,a);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),c.snapshot}async function Lk(e,t){const n=Op(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter((e=>!Hv(e,t)))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ww(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),qw(n.remoteStore,r.targetId),qk(n,r.targetId)})).catch(dg)):(qk(n,r.targetId),await ww(n.localStore,r.targetId,!0))}async function Mk(e,t){const n=Op(e);try{const e=await function(e,t){const n=Op(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.qr.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.qr.addMatchingKeys(e,o.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Dg.EMPTY_BYTE_STRING,Jp.min()).withLastLimboFreeSnapshotVersion(Jp.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&a.push(n.qr.updateTargetData(e,c))}));let s=Jv(),l=sy();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(vw(e,o,t.documentUpdates).next((e=>{s=e.us,l=e.cs}))),!r.isEqual(Jp.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return hg.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ya.get(t);r&&(Rp(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ra=!0:e.modifiedDocuments.size>0?Rp(r.Ra):e.removedDocuments.size>0&&(Rp(r.Ra),r.Ra=!1))})),await $k(n,e,t)}catch(e){await dg(e)}}function Uk(e,t,n){const r=Op(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ma.forEach(((n,r)=>{const i=r.view.Q_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Op(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Q_(t)&&(r=!0)})),r&&Ik(n)}(r.eventManager,t),e.length&&r.Va.a_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function zk(e,t,n){const r=Op(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),o=i&&i.key;if(o){let e=new Sg(rg.comparator);e=e.insert(o,ov.newNoDocument(o,Jp.min()));const n=sy().add(o),i=new nb(Jp.min(),new Map,new Sg(Yp),e,n);await Mk(r,i),r.pa=r.pa.remove(o),r.ya.delete(t),Yk(r)}else await ww(r.localStore,t,!1).then((()=>qk(r,t,n))).catch(dg)}async function Bk(e,t){const n=Op(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Op(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=hg.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Rp(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=sy();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Wk(n,r,null),Hk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $k(n,e)}catch(e){await dg(e)}}async function Vk(e,t,n){const r=Op(e);try{const e=await function(e,t){const n=Op(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Rp(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Wk(r,t,n),Hk(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await $k(r,e)}catch(n){await dg(n)}}function Hk(e,t){(e.ba.get(t)||[]).forEach((e=>{e.resolve()})),e.ba.delete(t)}function Wk(e,t,n){const r=Op(e);let i=r.Sa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function qk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((t=>{e.wa.containsKey(t)||Gk(e,t)}))}function Gk(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(qw(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),Yk(e))}function Kk(e,t,n){for(const r of n)r instanceof Nk?(e.wa.addReference(r.key,t),Qk(e,r)):r instanceof Ak?(Np("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||Gk(e,r.key)):Fp()}function Qk(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Np("SyncEngine","New document in limbo: "+n),e.ga.add(r),Yk(e))}function Yk(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new rg(eg.fromString(t)),r=e.Da.next();e.ya.set(r,new Fk(n)),e.pa=e.pa.insert(n,r),Ww(e.remoteStore,new Vb(Uv(Ov(n.path)),r,"TargetPurposeLimboResolution",mg._e))}}async function $k(e,t,n){const r=Op(e),i=[],o=[],a=[];r.ma.isEmpty()||(r.ma.forEach(((e,s)=>{a.push(r.va(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=uw.Qi(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.Va.a_(i),await async function(e,t){const n=Op(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>hg.forEach(t,(t=>hg.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>hg.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!fg(e))throw e;Np("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,o))}async function Xk(e,t){const n=Op(e);if(!n.currentUser.isEqual(t)){Np("SyncEngine","User change. New user:",t.toKey());const e=await pw(n.localStore,t);n.currentUser=t,function(e,t){e.ba.forEach((e=>{e.forEach((e=>{e.reject(new Lp(Pp.CANCELLED,t))}))})),e.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await $k(n,e._s)}}function Jk(e,t){const n=Op(e),r=n.ya.get(t);if(r&&r.Ra)return sy().add(r.key);{let e=sy();const r=n.fa.get(t);if(!r)return e;for(const t of r){const r=n.ma.get(t);e=e.unionWith(r.view.ua)}return e}}function Zk(e){const t=Op(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Mk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zk.bind(null,t),t.Va.a_=Ck.bind(null,t.eventManager),t.Va.Fa=_k.bind(null,t.eventManager),t}function ex(e){const t=Op(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Bk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vk.bind(null,t),t}class tx{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Rw(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return mw(this.persistence,new hw,e.initialUser,this.serializer)}createPersistence(e){return new sw(cw.jr,this.serializer)}createSharedClientState(e){return new Sw}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class nx{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Uk(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xk.bind(null,this.syncEngine),await fk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new xk}createDatastore(e){const t=Rw(e.databaseInfo.databaseId),n=function(e){return new jw(e)}(e.databaseInfo);return function(e,t,n,r){return new Uw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Bw(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Uk(this.syncEngine,e,0)),_w.D()?new _w:new Cw)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new Rk(e,t,n,r,i,o);return a&&(s.Ca=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Op(e);Np("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await Hw(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}class rx{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Ap("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class ix{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Cp.UNAUTHENTICATED,this.clientId=Qp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Np("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Np("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Lp(Pp.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=vk(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function ox(e,t){e.asyncQueue.verifyOperationInProgress(),Np("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await pw(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function ax(e,t){e.asyncQueue.verifyOperationInProgress();const n=await lx(e);Np("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>hk(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>hk(t.remoteStore,n))),e._onlineComponents=t}function sx(e){return"FirebaseError"===e.name?e.code===Pp.FAILED_PRECONDITION||e.code===Pp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function lx(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Np("FirestoreClient","Using user provided OfflineComponentProvider");try{await ox(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!sx(n))throw n;Dp("Error using user provided cache. Falling back to memory cache: "+n),await ox(e,new tx)}}else Np("FirestoreClient","Using default OfflineComponentProvider"),await ox(e,new tx);return e._offlineComponents}async function cx(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Np("FirestoreClient","Using user provided OnlineComponentProvider"),await ax(e,e._uninitializedComponentsProvider._online)):(Np("FirestoreClient","Using default OnlineComponentProvider"),await ax(e,new nx))),e._onlineComponents}function ux(e){return cx(e).then((e=>e.syncEngine))}async function dx(e){const t=await cx(e),n=t.eventManager;return n.onListen=Ok.bind(null,t.syncEngine),n.onUnlisten=Lk.bind(null,t.syncEngine),n}function hx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Mp;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new rx({next:o=>{t.enqueueAndForget((()=>Sk(e,a)));const s=o.docs.has(n);!s&&o.fromCache?i.reject(new Lp(Pp.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Lp(Pp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new Tk(Ov(n.path),o,{includeMetadataChanges:!0,J_:!0});return Ek(e,a)}(await dx(e),e.asyncQueue,t,n,r))),r.promise}function fx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Mp;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new rx({next:n=>{t.enqueueAndForget((()=>Sk(e,a))),n.fromCache&&"server"===r.source?i.reject(new Lp(Pp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Tk(n,o,{includeMetadataChanges:!0,J_:!0});return Ek(e,a)}(await dx(e),e.asyncQueue,t,n,r))),r.promise}function mx(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const px=new Map;function gx(e,t,n){if(!n)throw new Lp(Pp.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function vx(e){if(!rg.isDocumentKey(e))throw new Lp(Pp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function yx(e){if(rg.isDocumentKey(e))throw new Lp(Pp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function bx(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Fp()}function wx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Lp(Pp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bx(e);throw new Lp(Pp.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class kx{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Lp(Pp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Lp(Pp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Lp(Pp.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mx(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Lp(Pp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Lp(Pp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Lp(Pp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xx{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kx({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Lp(Pp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Lp(Pp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kx(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new zp;switch(e.type){case"firstParty":return new Wp(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Lp(Pp.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=px.get(e);t&&(Np("ComponentProvider","Removing Datastore"),px.delete(e),t.terminate())}(this),Promise.resolve()}}class Ex{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ex(this.firestore,e,this._query)}}class Sx{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cx(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sx(this.firestore,e,this._key)}}class Cx extends Ex{constructor(e,t,n){super(e,t,Ov(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sx(this.firestore,null,new rg(e))}withConverter(e){return new Cx(this.firestore,e,this._path)}}function _x(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ji(e),gx("collection","path",t),e instanceof xx){const n=eg.fromString(t,...r);return yx(n),new Cx(e,null,n)}{if(!(e instanceof Sx||e instanceof Cx))throw new Lp(Pp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(eg.fromString(t,...r));return yx(n),new Cx(e.firestore,null,n)}}function Ix(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ji(e),1===arguments.length&&(t=Qp.newId()),gx("doc","path",t),e instanceof xx){const n=eg.fromString(t,...r);return vx(n),new Sx(e,null,new rg(n))}{if(!(e instanceof Sx||e instanceof Cx))throw new Lp(Pp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(eg.fromString(t,...r));return vx(n),new Sx(e.firestore,e instanceof Cx?e.converter:null,new rg(n))}}class Tx{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Ow(this,"async_queue_retry"),this.iu=()=>{const e=Fw();e&&Np("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const e=Fw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=Fw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise((()=>{}));const t=new Mp;return this.ou((()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ya.push(e),this._u())))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(B_){if(!fg(B_))throw B_;Np("AsyncQueue","Operation failed with retryable error: "+B_)}this.Ya.length>0&&this.zo.ko((()=>this._u()))}}ou(e){const t=this.Ja.then((()=>(this.tu=!0,e().catch((e=>{this.eu=e,this.tu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ap("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.tu=!1,e))))));return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=gk.createAndSchedule(this,e,t,n,(e=>this.au(e)));return this.Xa.push(r),r}su(){this.eu&&Fp()}verifyOperationInProgress(){}async uu(){let e;do{e=this.Ja,await e}while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then((()=>{this.Xa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()}))}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}class Nx extends xx{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Tx,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Dx(this),this._firestoreClient.terminate()}}function Ax(e){return e._firestoreClient||Dx(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Dx(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Ug(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,mx(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new ix(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class jx{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jx(Dg.fromBase64String(e))}catch(e){throw new Lp(Pp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new jx(Dg.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Fx{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Lp(Pp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ng(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rx{constructor(e){this._methodName=e}}class Ox{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Lp(Pp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Lp(Pp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yp(this._lat,e._lat)||Yp(this._long,e._long)}}const Px=/^__.*__$/;class Lx{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Oy(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ry(e,this.data,t,this.fieldTransforms)}}class Mx{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Oy(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ux(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fp()}}class zx{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new zx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return tE(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(Ux(this.Iu)&&Px.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Bx{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Rw(e)}pu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new zx({Iu:e,methodName:t,gu:n,path:ng.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vx(e){const t=e._freezeSettings(),n=Rw(e._databaseId);return new Bx(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Hx(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.pu(o.merge||o.mergeFields?2:0,t,n,i);Xx("Data must be an object, but it was:",a,r);const s=Yx(r,a);let l,c;if(o.merge)l=new Ng(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Jx(t,r,n);if(!a.contains(i))throw new Lp(Pp.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));nE(e,i)||e.push(i)}l=new Ng(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Lx(new rv(s),l,c)}class Wx extends Rx{_toFieldTransform(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wx}}function qx(e,t,n,r){const i=e.pu(1,t,n);Xx("Data must be an object, but it was:",i,r);const o=[],a=rv.empty();xg(r,((e,r)=>{const s=eE(t,e,n);r=ji(r);const l=i.Ru(s);if(r instanceof Wx)o.push(s);else{const e=Qx(r,l);null!=e&&(o.push(s),a.set(s,e))}}));const s=new Ng(o);return new Mx(a,s,i.fieldTransforms)}function Gx(e,t,n,r,i,o){const a=e.pu(1,t,n),s=[Jx(t,r,n)],l=[i];if(o.length%2!=0)throw new Lp(Pp.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)s.push(Jx(t,o[h])),l.push(o[h+1]);const c=[],u=rv.empty();for(let h=s.length-1;h>=0;--h)if(!nE(c,s[h])){const e=s[h];let t=l[h];t=ji(t);const n=a.Ru(e);if(t instanceof Wx)c.push(e);else{const r=Qx(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Ng(c);return new Mx(u,d,a.fieldTransforms)}function Kx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Qx(n,e.pu(r?4:3,t))}function Qx(e,t){if($x(e=ji(e)))return Xx("Unsupported field value:",t,e),Yx(e,t);if(e instanceof Rx)return function(e,t){if(!Ux(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Qx(i,t.Vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ji(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hy(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Xp.fromDate(e);return{timestampValue:gb(t.serializer,n)}}if(e instanceof Xp){const n=new Xp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:gb(t.serializer,n)}}if(e instanceof Ox)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof jx)return{bytesValue:vb(t.serializer,e._byteString)};if(e instanceof Sx){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.mu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:wb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(bx(e)))}(e,t)}function Yx(e,t){const n={};return Eg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xg(e,((e,r)=>{const i=Qx(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function $x(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Xp||e instanceof Ox||e instanceof jx||e instanceof Sx||e instanceof Rx)}function Xx(e,t,n){if(!$x(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=bx(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function Jx(e,t,n){if((t=ji(t))instanceof Fx)return t._internalPath;if("string"==typeof t)return eE(e,t);throw tE("Field path arguments must be of type string or ",e,!1,void 0,n)}const Zx=new RegExp("[~\\*/\\[\\]]");function eE(e,t,n){if(t.search(Zx)>=0)throw tE("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Fx(...t.split("."))._internalPath}catch(vd){throw tE("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function tE(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Lp(Pp.INVALID_ARGUMENT,s+e+l)}function nE(e,t){return e.some((e=>e.isEqual(t)))}class rE{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Sx(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new iE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(oE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class iE extends rE{data(){return super.data()}}function oE(e,t){return"string"==typeof t?eE(e,t):t instanceof Fx?t._internalPath:t._delegate._internalPath}function aE(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Lp(Pp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sE{}class lE extends sE{}function cE(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof sE&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof hE)).length,n=e.filter((e=>e instanceof uE)).length;if(t>1||t>0&&n>0)throw new Lp(Pp.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class uE extends lE{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new uE(e,t,n)}_apply(e){const t=this._parse(e);return pE(e._query,t),new Ex(e.firestore,e.converter,Bv(e._query,t))}_parse(e){const t=Vx(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Lp(Pp.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){mE(a,o);const t=[];for(const n of a)t.push(fE(r,e,n));s={arrayValue:{values:t}}}else s=fE(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||mE(a,o),s=Kx(n,t,a,"in"===o||"not-in"===o);return hv.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function dE(e,t,n){const r=t,i=oE("where",e);return uE._create(i,r,n)}class hE extends sE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hE(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:fv.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)pE(n,i),n=Bv(n,i)}(e._query,t),new Ex(e.firestore,e.converter,Bv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function fE(e,t,n){if("string"==typeof(n=ji(n))){if(""===n)throw new Lp(Pp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lv(t)&&-1!==n.indexOf("/"))throw new Lp(Pp.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(eg.fromString(n));if(!rg.isDocumentKey(r))throw new Lp(Pp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Yg(e,new rg(r))}if(n instanceof Sx)return Yg(e,n._key);throw new Lp(Pp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(bx(n),"."))}function mE(e,t){if(!Array.isArray(e)||0===e.length)throw new Lp(Pp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function pE(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Lp(Pp.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Lp(Pp.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class gE{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Vg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Og(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Fp()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return xg(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Ox(Rg(e.latitude),Rg(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Lg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Mg(e));default:return null}}convertTimestamp(e){const t=Fg(e);return new Xp(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=eg.fromString(e);Rp(Bb(n));const r=new zg(n.get(1),n.get(3)),i=new rg(n.popFirst(5));return r.isEqual(t)||Ap("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function vE(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class yE{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bE extends rE{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new wE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(oE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class wE extends bE{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class kE{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new yE(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new wE(this._firestore,this._userDataWriter,n.key,n,new yE(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Lp(Pp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new wE(e._firestore,e._userDataWriter,n.doc.key,n.doc,new yE(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new wE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new yE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:xE(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function xE(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fp()}}function EE(e){e=wx(e,Sx);const t=wx(e.firestore,Nx);return hx(Ax(t),e._key).then((n=>NE(t,e,n)))}class SE extends gE{constructor(e){super(),this.firestore=e}convertBytes(e){return new jx(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sx(this.firestore,null,t)}}function CE(e){e=wx(e,Ex);const t=wx(e.firestore,Nx),n=Ax(t),r=new SE(t);return aE(e._query),fx(n,e._query).then((n=>new kE(t,r,e,n)))}function _E(e,t,n){e=wx(e,Sx);const r=wx(e.firestore,Nx),i=vE(e.converter,t,n);return TE(r,[Hx(Vx(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,_y.none())])}function IE(e,t,n){e=wx(e,Sx);const r=wx(e.firestore,Nx),i=Vx(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];return o="string"==typeof(t=ji(t))||t instanceof Fx?Gx(i,"updateDoc",e._key,t,n,s):qx(i,"updateDoc",e._key,t),TE(r,[o.toMutation(e._key,_y.exists(!0))])}function TE(e,t){return function(e,t){const n=new Mp;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=ex(e);try{const e=await function(e,t){const n=Op(e),r=Xp.now(),i=t.reduce(((e,t)=>e.add(t.key)),sy());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=Jv(),l=sy();return n.ss.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=jy(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Oy(e.key,t,iv(t.value.mapValue),_y.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:ty(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Sa[e.currentUser.toKey()];r||(r=new Sg(Yp)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(r,e.batchId,n),await $k(r,e.changes),await rk(r.remoteStore)}catch(e){const t=vk(e,"Failed to persist write");n.reject(t)}}(await ux(e),t,n))),n.promise}(Ax(e),t)}function NE(e,t,n){const r=n.docs.get(t._key),i=new SE(e);return new bE(e,i,t._key,r,new yE(n.hasPendingWrites,n.fromCache),t.converter)}function AE(){return new Wx("deleteField")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){_p=e}(ko),vo(new Fi("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new Nx(new Vp(e.getProvider("auth-internal")),new Gp(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Lp(Pp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zg(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),So(Sp,"4.4.0",e),So(Sp,"4.4.0","esm2017")}();const DE="firebasestorage.googleapis.com",jE="storageBucket";class FE extends vi{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(PE(e),"Firebase Storage: ".concat(t," (").concat(PE(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,FE.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return PE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var RE,OE;function PE(e){return"storage/"+e}function LE(){return new FE(RE.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ME(){return new FE(RE.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function UE(){return new FE(RE.CANCELED,"User canceled the upload/download.")}function zE(e){return new FE(RE.INVALID_ARGUMENT,e)}function BE(){return new FE(RE.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(RE||(RE={}));class VE{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=VE.makeFromUrl(e,t)}catch(B_){return new VE(e,"")}if(""===n.path)return n;throw r=e,new FE(RE.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===DE?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<s.length;l++){const t=s[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new VE(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new FE(RE.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class HE{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function WE(e,t,n,r){if(r<t)throw zE("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw zE("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function qE(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function GE(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(OE||(OE={}));class KE{constructor(e,t,n,r,i,o,a,s,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new QE(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===OE.NO_ERROR,i=n.getStatus();if(!t||GE(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===OE.ABORT;return void e(!1,new QE(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new QE(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(B_){r(B_)}else if(null!==i){const e=LE();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?BE():UE())}else{r(ME())}};this.canceled_?t(0,new QE(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return 2===s}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){o&&clearTimeout(o)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),d(o)}let m=!1;function p(e){m||(m=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),d(0)):e||(s=1)))}return d(0),o=setTimeout((()=>{a=!0,p(!0)}),n),p}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class QE{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function YE(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class $E{constructor(e,t){this._service=e,this._location=t instanceof VE?t:VE.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new $E(e,t)}get root(){const e=new VE(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YE(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new VE(this._location.bucket,e);return new $E(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new FE(RE.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function XE(e,t){const n=null===t||void 0===t?void 0:t[jE];return null==n?null:VE.makeFromBucketSpec(n,e)}class JE{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=DE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?VE.makeFromBucketSpec(r,this._host):XE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=VE.makeFromBucketSpec(this._url,e):this._bucket=XE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){WE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){WE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $E(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new HE(BE());{const o=function(e,t,n,r,i,o){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const s=qE(e.urlParams),l=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new KE(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const ZE="@firebase/storage",eS="0.12.0",tS="storage";function nS(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new JE(r,i,o,n,ko)}vo(new Fi(tS,nS,"PUBLIC").setMultipleInstances(!0)),So(ZE,eS,""),So(ZE,eS,"esm2017");const rS=xo({apiKey:"AIzaSyA9bcuwb_3Df9gaX8yd4GhJSATPhyDbV0U",authDomain:"billybooks-fd184.firebaseapp.com",projectId:"billybooks-fd184",storageBucket:"billybooks-fd184.appspot.com",messagingSenderId:"49651883822",appId:"1:49651883822:web:eb24365686f64bc30c24bf",measurementId:"G-9QH9NH9ELG"}),iS=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eo();e=ji(e);const t=yo(e,ku);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=yo(e,ku);if(n.isInitialized()){const e=n.getImmediate();if(wi(t,n.getOptions()))return e;throw Tu.create("already-initialized")}const r=n.initialize({options:t})}(e)}(rS),Kl(rS)),oS=new gs,aS=function(e,t){const n="string"==typeof e?e:t||"(default)",r=yo("object"==typeof e?e:Eo(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=li("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=wx(e,xx))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==a&&Dp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Cp.MOCK_USER;else{t=hi(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Lp(Pp.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Cp(o)}e._authCredentials=new Bp(new Up(t,n))}}(r,...e)}return r}();!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eo(),t=arguments.length>1?arguments[1]:void 0;e=ji(e);const n=yo(e,tS).getImmediate({identifier:t}),r=li("storage");r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:hi(i,e.app.options.projectId))}(e,t,n,r)}(n,...r)}();function sS(){const[e,n]=(0,t.useState)();return(0,t.useEffect)((()=>{const e=function(e,t,n,r){return ji(e).onAuthStateChanged(t,n,r)}(iS,(e=>n(e)));return e}),[]),e}function lS(e){const{switchComponentHandler:n,handleShowAlert:r,signInWithGoogle:i}=e,[o,a]=(0,t.useState)(""),[s,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(""),[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)(!0),[v,y]=(0,t.useState)(!1),b=X(),w=_x(aS,"users"),k=(_x(aS,"libraries"),_x(aS,"loans"),e=>{"password"===e?u(!c):"confirmPassword"===e&&m(!f)});return(0,t.useEffect)((()=>{if(v)try{(async function(e,t,n){const r=Ka(e),i=Za(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bs),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ts(e),t})),a=await ws._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a})(iS,o,s).then((async()=>{console.log("Email registered with success:",o,s);if(iS.currentUser?iS.currentUser.uid:null)try{const e=Ix(w,iS.currentUser.uid);await _E(e,{email:o,userId:iS.currentUser.uid,accountCreationDate:(new Date).toISOString()})}catch(e){console.error(e)}else console.error("User not authenticated or authentication state still loading.");b("/create-profile")})).catch((e=>{"auth/email-already-in-use"===e.code?r({isError:!0,errorName:"emailInUse"}):console.error("Registration error:",e)}))}catch(e){console.error("Registration error:",e)}}),[v,o,s]),(0,me.jsx)(me.Fragment,{children:(0,me.jsxs)("div",{children:[(0,me.jsxs)("div",{className:"row align-items-start",style:{marginTop:"1rem"},children:[(0,me.jsx)("div",{className:"col-10 mx-auto titleFont",style:{fontSize:"1.8rem",textAlign:"left"},children:"Welcome to Billy Books!"}),(0,me.jsx)("div",{className:"col-10 mx-auto billyGreyText",style:{fontWeight:"600",textAlign:"left"},children:"Sign up to keep your shelves up to date"})]}),(0,me.jsxs)("form",{className:"col-10 mx-auto",style:{marginTop:"1rem"},children:[(0,me.jsxs)("div",{className:"form-group text-start",children:[(0,me.jsx)("label",{htmlFor:"email",style:{marginBottom:"0.5rem",display:"block",fontSize:"0.9rem",fontWeight:"600"},children:"Email"}),(0,me.jsx)("input",{type:"text",className:"billyInput rounded d-block col-12",id:"email",placeholder:"Set your email here",onChange:e=>{a(e.target.value)},onBlur:()=>{console.log("email",o)}})]}),(0,me.jsxs)("div",{className:"form-group text-start",style:{marginTop:"1rem"},children:[(0,me.jsx)("label",{htmlFor:"password",style:{marginBottom:"0.5rem",display:"block",fontSize:"0.9rem",fontWeight:"600"},children:"Password"}),(0,me.jsxs)("div",{className:"input-group",children:[(0,me.jsx)("input",{type:c?"text":"password",className:"form-control billyInput col-12",style:{borderRadius:"0.5rem 0rem 0rem 0.5rem",fontSize:"0.8rem",border:"0.1rem solid #D4D4D4"},id:"password",placeholder:"Create your password here",value:s,onChange:e=>{l(e.target.value)},onBlur:()=>{console.log("pass",s)}}),(0,me.jsx)("div",{className:"input-group-append",children:(0,me.jsx)("span",{className:"btn input-group-text",style:{borderRadius:"0rem 0.5rem 0.5rem 0rem",color:"#196FFA",backgroundColor:"white",border:"0.1rem solid #196FFA"},onClick:()=>k("password"),children:(0,me.jsx)(Xr,{icon:c?tc:Xl})})})]})]}),(0,me.jsx)("div",{style:{marginTop:"1rem"},children:(0,me.jsx)(uc,{password:s})}),(0,me.jsxs)("div",{className:"form-group text-start",style:{marginTop:"1rem"},children:[(0,me.jsx)("label",{htmlFor:"confirmPassword",style:{marginBottom:"0.5rem",display:"block",fontSize:"0.9rem",fontWeight:"600"},children:"Confirm Your Password"}),(0,me.jsxs)("div",{className:"input-group",children:[(0,me.jsx)("input",{type:f?"text":"password",className:"form-control billyInput col-12",style:{borderRadius:"0.5rem 0rem 0rem 0.5rem",fontSize:"0.8rem",border:"0.1rem solid #D4D4D4"},id:"confirmPassword",placeholder:"Confirm your password here",value:d,onChange:e=>{h(e.target.value)},onBlur:()=>{console.log("confirm pass",d)}}),(0,me.jsx)("div",{className:"input-group-append",children:(0,me.jsx)("span",{className:"btn input-group-text",style:{borderRadius:"0rem 0.5rem 0.5rem 0rem",color:"#196FFA",backgroundColor:"white",border:"0.1rem solid #196FFA"},onClick:()=>k("confirmPassword"),children:(0,me.jsx)(Xr,{icon:f?tc:Xl})})})]})]}),(0,me.jsx)("div",{className:"row",style:{marginTop:"2rem"},children:(0,me.jsxs)("div",{className:"col-12 mx-auto",children:[(0,me.jsx)("button",{className:"rounded-pill w-100 billyPrimaryButton",style:{fontSize:"0.8rem"},onClick:async e=>{if(e.preventDefault(),s!==d)return g(!1),void r({isError:!0,errorName:"passwordMismatch"});const t=await async function(e){const[,t]=e.split("@");return["gmail.com","hotmail.com","yahoo.com","outlook.com","aol.com","icloud.com","protonmail.com","mail.com","live.com","msn.com","ua.pt"].includes(t)}(o);t?y(!0):r({isError:!0,errorName:"providerError"})},children:"Register"}),(0,me.jsx)("div",{className:"billyGreyText text-center",style:{fontSize:"0.8rem",padding:"0.4rem"},children:"or"}),(0,me.jsxs)("button",{className:"rounded-pill w-100 billySecondaryButton",style:{fontSize:"0.8rem",fontWeight:"700"},onClick:i,children:[(0,me.jsx)(Xr,{icon:Zr.xY,style:{marginRight:"1rem"}}),"Continue with Google"]})]})})]}),(0,me.jsxs)("div",{style:{marginTop:"1.5rem",fontSize:"0.8rem"},className:"text-center",children:["Already have an account? ",(0,me.jsx)("span",{className:"text-decoration-underline",style:{color:"#196FFA",cursor:"pointer"},onClick:()=>{n(!1)},children:"Sign in here"})]})]})})}function cS(){const e=X(),n=Y(),[r,i]=(0,t.useState)(!1),o=_x(aS,"users"),a=e=>{i(e)};t.useEffect((()=>{var e;const t=null===n||void 0===n||null===(e=n.state)||void 0===e?void 0:e.component;"login"===t?i(!1):"register"===t&&i(!0)}),[n]);const[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(""),d=e=>{l(e.isError),u(e.errorName)},h=async t=>{t.preventDefault();try{await al(iS,oS);const t=iS.currentUser?iS.currentUser.uid:null,n=iS.currentUser?iS.currentUser.email:null;if(t&&n){const r=cE(o,dE("email","==",n));if((await CE(r)).size>0)return void d({isError:!0,errorName:"emailInUse"});const i=Ix(o,t);await _E(i,{email:n,userId:t,accountCreationDate:(new Date).toISOString()}),e("/create-profile")}else console.error("User not authenticated or authentication state still loading.")}catch(n){console.error("Google Sign In Error:",n)}},f=async t=>{t.preventDefault();try{const t=Kl();await al(t,oS);const r=t.currentUser.email,i=cE(o,dE("email","==",r));if((await CE(i)).size>0)e("/main");else{try{const e=Ix(o,t.currentUser.uid);await _E(e,{email:t.currentUser.email,userId:t.currentUser.uid,accountCreationDate:(new Date).toISOString()})}catch(n){console.error(n)}e("/create-profile")}}catch(n){console.error(n)}};return(0,me.jsxs)(me.Fragment,{children:[s?(0,me.jsx)(me.Fragment,{children:(0,me.jsxs)("div",{className:"fixed-top row",style:{backgroundColor:"#EA242E",color:"white"},children:["passwordMismatch"===c&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsxs)("div",{className:"col-10 text-start",style:{padding:"0.5rem 1rem",fontSize:"0.8rem"},children:[(0,me.jsx)("strong",{children:"Ups... something went wrong."})," Passwords do not match. Please try again."]}),(0,me.jsx)("div",{className:"col-2 d-flex align-items-center",onClick:()=>l(!1),style:{cursor:"pointer"},children:(0,me.jsx)(Xr,{icon:ic})})]}),"providerError"===c&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsxs)("div",{className:"col-10 text-start",style:{padding:"0.5rem 1rem",fontSize:"0.8rem"},children:[(0,me.jsx)("strong",{children:"Ups... something went wrong."})," Please use a valid email provider."]}),(0,me.jsx)("div",{className:"col-2 d-flex align-items-center",onClick:()=>l(!1),style:{cursor:"pointer"},children:(0,me.jsx)(Xr,{icon:ic})})]}),"emailInUse"===c&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsxs)("div",{className:"col-10 text-start",style:{padding:"0.5rem 1rem",fontSize:"0.8rem"},children:[(0,me.jsx)("strong",{children:"Ups... something went wrong."})," Please use a valid email address."]}),(0,me.jsx)("div",{className:"col-2 d-flex align-items-center",onClick:()=>l(!1),style:{cursor:"pointer"},children:(0,me.jsx)(Xr,{icon:ic})})]}),"invalidCredentials"===c&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsxs)("div",{className:"col-10 text-start",style:{padding:"0.5rem 1rem",fontSize:"0.8rem"},children:[(0,me.jsx)("strong",{children:"Ups... something went wrong."})," Please check if you're using the correct credentials."]}),(0,me.jsx)("div",{className:"col-2 d-flex align-items-center",onClick:()=>l(!1),style:{cursor:"pointer"},children:(0,me.jsx)(Xr,{icon:ic})})]})]})}):(0,me.jsx)(me.Fragment,{}),(0,me.jsx)("div",{className:"d-block-small d-md-none overflow-hidden",children:(0,me.jsx)("div",{className:"container d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:(0,me.jsx)("div",{className:"row",children:(0,me.jsxs)("div",{className:"align-items-center",children:[(0,me.jsx)("div",{className:"row",children:(0,me.jsx)("div",{className:"col-6 mx-auto text-center",children:(0,me.jsx)("img",{src:"/billybooks/myImgs/BillyBooks.png",alt:"Billy Books Logo",className:"img-fluid",onClick:()=>{e("/")}})})}),r?(0,me.jsx)(lS,{switchComponentHandler:a,handleShowAlert:d,signInWithGoogle:h}):(0,me.jsx)(cc,{switchComponentHandler:a,handleShowAlert:d,handleGoogleLogin:f})]})})})}),(0,me.jsx)("div",{className:"d-none d-md-block overflow-hidden",children:(0,me.jsxs)("div",{className:"row",children:[(0,me.jsx)("div",{className:"col-6 text-start",style:{paddingLeft:"2rem"},children:(0,me.jsx)("div",{className:"container d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:(0,me.jsx)("div",{className:"row",children:(0,me.jsxs)("div",{className:"align-items-center",children:[(0,me.jsx)("div",{className:"row",children:(0,me.jsx)("div",{className:"col-6 mx-auto text-center",children:(0,me.jsx)("img",{src:"/billybooks/myImgs/BillyBooks.png",alt:"Billy Books Logo",className:"img-fluid",onClick:()=>{e("/")},style:{cursor:"pointer"}})})}),r?(0,me.jsx)(lS,{switchComponentHandler:a,handleShowAlert:d,signInWithGoogle:h}):(0,me.jsx)(cc,{switchComponentHandler:a,handleGoogleLogin:f})]})})})}),(0,me.jsx)("div",{className:"col-6 text-start vh-100",children:(0,me.jsx)("img",{src:"/billybooks/myImgs/introImg.jpg",alt:"Billy Books Logo",className:"img-fluid",style:{objectFit:"cover",height:"100%"}})})]})})]})}function uS(e){const{handleShowAlert:n,handleComponentSwitch:r}=e,[i,o]=(0,t.useState)(""),[a,s]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(""),[m,p]=(0,t.useState)(""),[g,v]=(0,t.useState)(""),[y,b]=(0,t.useState)([]),w=_x(aS,"users"),k=_x(aS,"libraries"),x=sS(),[E,S]=(0,t.useState)("#196FFA"),[C,_]=(0,t.useState)("#D1E2FE");(0,t.useEffect)((()=>{(()=>{const e=[["#196FFA","#D1E2FE"],["#70163C","#FFBDD9"],["#FAB019","#FEEFD1"],["#E03616","#FFCBC2"],["#21D775","#BDFFDB"],["#D77821","#FFE5CE"],["#9F32F4","#EAD0FF"],["#42E3C6","#DDFFF9"],["#E342CA","#FFD0F8"]],t=Math.floor(Math.random()*e.length),n=e[t][0],r=e[t][1];S(n),_(r)})()}),[]),(0,t.useEffect)((()=>{c("")}),[]);(0,t.useEffect)((()=>{d("")}),[]);(0,t.useEffect)((()=>{f("")}),[]);(0,t.useEffect)((()=>{p("".concat(l," ").concat(u," ").concat(h))}),[l,u,h]),(0,t.useEffect)((()=>{fetch("https://restcountries.com/v3.1/all").then((e=>e.json())).then((e=>{const t=e.map((e=>e.name.common));b(t)})).catch((e=>{console.error("Error fetching countries:",e)}))}),[]);const[I,T]=(0,t.useState)(),[N,A]=(0,t.useState)(null),[D,j]=(0,t.useState)(),[F,R]=(0,t.useState)(!1),[O,P]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{x&&T(x.photoURL)}),[x]),(0,me.jsx)(me.Fragment,{children:(0,me.jsxs)("div",{className:"row align-items-center",style:{marginTop:"2rem"},children:[(0,me.jsx)("div",{className:"col-10 col-md-12 text-md-center mx-auto titleFont",style:{fontSize:"1.8rem",textAlign:"left"},children:"Let\u2019s Create Your Profile"}),(0,me.jsx)("div",{className:"col-10 col-md-12 text-md-center mx-auto billyGreyText",style:{fontWeight:"600",textAlign:"left"},children:"First, let\u2019s start with your general info"}),(0,me.jsxs)("div",{className:"d-flex justify-content-center align-items-center mx-auto",style:{width:"8rem",height:"8rem",overflow:"hidden",borderRadius:"50%",backgroundColor:"".concat(E),color:"".concat(C),position:"relative",marginTop:"2rem",marginBottom:"1rem"},children:[O?(0,me.jsx)("img",{src:D,alt:"Profile",style:{width:"auto",height:"100%",objectFit:"cover"}}):(0,me.jsxs)("span",{className:"titleFont",style:{fontSize:"2rem"},children:[i?i.charAt(0).toUpperCase():"B",a?a.charAt(0).toUpperCase():"B"]}),(0,me.jsx)("input",{type:"file",accept:"image/*",className:"form-control",id:"profileImage",onChange:e=>{const t=e.target.files[0];if(!t)return;if(t.size>1048487)return R(!0),void(e.target.value="");const n=new FileReader;n.onloadend=()=>{j(n.result),P(!0)},n.readAsDataURL(t),A(t)},style:{position:"absolute",width:"100%",height:"100%",opacity:0,cursor:"pointer"}})]}),(0,me.jsx)("p",{className:"billyGreyText",style:{fontSize:"0.8rem",fontWeight:"600"},children:"Click above to add your profile photo"}),(0,me.jsxs)("form",{className:"col-10 mx-auto",children:[(0,me.jsxs)("div",{className:"form-group text-start",children:[(0,me.jsx)("label",{htmlFor:"email",style:{marginBottom:"0.5rem",display:"block",fontSize:"0.9rem",fontWeight:"600"},children:"First Name"}),(0,me.jsx)("input",{type:"text",className:"billyInput rounded d-block col-12",id:"firstName",placeholder:"Enter your first name here",onChange:e=>{o(e.target.value),console.log("name: ",i)}})]}),(0,me.jsxs)("div",{className:"form-group text-start",children:[(0,me.jsx)("label",{htmlFor:"email",style:{marginTop:"1rem",marginBottom:"0.5rem",display:"block",fontSize:"0.9rem",fontWeight:"600"},children:"Last Name"}),(0,me.jsx)("input",{type:"text",className:"billyInput rounded d-block col-12",id:"surname",placeholder:"Enter your last name here",onChange:e=>{s(e.target.value),console.log("surname: ",a)}})]}),(0,me.jsxs)("div",{className:"form-group text-start",children:[(0,me.jsx)("label",{htmlFor:"birthday",style:{marginTop:"1rem",marginBottom:"0.5rem",display:"block",fontSize:"0.9rem",fontWeight:"600"},children:"Birthday"}),(0,me.jsxs)("div",{className:"col-12",children:[(0,me.jsxs)("select",{style:{marginRight:"1rem"},className:"billyInput rounded col-3",id:"day",value:l,onChange:e=>{return t=e.target.value,console.log("Day is: ",t),void c(t);var t},children:[(0,me.jsx)("option",{value:"",disabled:!0,children:"dd"}),Array.from({length:31},((e,t)=>t+1)).map((e=>(0,me.jsx)("option",{value:e,children:e},e)))]}),(0,me.jsxs)("select",{style:{marginRight:"1rem",paddingLeft:"0.5rem"},className:"billyInput rounded col-3",id:"month",value:u,onChange:e=>{return t=e.target.value,console.log("Month is: ",t),void d(t);var t},children:[(0,me.jsx)("option",{value:"",disabled:!0,children:"mm"}),(0,me.jsx)("option",{value:"January",children:"January"}),(0,me.jsx)("option",{value:"February",children:"February"}),(0,me.jsx)("option",{value:"March",children:"March"}),(0,me.jsx)("option",{value:"April",children:"April"}),(0,me.jsx)("option",{value:"May",children:"May"}),(0,me.jsx)("option",{value:"June",children:"June"}),(0,me.jsx)("option",{value:"July",children:"July"}),(0,me.jsx)("option",{value:"August",children:"August"}),(0,me.jsx)("option",{value:"September",children:"September"}),(0,me.jsx)("option",{value:"October",children:"October"}),(0,me.jsx)("option",{value:"November",children:"November"}),(0,me.jsx)("option",{value:"December",children:"December"})]}),(0,me.jsxs)("select",{style:{paddingLeft:"1rem"},className:"billyInput rounded col-4",id:"year",value:h,onChange:e=>{return t=e.target.value,console.log("Year is: ",t),void f(t);var t},children:[(0,me.jsx)("option",{value:"",disabled:!0,children:"yyyy"}),Array.from({length:101},((e,t)=>(new Date).getFullYear()-t)).map((e=>(0,me.jsx)("option",{value:e,children:e},e)))]})]})]}),(0,me.jsxs)("div",{className:"form-group text-start",children:[(0,me.jsx)("label",{htmlFor:"country",style:{marginTop:"1rem",marginBottom:"0.5rem",display:"block",fontSize:"0.9rem",fontWeight:"600"},children:"Country"}),(0,me.jsxs)("select",{style:{marginRight:"1rem"},className:"billyInput rounded col-12",id:"day",value:g,onChange:e=>{return t=e.target.value,v(t),void console.log(g);var t},children:[(0,me.jsx)("option",{value:"",disabled:!0,children:"Select your Country"}),y.sort().map((e=>(0,me.jsx)("option",{value:e,children:e},e)))]})]}),(0,me.jsx)("button",{className:"rounded-pill w-100 billyPrimaryButton",style:{marginTop:"1rem",marginBottom:"2rem",fontSize:"0.8rem"},onClick:async e=>{e.preventDefault();const t=iS.currentUser?iS.currentUser.uid:null;if(i&&a&&m&&g)try{const e=Ix(w,t);await IE(e,{name:i,surname:a,birthday:m,country:g,avatar:O?D:null});const o=Ix(k,t);await _E(o,{Favourites:{created:"2023-12-29T13:20:43.138Z",shelfName:"Favourites",description:"Your cherished reads find a home here. The Favorites Shelf holds the books that touched your heart, always ready for a revisit.",books:{}},Read:{created:"2023-12-29T13:22:43.138Z",shelfName:"Read",description:"Completed tales reside here. The Read Shelf is a gallery of conquered books, a visual journey through stories once explored.",books:{}},CurrentlyReading:{created:"2023-12-29T13:28:43.138Z",shelfName:"Currently Reading",description:"Your reading now lives here. The Currently Reading Shelf tracks your ongoing adventures, making multitasking a breeze.",books:{}}}),n({isError:!1,message:"User information updated successfully!"}),r&&r("CreateShelves")}catch(o){console.error("Error updating user information:",o),n({isError:!0,errorName:"updateError"})}else n({isError:!0,errorName:"missingFields"})},children:"Next"})]})]})})}var dS=n(694),hS=n.n(dS);const fS=!("undefined"===typeof window||!window.document||!window.document.createElement);var mS=!1,pS=!1;try{var gS={get passive(){return mS=!0},get once(){return pS=mS=!0}};fS&&(window.addEventListener("test",gS,gS),window.removeEventListener("test",gS,!0))}catch(B_){}const vS=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!pS){var i=r.once,o=r.capture,a=n;!pS&&i&&(a=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=a),e.addEventListener(t,a,mS?r:o)}e.addEventListener(t,n,r)};function yS(e){return e&&e.ownerDocument||document}const bS=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var wS;function kS(e){if((!wS&&0!==wS||e)&&fS){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),wS=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return wS}const xS=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function ES(e){const n=xS(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const SS=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const CS=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=SS(e),r=SS(t);return e=>{n&&n(e),r&&r(e)}}(e,n)),[e,n])};function _S(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((()=>()=>n.current()),[])}function IS(e,t){return function(e){var t=yS(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var TS=/([A-Z])/g;var NS=/^ms-/;function AS(e){return function(e){return e.replace(TS,"-$1").toLowerCase()}(e).replace(NS,"-ms-")}var DS=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const jS=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(AS(t))||IS(e).getPropertyValue(AS(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!DS.test(e))}(i)?n+=AS(i)+": "+o+";":r+=i+"("+o+") ":e.style.removeProperty(AS(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};const FS=function(e,t,n,r){return vS(e,t,n,r),function(){bS(e,t,n,r)}};function RS(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),o=FS(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}function OS(e,t,n,r){null==n&&(n=function(e){var t=jS(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=RS(e,n,r),o=FS(e,"transitionend",t);return function(){i(),o()}}function PS(e){void 0===e&&(e=yS());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(B_){return e.body}}function LS(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}const MS=(US="modal-open","".concat("data-rr-ui-").concat(US));var US;const zS=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(jS(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(MS,""),jS(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(MS),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},BS=(0,t.createContext)(fS?window:void 0);BS.Provider;function VS(){return(0,t.useContext)(BS)}const HS=(e,t)=>fS?null==e?(t||yS()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const WS="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,qS="undefined"!==typeof document||WS?t.useLayoutEffect:t.useEffect;const GS=function(e){let{children:n,in:r,onExited:i,mountOnEnter:o,unmountOnExit:a}=e;const s=(0,t.useRef)(null),l=(0,t.useRef)(r),c=ES(i);(0,t.useEffect)((()=>{r?l.current=!0:c(s.current)}),[r,c]);const u=CS(s,n.ref),d=(0,t.cloneElement)(n,{ref:u});return r?d:a||!l.current&&o?null:d};function KS(e){let{children:n,in:r,onExited:i,onEntered:o,transition:a}=e;const[s,l]=(0,t.useState)(!r);r&&s&&l(!1);const c=function(e){let{in:n,onTransition:r}=e;const i=(0,t.useRef)(null),o=(0,t.useRef)(!0),a=ES(r);return qS((()=>{if(!i.current)return;let e=!1;return a({in:n,element:i.current,initial:o.current,isStale:()=>e}),()=>{e=!0}}),[n,a]),qS((()=>(o.current=!1,()=>{o.current=!0})),[]),i}({in:!!r,onTransition:e=>{Promise.resolve(a(e)).then((()=>{e.isStale()||(e.in?null==o||o(e.element,e.initial):(l(!0),null==i||i(e.element)))}),(t=>{throw e.in||l(!0),t}))}}),u=CS(c,n.ref);return s&&!r?null:(0,t.cloneElement)(n,{ref:u})}function QS(e,t,n){return e?(0,me.jsx)(e,Object.assign({},n)):t?(0,me.jsx)(KS,Object.assign({},n,{transition:t})):(0,me.jsx)(GS,Object.assign({},n))}const YS=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let $S;function XS(e){const n=VS(),r=e||function(e){return $S||($S=new zS({ownerDocument:null==e?void 0:e.document})),$S}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>r.add(i.current),remove:()=>r.remove(i.current),isTopModal:()=>r.isTopModal(i.current),setDialogRef:(0,t.useCallback)((e=>{i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((e=>{i.current.backdrop=e}),[])})}const JS=(0,t.forwardRef)(((e,n)=>{let{show:r=!1,role:i="dialog",className:o,style:a,children:s,backdrop:l=!0,keyboard:c=!0,onBackdropClick:u,onEscapeKeyDown:d,transition:h,runTransition:f,backdropTransition:m,runBackdropTransition:p,autoFocus:g=!0,enforceFocus:v=!0,restoreFocus:y=!0,restoreFocusOptions:b,renderDialog:w,renderBackdrop:k=(e=>(0,me.jsx)("div",Object.assign({},e))),manager:x,container:E,onShow:S,onHide:C=(()=>{}),onExit:_,onExited:I,onExiting:T,onEnter:N,onEntering:A,onEntered:D}=e,j=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,YS);const F=VS(),R=function(e,n){const r=VS(),[i,o]=(0,t.useState)((()=>HS(e,null==r?void 0:r.document)));if(!i){const t=HS(e);t&&o(t)}return(0,t.useEffect)((()=>{n&&i&&n(i)}),[n,i]),(0,t.useEffect)((()=>{const t=HS(e);t!==i&&o(t)}),[e,i]),i}(E),O=XS(x),P=function(){const e=(0,t.useRef)(!0),n=(0,t.useRef)((()=>e.current));return(0,t.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),n.current}(),L=function(e){const n=(0,t.useRef)(null);return(0,t.useEffect)((()=>{n.current=e})),n.current}(r),[M,U]=(0,t.useState)(!r),z=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(()=>O),[O]),fS&&!L&&r&&(z.current=PS(null==F?void 0:F.document)),r&&M&&U(!1);const B=ES((()=>{if(O.add(),K.current=FS(document,"keydown",q),G.current=FS(document,"focus",(()=>setTimeout(H)),!0),S&&S(),g){var e,t;const n=PS(null!=(e=null==(t=O.dialog)?void 0:t.ownerDocument)?e:null==F?void 0:F.document);O.dialog&&n&&!LS(O.dialog,n)&&(z.current=n,O.dialog.focus())}})),V=ES((()=>{var e;(O.remove(),null==K.current||K.current(),null==G.current||G.current(),y)&&(null==(e=z.current)||null==e.focus||e.focus(b),z.current=null)}));(0,t.useEffect)((()=>{r&&R&&B()}),[r,R,B]),(0,t.useEffect)((()=>{M&&V()}),[M,V]),_S((()=>{V()}));const H=ES((()=>{if(!v||!P()||!O.isTopModal())return;const e=PS(null==F?void 0:F.document);O.dialog&&e&&!LS(O.dialog,e)&&O.dialog.focus()})),W=ES((e=>{e.target===e.currentTarget&&(null==u||u(e),!0===l&&C())})),q=ES((e=>{c&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&O.isTopModal()&&(null==d||d(e),e.defaultPrevented||C())})),G=(0,t.useRef)(),K=(0,t.useRef)();if(!R)return null;const Q=Object.assign({role:i,ref:O.setDialogRef,"aria-modal":"dialog"===i||void 0},j,{style:a,className:o,tabIndex:-1});let Y=w?w(Q):(0,me.jsx)("div",Object.assign({},Q,{children:t.cloneElement(s,{role:"document"})}));Y=QS(h,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:_,onExiting:T,onExited:function(){U(!0),null==I||I(...arguments)},onEnter:N,onEntering:A,onEntered:D,children:Y});let $=null;return l&&($=k({ref:O.setBackdropRef,onClick:W}),$=QS(m,p,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:$})),(0,me.jsx)(me.Fragment,{children:ge.createPortal((0,me.jsxs)(me.Fragment,{children:[$,Y]}),R)})}));JS.displayName="Modal";const ZS=Object.assign(JS,{Manager:zS});var eC=Function.prototype.bind.call(Function.prototype.call,[].slice);function tC(e,t){return eC(e.querySelectorAll(t))}function nC(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const rC=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",iC=".sticky-top",oC=".navbar-toggler";class aC extends zS{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,jS(t,{[e]:"".concat(parseFloat(jS(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],jS(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";tC(t,rC).forEach((t=>this.adjustAndStore(i,t,e.scrollBarWidth))),tC(t,iC).forEach((t=>this.adjustAndStore(o,t,-e.scrollBarWidth))),tC(t,oC).forEach((t=>this.adjustAndStore(o,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=nC(n.className,r):n.setAttribute("class",nC(n.className&&n.className.baseVal||"",r));const i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";tC(t,rC).forEach((e=>this.restore(i,e))),tC(t,iC).forEach((e=>this.restore(o,e))),tC(t,oC).forEach((e=>this.restore(o,e)))}}let sC;function lC(e,t){return lC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lC(e,t)}const cC=!1,uC=t.createContext(null);var dC="unmounted",hC="exited",fC="entering",mC="entered",pC="exiting",gC=function(e){var n,r;function i(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=hC,r.appearStatus=fC):i=mC:i=t.unmountOnExit||t.mountOnEnter?dC:hC,r.state={status:i},r.nextCallback=null,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,lC(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===dC?{status:hC}:null};var o=i.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==fC&&n!==mC&&(t=fC):n!==fC&&n!==mC||(t=pC)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===fC){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:ge.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===hC&&this.setState({status:dC})},o.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[ge.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||cC?this.safeSetState({status:mC},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:fC},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:mC},(function(){t.props.onEntered(o,a)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:ge.findDOMNode(this);t&&!cC?(this.props.onExit(r),this.safeSetState({status:pC},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:hC},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:hC},(function(){e.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:ge.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===dC)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(uC.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},i}(t.Component);function vC(){}gC.contextType=uC,gC.propTypes={},gC.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:vC,onEntering:vC,onEntered:vC,onExit:vC,onExiting:vC,onExited:vC},gC.UNMOUNTED=dC,gC.EXITED=hC,gC.ENTERING=fC,gC.ENTERED=mC,gC.EXITING=pC;const yC=gC;function bC(e,t){const n=jS(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function wC(e,t){const n=bC(e,"transitionDuration"),r=bC(e,"transitionDelay"),i=OS(e,(n=>{n.target===e&&(i(),t(n))}),n+r)}const kC=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:i,onEntered:o,onExit:a,onExiting:s,onExited:l,addEndListener:c,children:u,childRef:d,...h}=e;const f=(0,t.useRef)(null),m=CS(f,d),p=e=>{var t;m((t=e)&&"setState"in t?ge.findDOMNode(t):null!=t?t:null)},g=e=>t=>{e&&f.current&&e(f.current,t)},v=(0,t.useCallback)(g(r),[r]),y=(0,t.useCallback)(g(i),[i]),b=(0,t.useCallback)(g(o),[o]),w=(0,t.useCallback)(g(a),[a]),k=(0,t.useCallback)(g(s),[s]),x=(0,t.useCallback)(g(l),[l]),E=(0,t.useCallback)(g(c),[c]);return(0,me.jsx)(yC,{ref:n,...h,onEnter:v,onEntered:b,onEntering:y,onExit:w,onExited:x,onExiting:k,addEndListener:E,nodeRef:f,children:"function"===typeof u?(e,t)=>u(e,{...t,ref:p}):t.cloneElement(u,{ref:p})})})),xC=kC,EC={[fC]:"show",[mC]:"show"},SC=t.forwardRef(((e,n)=>{let{className:r,children:i,transitionClasses:o={},onEnter:a,...s}=e;const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},c=(0,t.useCallback)(((e,t)=>{!function(e){e.offsetHeight}(e),null==a||a(e,t)}),[a]);return(0,me.jsx)(xC,{ref:n,addEndListener:wC,...l,onEnter:c,childRef:i.ref,children:(e,n)=>t.cloneElement(i,{...n,className:hS()("fade",r,i.props.className,EC[e],o[e])})})}));SC.displayName="Fade";const CC=SC,_C=["xxl","xl","lg","md","sm","xs"],IC="xs",TC=t.createContext({prefixes:{},breakpoints:_C,minBreakpoint:IC}),{Consumer:NC,Provider:AC}=TC;function DC(e,n){const{prefixes:r}=(0,t.useContext)(TC);return e||r[n]||n}const jC=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=DC(r,"modal-body"),(0,me.jsx)(i,{ref:t,className:hS()(n,r),...o})}));jC.displayName="ModalBody";const FC=jC,RC=t.createContext({onHide(){}}),OC=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,contentClassName:i,centered:o,size:a,fullscreen:s,children:l,scrollable:c,...u}=e;n=DC(n,"modal");const d="".concat(n,"-dialog"),h="string"===typeof s?"".concat(n,"-fullscreen-").concat(s):"".concat(n,"-fullscreen");return(0,me.jsx)("div",{...u,ref:t,className:hS()(d,r,a&&"".concat(n,"-").concat(a),o&&"".concat(d,"-centered"),c&&"".concat(d,"-scrollable"),s&&h),children:(0,me.jsx)("div",{className:hS()("".concat(n,"-content"),i),children:l})})}));OC.displayName="ModalDialog";const PC=OC,LC=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=DC(r,"modal-footer"),(0,me.jsx)(i,{ref:t,className:hS()(n,r),...o})}));LC.displayName="ModalFooter";const MC=LC,UC={"aria-label":Mr().string,onClick:Mr().func,variant:Mr().oneOf(["white"])},zC=t.forwardRef(((e,t)=>{let{className:n,variant:r,"aria-label":i="Close",...o}=e;return(0,me.jsx)("button",{ref:t,type:"button",className:hS()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":i,...o})}));zC.displayName="CloseButton",zC.propTypes=UC;const BC=zC,VC=t.forwardRef(((e,n)=>{let{closeLabel:r="Close",closeVariant:i,closeButton:o=!1,onHide:a,children:s,...l}=e;const c=(0,t.useContext)(RC),u=ES((()=>{null==c||c.onHide(),null==a||a()}));return(0,me.jsxs)("div",{ref:n,...l,children:[s,o&&(0,me.jsx)(BC,{"aria-label":r,variant:i,onClick:u})]})})),HC=VC,WC=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:o=!1,...a}=e;return n=DC(n,"modal-header"),(0,me.jsx)(HC,{ref:t,...a,className:hS()(r,n),closeLabel:i,closeButton:o})}));WC.displayName="ModalHeader";const qC=WC,GC=(KC="h4",t.forwardRef(((e,t)=>(0,me.jsx)("div",{...e,ref:t,className:hS()(e.className,KC)}))));var KC;const QC=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=GC,...o}=e;return r=DC(r,"modal-title"),(0,me.jsx)(i,{ref:t,className:hS()(n,r),...o})}));QC.displayName="ModalTitle";const YC=QC;function $C(e){return(0,me.jsx)(CC,{...e,timeout:null})}function XC(e){return(0,me.jsx)(CC,{...e,timeout:null})}const JC=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,style:o,dialogClassName:a,contentClassName:s,children:l,dialogAs:c=PC,"aria-labelledby":u,"aria-describedby":d,"aria-label":h,show:f=!1,animation:m=!0,backdrop:p=!0,keyboard:g=!0,onEscapeKeyDown:v,onShow:y,onHide:b,container:w,autoFocus:k=!0,enforceFocus:x=!0,restoreFocus:E=!0,restoreFocusOptions:S,onEntered:C,onExit:_,onExiting:I,onEnter:T,onEntering:N,onExited:A,backdropClassName:D,manager:j,...F}=e;const[R,O]=(0,t.useState)({}),[P,L]=(0,t.useState)(!1),M=(0,t.useRef)(!1),U=(0,t.useRef)(!1),z=(0,t.useRef)(null),[B,V]=(0,t.useState)(null),H=CS(n,V),W=ES(b),q=function(){const{dir:e}=(0,t.useContext)(TC);return"rtl"===e}();r=DC(r,"modal");const G=(0,t.useMemo)((()=>({onHide:W})),[W]);function K(){return j||function(e){return sC||(sC=new aC(e)),sC}({isRTL:q})}function Q(e){if(!fS)return;const t=K().getScrollbarWidth()>0,n=e.scrollHeight>yS(e).documentElement.clientHeight;O({paddingRight:t&&!n?kS():void 0,paddingLeft:!t&&n?kS():void 0})}const Y=ES((()=>{B&&Q(B.dialog)}));_S((()=>{bS(window,"resize",Y),null==z.current||z.current()}));const $=()=>{M.current=!0},X=e=>{M.current&&B&&e.target===B.dialog&&(U.current=!0),M.current=!1},J=()=>{L(!0),z.current=OS(B.dialog,(()=>{L(!1)}))},Z=e=>{"static"!==p?U.current||e.target!==e.currentTarget?U.current=!1:null==b||b():(e=>{e.target===e.currentTarget&&J()})(e)},ee=(0,t.useCallback)((e=>(0,me.jsx)("div",{...e,className:hS()("".concat(r,"-backdrop"),D,!m&&"show")})),[m,D,r]),te={...o,...R};te.display="block";return(0,me.jsx)(RC.Provider,{value:G,children:(0,me.jsx)(ZS,{show:f,ref:H,backdrop:p,container:w,keyboard:!0,autoFocus:k,enforceFocus:x,restoreFocus:E,restoreFocusOptions:S,onEscapeKeyDown:e=>{g?null==v||v(e):(e.preventDefault(),"static"===p&&J())},onShow:y,onHide:b,onEnter:(e,t)=>{e&&Q(e),null==T||T(e,t)},onEntering:(e,t)=>{null==N||N(e,t),vS(window,"resize",Y)},onEntered:C,onExit:e=>{null==z.current||z.current(),null==_||_(e)},onExiting:I,onExited:e=>{e&&(e.style.display=""),null==A||A(e),bS(window,"resize",Y)},manager:K(),transition:m?$C:void 0,backdropTransition:m?XC:void 0,renderBackdrop:ee,renderDialog:e=>(0,me.jsx)("div",{role:"dialog",...e,style:te,className:hS()(i,r,P&&"".concat(r,"-static"),!m&&"show"),onClick:p?Z:void 0,onMouseUp:X,"aria-label":h,"aria-labelledby":u,"aria-describedby":d,children:(0,me.jsx)(c,{...F,onMouseDown:$,className:a,contentClassName:s,children:l})})})})}));JC.displayName="Modal";const ZC=Object.assign(JC,{Body:FC,Header:qC,Title:YC,Footer:MC,Dialog:PC,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function e_(e){const{showAddBookToShelfModal:n,onHide:r,userLibrary:i,selectedBook:o}=e;console.log("biblioteca: ",i),console.log("livro atual: ",o),console.log("0",i[0]);const[a,s]=(0,t.useState)([]),l=_x(aS,"libraries"),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),f=e=>e.replace(/([a-z])([A-Z])/g,"$1 $2"),m=i[0]?Object.keys(i[0]).map((e=>{const t=f(e),n=i[0][e];return{shelfName:e,ShowName:t,checked:!(!n.books||!n.books[o.id]),created:n.created}})):[];console.log("forma inicial: ",m),(0,t.useEffect)((()=>{(async()=>{const e=iS.currentUser?iS.currentUser.uid:null;try{console.log("Before reset: temporaryShelves",c),u([]),console.log("After reset: temporaryShelves",c);const t=Ix(l,e),n=await EE(t);if(n.exists()){const e=n.data(),t=[];e&&Object.keys(e).forEach((n=>{const r=f(n),i=e[n],a=i.books&&i.books[o.id],s=t.findIndex((e=>e.shelfName===n));a&&-1===s?t.push({shelfName:n,ShowName:r,checked:!0,created:i.created}):a||-1!==s?-1!==s&&(t[s].checked=d.includes(n)):t.push({shelfName:n,showName:r,checked:!1,created:i.created})})),u(t),console.log("After setTemporaryShelves: temporaryShelves",c)}}catch(t){console.error(t)}})()}),[]);const p=c.filter(((e,t,n)=>t===n.findIndex((t=>t.shelfName===e.shelfName))));console.log("biblioteca tempor\xe1ria: ",p);return console.log("checked: ",d),(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(ZC,{show:n,onHide:()=>r(),centered:!0,children:(0,me.jsxs)(FC,{children:[(0,me.jsxs)("div",{className:"row",children:[(0,me.jsx)("div",{className:"col-3",children:(0,me.jsx)("img",{src:o.cover,alt:o.title,style:{width:"100%",height:"auto",objectFit:"cover",border:"0.05rem solid #6F6F6F"}})}),(0,me.jsxs)("p",{className:"col-9",children:["Where do you wish to save"," ",(0,me.jsx)("span",{className:"fst-italic fw-bolder",style:{color:"#196FFA"},children:o.title})]}),(0,me.jsx)("div",{style:{maxHeight:"14rem",overflowY:"auto",marginTop:"1rem"},children:i[0]&&Object.entries(i[0]).filter((e=>{let[t,n]=e;return"id"!==t})).sort(((e,t)=>{let[,n]=e,[,r]=t;return new Date(r.created)-new Date(n.created)})).map((e=>{let[t,n]=e;const r=p.find((e=>e.shelfName===t)),i=!!r&&r.checked;return(0,me.jsxs)("div",{className:"form-check",style:{marginBottom:"1rem"},children:[(0,me.jsx)("input",{type:"checkbox",className:"form-check-input",id:t,checked:i,onChange:()=>(e=>{u((t=>t.map((t=>t.shelfName===e?{...t,checked:!t.checked}:t))))})(t)}),(0,me.jsxs)("label",{className:"form-check-label",htmlFor:n.shelfName,style:{},children:[(0,me.jsx)("span",{className:"titleFont",children:n.shelfName}),(0,me.jsx)("br",{}),(0,me.jsx)("span",{className:"billyGreyText",style:{fontSize:"0.8rem"},children:n.description})]})]},t)}))})]}),(0,me.jsxs)("div",{className:"d-flex justify-content-between",style:{marginTop:"1rem"},children:[(0,me.jsx)("button",{className:"rounded-pill billySecondaryButton col-4",style:{fontSize:"0.8rem"},onClick:async()=>{const e=iS.currentUser?iS.currentUser.uid:null;try{const t=Ix(l,e),n={id:o.id,title:o.title,authors:o.authors,description:o.description,cover:o.cover,category:Array.isArray(o.categories)?o.categories:[],publishedDate:o.publishedDate,added:(new Date).toISOString()},r={...i[0]};p.forEach((e=>{const{shelfName:t,checked:i}=e;i?(r[t].books||(r[t].books={}),r[t].books[n.id]=n):r[t].books&&delete r[t].books[n.id]})),await IE(t,r),console.log("Opera\xe7\xe3o conclu\xedda com sucesso!")}catch(t){console.error(t)}r()},children:"Confirm"}),(0,me.jsx)("button",{className:"rounded-pill billyCancelButton col-4",style:{fontSize:"0.8rem"},onClick:()=>r(),children:"Cancel"})]})]})})})}const t_=e=>{let{handleSearchBooks:t,displayedBooks:n,books:r,handleAddToShelf:i,handleShowMore:o,handleBookClick:a}=e;return(0,me.jsxs)("div",{className:"col-10 mx-auto",children:[(0,me.jsxs)("div",{className:"form-group text-start",children:[(0,me.jsx)("label",{htmlFor:"search",style:{marginBottom:"0.5rem",display:"block",fontSize:"0.9rem",fontWeight:"600"},children:"Search"}),(0,me.jsx)("input",{type:"text",className:"billyInput rounded d-block col-12",id:"search",placeholder:"Search for a book or an author here",onChange:t})]}),(0,me.jsx)("div",{className:"col-10 mx-auto",style:{marginTop:"2rem"},children:(0,me.jsx)("div",{className:"row",children:r.slice(0,n).map((e=>(0,me.jsxs)("div",{className:"col-12 col-md-4 mb-4",children:[(0,me.jsx)("div",{className:"titleFont col-10 mx-auto",children:e.title}),(0,me.jsxs)("div",{className:"billyGreyText",style:{marginBottom:"0.4rem",fontSize:"0.8rem"},children:["por ",e.authors]}),(0,me.jsx)("img",{src:e.cover,alt:e.title,style:{border:"0.05rem solid #6F6F6F"},onClick:()=>a&&a(e)}),(0,me.jsx)("button",{className:"rounded-pill w-50 billySecondaryButton",style:{fontSize:"0.8rem",fontWeight:"700",marginTop:"0.4rem"},onClick:()=>{i(e)},children:"Add to shelf"})]},e.id)))})}),n<r.length&&(0,me.jsx)("div",{className:"text-center mt-3",children:(0,me.jsx)("button",{className:"rounded-pill w-100 billySecondaryButton",style:{fontSize:"0.8rem",fontWeight:"700",marginBottom:"2rem"},onClick:o,children:"Show more results"})})]})},n_=async(e,t,n,r)=>{console.log(e);const i=iS.currentUser?iS.currentUser.uid:null,o=_x(aS,"libraries");try{const a=(await CE(o)).docs.map((e=>({...e.data(),id:e.id}))).filter((e=>e.id===i));t(a),n(e),r(!0)}catch(a){console.error("Error retrieving user shelves:",a)}};function r_(e){const{handleProgress:n,handleShowAlert:r,handleComponentSwitch:i}=e,[o,a]=(0,t.useState)(""),[s,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(4),[d,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(),[p,g]=(0,t.useState)([]);n(45),(0,t.useEffect)((()=>{console.log(f)}),[f]);return(0,me.jsxs)(me.Fragment,{children:[d&&(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(e_,{showAddBookToShelfModal:d,onHide:()=>h(!1),userLibrary:f,selectedBook:p})}),(0,me.jsxs)("div",{className:"row align-items-center",style:{marginTop:"2rem"},children:[(0,me.jsx)("div",{className:"col-10 mx-auto titleFont",style:{fontSize:"1.8rem",textAlign:"left"},children:"Let\u2019s Add Some Books"}),(0,me.jsx)("div",{className:"col-10 mx-auto billyGreyText",style:{fontWeight:"600",textAlign:"left",marginBottom:"2rem"},children:"Billy Books has 3 different shelves: one for currently reading books, another for read books and a third for your favourites"}),(0,me.jsx)(t_,{handleSearchBooks:async e=>{const t=e.target.value;if(!t.trim())return l([]),void u(4);a(t);try{const e=await fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(encodeURIComponent(t)));if(!e.ok)throw new Error("Google Books API request failed with status ".concat(e.status));const n=await e.json();console.log(n);const r=n.items.map((e=>{var t;return{id:e.id,title:e.volumeInfo.title,authors:e.volumeInfo.authors||[],description:e.volumeInfo.description||"",cover:(null===(t=e.volumeInfo.imageLinks)||void 0===t?void 0:t.thumbnail)||"",categories:e.volumeInfo.categories||[],publishedDate:e.volumeInfo.publishedDate||""}})).filter((e=>e.categories.length>0)).sort(((e,t)=>new Date(t.publishedDate)-new Date(e.publishedDate))),i=new Set,o=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,""),a=r.filter((e=>{const t=o(e.title.toLowerCase());return!(i.has(t)||!e.cover)&&(i.add(t),!0)}));l(a)}catch(n){console.error("Error searching books:",n)}},displayedBooks:c,books:s,handleAddToShelf:e=>n_(e,m,g,h),handleShowMore:()=>{u((e=>e+4))}}),(0,me.jsxs)("div",{className:"col-10 mx-auto",children:[(0,me.jsx)("button",{className:"rounded-pill w-100 billyPrimaryButton",style:{fontSize:"0.8rem"},onClick:()=>{r({isError:!1,message:"Books Added!"}),i&&i("FindFriends")},children:"Continue"}),(0,me.jsx)("div",{onClick:()=>{r({isError:!1,message:"User information updated successfully!"}),i&&i("CreateShelves")},className:"text-center text-decoration-underline",style:{fontSize:"0.8rem",fontWeight:"600",color:"#196FFA",marginTop:"1rem",cursor:"pointer",marginBottom:"2rem"},children:"Back"})]})]})]})}function i_(e){const{showRemoveModal:t,handleRemoveShelf:n,cancelRemoveShelf:r,selectedShelf:i}=e;return(0,me.jsx)(ZC,{show:t,onHide:r,centered:!0,children:(0,me.jsxs)(FC,{children:[(0,me.jsxs)("p",{children:["Do you wish to remove the shelf ",(0,me.jsx)("span",{className:"fst-italic fw-bolder",style:{color:"#196FFA"},children:i}),"?"]}),(0,me.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,me.jsx)("button",{className:"rounded-pill billySecondaryButton col-4",style:{fontSize:"0.8rem"},onClick:()=>n(i),children:"Confirm"}),(0,me.jsx)("button",{className:"rounded-pill billyCancelButton col-4",style:{fontSize:"0.8rem"},onClick:r,children:"Cancel"})]})]})})}const o_=e=>{let{showAddModal:t,setShowAddModal:n,setNewShelfName:r,setNewShelfDescription:i,handleAddShelf:o,maxLength:a,handleShowAlert:s,cancelAddShelf:l,newShelfDescription:c,newShelfName:u}=e;return(0,me.jsx)(ZC,{show:t,onHide:()=>n(!1),centered:!0,children:(0,me.jsxs)(FC,{children:[(0,me.jsxs)("form",{children:[(0,me.jsx)("label",{htmlFor:"shelfName",style:{marginBottom:"0.5rem",display:"block",fontSize:"0.9rem",fontWeight:"600"},children:"Shelf Name"}),(0,me.jsx)("input",{type:"text",style:{marginBottom:"1rem"},className:"billyInput rounded d-block col-12",id:"newShelfNameId",placeholder:"Name this shelf",onChange:e=>{r(e.target.value)}}),(0,me.jsx)("label",{htmlFor:"shelfName",style:{marginBottom:"0.5rem",display:"block",fontSize:"0.9rem",fontWeight:"600"},children:"Shelf Name"}),(0,me.jsx)("textarea",{rows:"5",style:{marginBottom:"1rem"},className:"billyInput rounded d-block col-12",id:"newShelfDescriptionId",placeholder:"Describe this shelf (max: 250 characters)",maxLength:a,onChange:e=>{const t=e.target.value;t.length<=a?i(t):s({isError:!0,errorName:"descriptionTooLong"})}}),(0,me.jsxs)("div",{style:{marginTop:"0.5rem",color:c.length>a?"red":"inherit"},children:[c.length,"/",a," characters"]})]}),(0,me.jsxs)("div",{className:"d-flex justify-content-between",style:{marginTop:"2rem"},children:[(0,me.jsx)("button",{className:"rounded-pill billySecondaryButton col-4",style:{fontSize:"0.8rem"},onClick:()=>o(u,c),children:"Confirm"}),(0,me.jsx)("button",{className:"rounded-pill billyCancelButton col-4",style:{fontSize:"0.8rem"},onClick:l,children:"Cancel"})]})]})})},a_=e=>{let{shelves:t,openRemoveModal:n}=e;return(0,me.jsx)(me.Fragment,{children:t.slice().sort(((e,t)=>new Date(t.created)-new Date(e.created))).map(((e,t)=>(0,me.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,me.jsxs)("div",{className:"row",children:[(0,me.jsx)("p",{className:"titleFont text-start col-10",style:{marginBottom:"0.2rem"},children:e.shelfName}),(0,me.jsx)("div",{className:"col-2",children:(0,me.jsx)(Xr,{icon:ic,style:{cursor:"pointer",color:"#EA242E"},onClick:()=>n(e.shelfName)})})]}),(0,me.jsx)("p",{className:"billyGreyText text-start",style:{fontSize:"0.8rem"},children:e.description})]},t)))})};function s_(e){const{handleShowAlert:n,handleComponentSwitch:r,handleProgress:i}=e,o=sS(),a=_x(aS,"libraries"),[s,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(!1);(0,t.useEffect)((()=>{(async()=>{if(o)try{const e=Ix(a,o.uid),t=await EE(e);if(t.exists()){const e=t.data(),n=Object.values(e);l(n),console.log("User Library Data:",e)}else console.log("User library document does not exist.")}catch(e){console.error("Error fetching user libraries:",e)}})()}),[o]),console.log("biblioteca",s);const[p,g]=(0,t.useState)(""),[v,y]=(0,t.useState)("");return i(30),(0,me.jsxs)(me.Fragment,{children:[d&&(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(i_,{showRemoveModal:d,handleRemoveShelf:async e=>{console.log("Selected Shelf to Remove:",e);const t=e.replace(/[^a-zA-Z0-9 ]/g,"").toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join("");try{if(o){const e=Ix(a,o.uid);console.log("prateleira:",t),console.log("id do user:",o.uid),await IE(e,{[t]:AE()}),h(!1);const n=(await EE(e)).data(),r=Object.values(n);l(r)}else console.log("No current user.")}catch(n){console.error("Error removing shelf:",n)}},cancelRemoveShelf:()=>{h(!1)},selectedShelf:c})}),f&&(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(o_,{showAddModal:f,setShowAddModal:m,newShelfName:p,setNewShelfName:g,setNewShelfDescription:y,newShelfDescription:v,handleAddShelf:async(e,t)=>{if(console.log(e),console.log(e.length),console.log(t),e.length>0){const n=e.replace(/[^a-zA-Z0-9 ]/g,"").toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join("");try{if(o){const r=Ix(a,o.uid),i=await EE(r);if(i.exists()){const o={...i.data()};o[n]={created:(new Date).toISOString(),shelfName:e,description:t,books:{}},await IE(r,o),console.log("User Library Data Updated:",o);const a=(await EE(r)).data(),s=Object.values(a);l(s),g(""),y(""),m(!1)}}}catch(r){console.error("Error adding shelf:",r)}}else m(!1),n({isError:!0,message:"ShelfNeedsName"})},maxLength:250,handleShowAlert:n,cancelAddShelf:()=>{m(!1)}})}),(0,me.jsxs)("div",{className:"row align-items-center",style:{marginTop:"2rem"},children:[(0,me.jsx)("div",{className:"col-10 mx-auto titleFont",style:{fontSize:"1.8rem",textAlign:"left"},children:"Create Your Personalized Library"}),(0,me.jsx)("div",{className:"col-10 mx-auto billyGreyText",style:{fontWeight:"600",textAlign:"left",marginBottom:"2rem"},children:"Let's create your shelves. We suggest you 3 different shelves, but you can remove and add shelves as you please."}),(0,me.jsxs)("div",{className:"col-10 mx-auto",children:[(0,me.jsx)(a_,{shelves:s,openRemoveModal:e=>{u(e),console.log("selected shelf: ",c),h(!0),console.log("mostrar modal? ",d)}}),(0,me.jsx)("button",{className:"rounded-pill w-100 billySecondaryButton",style:{fontSize:"0.8rem",fontWeight:"700",marginBottom:"2rem"},onClick:()=>{m(!0),console.log("mostrar modal? ",f)},children:"Add new shelf"}),(0,me.jsx)("button",{className:"rounded-pill w-100 billyPrimaryButton",style:{fontSize:"0.8rem"},onClick:()=>{n({isError:!1,message:"Library Created!"}),r&&r("FindBooks")},children:"Continue"}),(0,me.jsx)("div",{onClick:()=>{n({isError:!1,message:"Back"}),r&&r("BasicInfo")},className:"text-center text-decoration-underline",style:{fontSize:"0.8rem",fontWeight:"600",color:"#196FFA",marginTop:"1rem",cursor:"pointer",marginBottom:"2rem"},children:"Back"})]})]})]})}const l_=e=>{let{show:t,onCancel:n,onConfirm:r,friend:i}=e;return(0,me.jsx)(ZC,{show:t,onHide:n,centered:!0,children:(0,me.jsxs)(FC,{children:[(0,me.jsxs)("p",{children:["Do you wish to add"," ",i&&(0,me.jsxs)("span",{className:"fst-italic fw-bolder",style:{color:"#196FFA"},children:[i.name," ",i.surname]})," ","to your friendslist?"]}),(0,me.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,me.jsx)("button",{className:"rounded-pill billySecondaryButton col-4",style:{fontSize:"0.8rem"},onClick:r,children:"Confirm"}),(0,me.jsx)("button",{className:"rounded-pill billyCancelButton col-4",style:{fontSize:"0.8rem"},onClick:n,children:"Cancel"})]})]})})},c_=e=>{let{users:t,generateRandomColor:n,setModalFriend:r,setShowFriendsModal:i,typeOfIcon:o}=e;return(0,me.jsx)("div",{style:{maxHeight:"16rem",overflowY:"auto",marginTop:"1rem"},children:(0,me.jsx)("div",{children:t.length>1?t.map(((e,t)=>{const{backgroundColor:a,color:s}=n();return(0,me.jsxs)("div",{style:{marginBottom:"1rem",height:"3rem"},className:"row align-items-center",children:[(0,me.jsx)("div",{className:"col-4 text-start",children:e.avatar?(0,me.jsx)("img",{src:e.avatar,className:"rounded-circle img-fluid",style:{height:"3rem",width:"3rem"},alt:"".concat(e.name,"'s avatar")}):(0,me.jsxs)("span",{className:"titleFont d-flex align-items-center justify-content-center",style:{backgroundColor:a,color:s,height:"3rem",width:"3rem",borderRadius:"100%"},children:[e.name?e.name.charAt(0).toUpperCase():"B",e.surname?e.surname.charAt(0).toUpperCase():"B"]})}),(0,me.jsxs)("div",{className:"col-6 text-start",style:{fontSize:"0.8rem",fontWeight:"600"},children:[e.name," ",e.surname]}),(0,me.jsx)("div",{className:"col-2",children:(0,me.jsx)(Xr,{icon:o,style:{color:"#196FFA",cursor:"pointer"},onClick:()=>{r(e),i(!0)}})})]},t)})):(0,me.jsx)("div",{className:"billyGreyText",style:{fontSize:"0.8rem"},children:"No users found."})})})};function u_(e){const{handleProgress:n,handleShowAlert:r,handleComponentSwitch:i}=e,o=(sS(),_x(aS,"users")),a=_x(aS,"friendsList"),[s,l]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{const e=iS.currentUser?iS.currentUser.uid:null;try{if(e){const t=Ix(a,e),n=await EE(t);if(n.exists()){const e=n.data();console.log("Friends Data:",e),l(e)}else console.log("Friends document does not exist for user:",e)}else console.error("User ID is null or undefined.")}catch(t){console.error("Error fetching friends document:",t)}})()}),[]),console.log(s);const[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)([]);(0,t.useEffect)((()=>{(async()=>{const e=iS.currentUser?iS.currentUser.uid:null;try{if(e){const t=cE(o,dE("userId","==",e)),n=await CE(t),r=n.docs[0].data().country,i=cE(o,dE("country","==",r)),a=await CE(i),l=s?s.friends:[],c=a.docs.map((e=>e.data())).filter((t=>t.userId!==e&&!l.includes(t.userId)));if(c.length>1)u(c);else{const t=cE(o),n=(await CE(t)).docs.map((e=>e.data())).filter((t=>t.userId!==e&&!l.includes(t.userId)));h(n)}}else console.error("User ID is null or undefined.")}catch(t){console.error("Error fetching users:",t)}})()}),[]),console.log(d),n(60);const[f,m]=(0,t.useState)(sc),[p,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(null),b=()=>{g(!1)};return(0,me.jsxs)(me.Fragment,{children:[p&&(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(l_,{show:p,onCancel:b,onConfirm:async()=>{console.log(v);const e=iS.currentUser?iS.currentUser.uid:null;try{const t=Ix(a,e),n=await EE(t);if(n.exists()){const e=n.data().friends||[];if(e.includes(v.userId))console.log("Friend already exists in the array");else{const n=[...e,v.userId];await _E(t,{friends:n},{merge:!0}),console.log("Document updated with new friend array:",n),u((e=>e.filter((e=>e.userId!==v.userId)))),h((e=>e.filter((e=>e.userId!==v.userId))))}}else{const e={friends:[v.userId]};await _E(t,e),console.log("New document created for friend:",e),u((e=>e.filter((e=>e.userId!==v.userId)))),h((e=>e.filter((e=>e.userId!==v.userId))))}}catch(t){console.error("Error checking/creating friend document:",t)}b()},friend:v})}),(0,me.jsxs)("div",{className:"row align-items-center",style:{marginTop:"2rem"},children:[(0,me.jsx)("div",{className:"col-10 mx-auto titleFont",style:{fontSize:"1.8rem",textAlign:"left"},children:"Find your community"}),(0,me.jsx)("div",{className:"col-10 mx-auto billyGreyText",style:{fontWeight:"600",textAlign:"left",marginBottom:"2rem"},children:"Let's find some people based on your profile! You can add new friends later!"}),(0,me.jsx)("div",{className:"col-10 mx-auto overflow-y-hidden",children:(0,me.jsx)(c_,{users:c.length>1?c:d,generateRandomColor:()=>{const e=[["#196FFA","#D1E2FE"],["#70163C","#FFBDD9"],["#FAB019","#FEEFD1"],["#E03616","#FFCBC2"],["#21D775","#BDFFDB"],["#D77821","#FFE5CE"],["#9F32F4","#EAD0FF"],["#42E3C6","#DDFFF9"],["#E342CA","#FFD0F8"]],t=Math.floor(Math.random()*e.length);return{backgroundColor:e[t][0],color:e[t][1]}},setModalFriend:y,setShowFriendsModal:g,typeOfIcon:f})}),(0,me.jsxs)("div",{className:"col-10 mx-auto",style:{marginTop:"2rem"},children:[(0,me.jsx)("button",{className:"rounded-pill w-100 billyPrimaryButton",style:{fontSize:"0.8rem"},onClick:()=>{r({isError:!1,message:"Friends Added!"}),i&&i("InitialLoans")},children:"Continue"}),(0,me.jsx)("div",{onClick:()=>{r({isError:!1,message:"Library Created!"}),i&&i("FindBooks")},className:"text-center text-decoration-underline",style:{fontSize:"0.8rem",fontWeight:"600",color:"#196FFA",marginTop:"1rem",cursor:"pointer",marginBottom:"2rem"},children:"Back"})]})]})]})}function d_(e){var n,r,i,o,a;const{cancelModal:s,show:l}=e,[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(null),f=_x(aS,"friendsList"),[m,p]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{const e=iS.currentUser?iS.currentUser.uid:null;try{if(e){const t=Ix(f,e),n=await EE(t);if(n.exists()){const e=n.data();console.log("Friends Data:",e),p(e)}else console.log("Friends document does not exist for user:",e)}else console.error("User ID is null or undefined.")}catch(t){console.error("Error fetching friends document:",t)}})()}),[]),console.log(m);const g=_x(aS,"users"),[v,y]=(0,t.useState)(""),[b,w]=(0,t.useState)([]);(0,t.useEffect)((()=>{(async()=>{try{if(m){const e=m.friends.map((async e=>{const t=Ix(g,e),n=await EE(t);if(n.exists()){const t=n.data();return console.log("User Data:",t),{id:e,...t}}return console.log("User document does not exist for user:",e),null})),t=await Promise.all(e);console.log("Friends Info:",t),w(t.filter(Boolean))}else console.error("No Friends to Show")}catch(e){console.error("Error fetching friends document:",e)}})()}),[m]),console.log("detalhes",b);const k=_x(aS,"libraries"),[x,E]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{try{const e=iS.currentUser?iS.currentUser.uid:null;if(e){const t=Ix(k,e),n=await EE(t);if(n.exists()){const e=n.data();console.log("User Library Data:",e),E(e)}else console.log("User's library document does not exist for user:",e)}else console.error("User ID is null or undefined.")}catch(e){console.error("Error fetching user's library document:",e)}})()}),[]),console.log(x);const[S,C]=(0,t.useState)("");console.log("amigo selec:",v),console.log("livro selec:",S);const[_,I]=(0,t.useState)("#196FFA"),[T,N]=(0,t.useState)("#D1E2FE");(0,t.useEffect)((()=>{(()=>{const e=[["#196FFA","#D1E2FE"],["#70163C","#FFBDD9"],["#FAB019","#FEEFD1"],["#E03616","#FFCBC2"],["#21D775","#BDFFDB"],["#D77821","#FFE5CE"],["#9F32F4","#EAD0FF"],["#42E3C6","#DDFFF9"],["#E342CA","#FFD0F8"]],t=Math.floor(Math.random()*e.length),n=e[t][0],r=e[t][1];I(n),N(r)})()}),[]);const[A,D]=(0,t.useState)(""),[j,F]=(0,t.useState)(""),[R,O]=(0,t.useState)(""),[P,L]=(0,t.useState)(""),M=new Date,U=M.getDate(),z=M.toLocaleString("default",{month:"long"}),B=(new Date).getFullYear();(0,t.useEffect)((()=>{D(U.toString()),F(z),O(B.toString()),L("".concat(U," ").concat(z," ").concat(B))}),[]),(0,t.useEffect)((()=>{D("")}),[]);(0,t.useEffect)((()=>{F("")}),[]);(0,t.useEffect)((()=>{O("")}),[]);console.log("data",P);const V=()=>{s()},[H,W]=(0,t.useState)(null);return(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(ZC,{show:l,onHide:V,centered:!0,children:(0,me.jsxs)(FC,{children:[(0,me.jsxs)("div",{className:"col-12 mx-auto",children:[(0,me.jsxs)("form",{className:"col-10 mx-auto",children:[(0,me.jsxs)("div",{className:"form-group text-start",children:[(0,me.jsx)("label",{htmlFor:"choose a friend",style:{marginTop:"1rem",marginBottom:"0.5rem",display:"block",fontSize:"0.9rem",fontWeight:"600"},children:"Choose a Friend"}),(0,me.jsxs)("select",{style:{marginRight:"1rem"},className:"billyInput rounded col-12",id:"friend",value:v,onChange:e=>y(e.target.value),children:[(0,me.jsx)("option",{value:"",disabled:!0,children:"Select your Friend"}),b.map((e=>(0,me.jsxs)("option",{value:e.id,children:[e.name," ",e.surname]},e.id))),(0,me.jsx)("option",{value:"Guest",children:"Guest"})]}),(0,me.jsx)("div",{onClick:e=>y("Guest"),className:"text-decoration-underline",style:{fontSize:"0.8rem",fontWeight:"600",marginTop:"1rem",color:"#196FFA",cursor:"pointer"},children:"Borrower doesn't have an account? Add Guest"})]}),(0,me.jsxs)("div",{className:"form-group text-start",children:[(0,me.jsx)("label",{htmlFor:"choose a book",style:{marginTop:"1rem",marginBottom:"0.5rem",display:"block",fontSize:"0.9rem",fontWeight:"600"},children:"Choose a Book"}),(0,me.jsxs)("select",{style:{marginRight:"1rem"},className:"billyInput rounded col-12",id:"book",value:S,onChange:e=>C(e.target.value),children:[(0,me.jsx)("option",{value:"",disabled:!0,children:"Select a Book to Loan"}),Object.keys((null===x||void 0===x||null===(n=x.Read)||void 0===n?void 0:n.books)||{}).map((e=>{const t=x.Read.books[e];return(0,me.jsx)("option",{value:e,children:t.title},e)}))]})]}),(0,me.jsxs)("div",{className:"form-group text-start",children:[(0,me.jsx)("label",{htmlFor:"loan",style:{marginTop:"1rem",marginBottom:"0.5rem",display:"block",fontSize:"0.9rem",fontWeight:"600"},children:"Loan started"}),(0,me.jsxs)("div",{className:"col-12",children:[(0,me.jsxs)("select",{style:{marginRight:"1rem"},className:"billyInput rounded col-3",id:"day",value:A,onChange:e=>{return t=e.target.value,console.log("Day is: ",t),void D(t);var t},children:[(0,me.jsx)("option",{value:U,children:U}),Array.from({length:31},((e,t)=>t+1)).map((e=>(0,me.jsx)("option",{value:e,children:e},e)))]}),(0,me.jsxs)("select",{style:{marginRight:"1rem",paddingLeft:"0.5rem"},className:"billyInput rounded col-3",id:"month",value:j,onChange:e=>{return t=e.target.value,console.log("Month is: ",t),void F(t);var t},children:[(0,me.jsx)("option",{value:z,children:z}),(0,me.jsx)("option",{value:"January",children:"January"}),(0,me.jsx)("option",{value:"February",children:"February"}),(0,me.jsx)("option",{value:"March",children:"March"}),(0,me.jsx)("option",{value:"April",children:"April"}),(0,me.jsx)("option",{value:"May",children:"May"}),(0,me.jsx)("option",{value:"June",children:"June"}),(0,me.jsx)("option",{value:"July",children:"July"}),(0,me.jsx)("option",{value:"August",children:"August"}),(0,me.jsx)("option",{value:"September",children:"September"}),(0,me.jsx)("option",{value:"October",children:"October"}),(0,me.jsx)("option",{value:"November",children:"November"}),(0,me.jsx)("option",{value:"December",children:"December"})]}),(0,me.jsxs)("select",{style:{paddingLeft:"1rem"},className:"billyInput rounded col-4",id:"year",value:R,onChange:e=>{return t=e.target.value,console.log("Year is: ",t),void O(t);var t},children:[(0,me.jsx)("option",{value:B,children:B}),Array.from({length:101},((e,t)=>B-t)).map((e=>(0,me.jsx)("option",{value:e,children:e},e)))]})]})]})]}),(0,me.jsxs)("div",{className:"text-start",children:[(0,me.jsx)("div",{style:{marginTop:"1rem",marginBottom:"0.5rem",display:"block",fontSize:"0.9rem",fontWeight:"600"},children:"Loan Data"}),(0,me.jsxs)("div",{className:"row align-items-center",style:{marginBottom:"1rem"},children:[(0,me.jsx)("div",{className:"col-6",children:v?(0,me.jsx)(me.Fragment,{children:"Guest"===v?(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("span",{className:"titleFont",style:{fontSize:"2rem",width:"6rem",height:"6rem",borderRadius:"50%",backgroundColor:"".concat(_),color:"".concat(T),display:"flex",justifyContent:"center",alignItems:"center"},children:"GS"}),(0,me.jsx)("div",{className:"billyGreyText text-center",style:{fontSize:"0.8rem",fontWeight:"600",marginTop:"1rem"},children:"Guest"})]}):(0,me.jsx)(me.Fragment,{children:b.map((e=>(0,me.jsx)("div",{children:e.id===v?(0,me.jsx)(me.Fragment,{children:null!==e.avatar?(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("img",{src:e.avatar,alt:"".concat(e.name," ").concat(e.surname),style:{width:"auto",height:"6rem",objectFit:"cover",borderRadius:"100%"}}),(0,me.jsxs)("div",{className:"billyGreyText",style:{fontSize:"0.8rem",fontWeight:"600",marginTop:"1rem"},children:[e.name," ",e.surname]})]}):(0,me.jsxs)(me.Fragment,{children:[(0,me.jsxs)("span",{className:"titleFont",style:{fontSize:"2rem",width:"6rem",height:"6rem",borderRadius:"50%",backgroundColor:"".concat(_),color:"".concat(T),display:"flex",justifyContent:"center",alignItems:"center"},children:[e.name?e.name.charAt(0).toUpperCase():"GS",e.surname?e.surname.charAt(0).toUpperCase():"T"]}),(0,me.jsxs)("div",{className:"billyGreyText",style:{fontSize:"0.8rem",fontWeight:"600",marginTop:"1rem"},children:[e.name," ",e.surname]})]})}):null},e.id)))})}):(0,me.jsx)(me.Fragment,{children:(0,me.jsx)("div",{style:{fontSize:"0.9rem",color:"#FF0000"},children:"User not selected"})})}),(0,me.jsx)("div",{className:"col-6",children:S?(0,me.jsx)(me.Fragment,{children:(0,me.jsx)("img",{src:null===x||void 0===x||null===(r=x.Read)||void 0===r||null===(i=r.books[S])||void 0===i?void 0:i.cover,alt:null===x||void 0===x||null===(o=x.Read)||void 0===o||null===(a=o.books[S])||void 0===a?void 0:a.title,style:{maxWidth:"100%",maxHeight:"150px",marginBottom:"1rem",border:"0.05rem solid #D4D4D4"}})}):(0,me.jsx)(me.Fragment,{children:(0,me.jsx)("div",{style:{fontSize:"0.9rem",color:"#FF0000"},children:"Book not selected"})})})]})]})]}),(0,me.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,me.jsx)("button",{className:"rounded-pill billySecondaryButton col-4",style:{fontSize:"0.8rem"},onClick:async()=>{try{const n=(e=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let r=0;r<e;r++){const e=Math.floor(62*Math.random());n+=t.charAt(e)}return n})(20);if(!v||!S)return void W("Please select a user and a book.");let r;r="Guest"===v?"Guest":b.find((e=>e.id===v));const i=iS.currentUser?iS.currentUser.uid:null;if(!i)return void W("User ID is null or undefined.");const o=Ix(_x(aS,"loans"),i),a=await EE(o),l=new Date;let c={};if(a.exists()){var e;const t=a.data().loanDetails||{},i=Object.keys(t).length,s=null===x||void 0===x||null===(e=x.Read)||void 0===e?void 0:e.books[S];console.log(s),c={...t,[i]:{friendInfo:r,bookInfo:s,loanDate:P,operationDate:l,loanId:n}},await IE(o,{loanDetails:c})}else{var t;const e=null===x||void 0===x||null===(t=x.Read)||void 0===t?void 0:t.books[S];console.log(e),c={0:{friendInfo:r,bookInfo:e,loanDate:P,operationDate:l,loanId:n}},await _E(o,{loanDetails:c})}W(null),s()}catch(n){console.error("Error handling confirmation:",n),W("An error occurred while processing the confirmation.")}},children:"Confirm"}),(0,me.jsx)("button",{className:"rounded-pill billyCancelButton col-4",style:{fontSize:"0.8rem"},onClick:V,children:"Cancel"})]})]})})})}function h_(e){const{selectedBook:t,selectedFriend:n,showEndModal:r,cancelEndModal:i,loanId:o,onLoanRemoved:a}=e;console.log("id: ",o);const s=_x(aS,"loans");return(0,me.jsx)(ZC,{show:r,onHide:i,centered:!0,children:(0,me.jsxs)(FC,{children:[(0,me.jsxs)("p",{children:["Do you wish to terminate the loan of"," ",(0,me.jsx)("span",{className:"fst-italic fw-bolder",style:{color:"#196FFA"},children:t.title})," ","with your friend"," ",(0,me.jsxs)("span",{className:"fst-italic fw-bolder",style:{color:"#196FFA"},children:[n.name," ",n.surname]}),"?"]}),(0,me.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,me.jsx)("button",{className:"rounded-pill billySecondaryButton col-4",style:{fontSize:"0.8rem"},onClick:()=>{(async()=>{const e=iS.currentUser?iS.currentUser.uid:null;try{if(e){const t=Ix(s,e),n=await EE(t);if(n.exists()){const e=n.data().loanDetails;console.log("dados: ",e);const r={...e};console.log("copia: ",r);const i=Object.values(r).findIndex((e=>e.loanId===o));-1!==i?(delete r[i],console.log("Loan with ID ".concat(o," removed from loansDataCopy")),a(r)):console.log("Loan with ID ".concat(o," not found in loansDataCopy")),await IE(t,{loanDetails:r}),console.log("User document updated with modified loanDetails")}}}catch(t){console.error(t)}})(),i()},children:"Confirm"}),(0,me.jsx)("button",{className:"rounded-pill billyCancelButton col-4",style:{fontSize:"0.8rem"},onClick:i,children:"Cancel"})]})]})})}const f_=e=>{let{userLoans:n,generateRandomColor:r,showEndModal:i,handleBookClick:o}=e;return(0,me.jsx)(me.Fragment,{children:n&&Object.keys(n).length>0?Object.values(n).map(((e,n)=>{const{backgroundColor:a,color:s}=r();return(0,me.jsxs)(t.Fragment,{children:[(0,me.jsx)("div",{className:"loan-item",style:{marginTop:"1rem"},children:(0,me.jsxs)("div",{className:"loan-info text-start row",children:[(0,me.jsxs)("div",{className:"col-12",style:{fontSize:"0.8rem",marginBottom:"1rem"},children:[(0,me.jsx)("span",{style:{fontWeight:"700",color:"#196FFA"},children:e.bookInfo.title}),"'s is loaned to"," ",e.friendInfo&&e.friendInfo.name?(0,me.jsxs)("span",{style:{fontWeight:"700",color:"#196FFA"},children:[e.friendInfo.name," ",e.friendInfo.surname]}):(0,me.jsx)("span",{style:{fontWeight:"700",color:"#196FFA"},children:"Guest"})," ","since ",e.loanDate]}),(0,me.jsx)("div",{className:"col-6 d-flex align-items-center justify-content-center",children:(0,me.jsx)("img",{src:e.bookInfo.cover,className:"img-fluid",style:{height:"6rem",width:"auto",border:"0.05rem solid #D4D4D4"},alt:"".concat(e.bookInfo.title,"'s cover"),onClick:()=>o&&o(e.bookInfo)})}),(0,me.jsx)("div",{className:"col-6 d-flex align-items-center justify-content-center",children:e.friendInfo&&e.friendInfo.avatar?(0,me.jsx)("img",{src:e.friendInfo.avatar,className:"img-fluid",style:{borderRadius:"50%",height:"4rem",width:"auto"},alt:"".concat(e.friendInfo.name,"'s avatar")}):(0,me.jsxs)("span",{className:"titleFont d-flex align-items-center justify-content-center",style:{backgroundColor:a,color:s,height:"4rem",width:"4rem",borderRadius:"100%"},children:[e.friendInfo&&e.friendInfo.name?e.friendInfo.name.charAt(0).toUpperCase():"GS",e.friendInfo&&e.friendInfo.surname?e.friendInfo.surname.charAt(0).toUpperCase():"T"]})})]})}),(0,me.jsx)("button",{className:"rounded-pill billyCancelAlternativeButton",style:{fontSize:"0.8rem",fontWeight:"700",marginBottom:"1rem",marginTop:"1rem"},onClick:()=>i(e),children:"End loan"})]},n)})):(0,me.jsx)("p",{className:"billyGreyText",style:{fontSize:"0.8rem",marginTop:"3rem"},children:"No books loaned currently."})})};function m_(e){const{handleProgress:n,handleShowAlert:r,handleComponentSwitch:i}=e;n(75);sS();const o=_x(aS,"loans"),[a,s]=(0,t.useState)([]),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(""),[m,p]=(0,t.useState)(!1),[g,v]=(0,t.useState)(""),[y,b]=(0,t.useState)([]),[w,k]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{const e=iS.currentUser?iS.currentUser.uid:null;try{if(e){const t=Ix(o,e),n=await EE(t);if(n.exists()){const e=n.data().loanDetails;s(e)}}}catch(t){console.error(t)}})()}),[l,y]),console.log("empr\xe9stimos do user: ",a);const x=e=>{p(!0),console.log("mostrar modal de acabar? ",m),f(e.bookInfo),d(e.friendInfo),v(e.loanId)};return(0,me.jsxs)(me.Fragment,{children:[l&&(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(d_,{show:l,cancelModal:()=>{c(!1)}})}),m&&(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(h_,{loanId:g,selectedBook:h,selectedFriend:u,showEndModal:x,cancelEndModal:()=>{p(!1)},onLoanRemoved:e=>{b(e)}})}),(0,me.jsxs)("div",{className:"row align-items-center",style:{marginTop:"2rem"},children:[(0,me.jsx)("div",{className:"col-10 mx-auto titleFont",style:{fontSize:"1.8rem",textAlign:"left"},children:"Keep Track of Your Books"}),(0,me.jsx)("div",{className:"col-10 mx-auto billyGreyText",style:{fontWeight:"600",textAlign:"left",marginBottom:"2rem"},children:"If you have loaned books to your friends, you can easily keep track of them with Billy Books!"}),(0,me.jsxs)("div",{className:"col-10 mx-auto",children:[(0,me.jsx)("h1",{className:"text-start titleFont",style:{fontSize:"1rem"},children:"Your Loans"}),(0,me.jsx)(f_,{userLoans:a,generateRandomColor:()=>{const e=[["#196FFA","#D1E2FE"],["#70163C","#FFBDD9"],["#FAB019","#FEEFD1"],["#E03616","#FFCBC2"],["#21D775","#BDFFDB"],["#D77821","#FFE5CE"],["#9F32F4","#EAD0FF"],["#42E3C6","#DDFFF9"],["#E342CA","#FFD0F8"]],t=Math.floor(Math.random()*e.length);return{backgroundColor:e[t][0],color:e[t][1]}},showEndModal:x}),(0,me.jsx)("button",{className:"rounded-pill w-100 billySecondaryButton",style:{fontSize:"0.8rem",fontWeight:"700",marginBottom:"2rem",marginTop:"2rem"},onClick:()=>{c(!0),console.log("mostrar modal? ",l)},children:"Add new loan"}),(0,me.jsx)("button",{className:"rounded-pill w-100 billyPrimaryButton",style:{fontSize:"0.8rem"},onClick:()=>{r({isError:!1,message:"Loans Done!"}),i&&i("AllSet")},children:"Continue"}),(0,me.jsx)("div",{onClick:()=>{r({isError:!1,message:"Books Added!"}),i&&i("FindFriends")},className:"text-center text-decoration-underline",style:{fontSize:"0.8rem",fontWeight:"600",color:"#196FFA",marginTop:"1rem",cursor:"pointer",marginBottom:"2rem"},children:"Back"})]})]})]})}function p_(e){const{handleProgress:t,handleShowAlert:n,handleComponentSwitch:r}=e;t(100);const i=X();return(0,me.jsx)(me.Fragment,{children:(0,me.jsxs)("div",{className:"row align-items-center",style:{marginTop:"2rem"},children:[(0,me.jsx)("div",{className:"col-10 mx-auto titleFont",style:{fontSize:"1.8rem",textAlign:"left"},children:"All set!"}),(0,me.jsx)("div",{className:"col-10 mx-auto billyGreyText",style:{fontWeight:"600",textAlign:"left",marginBottom:"4rem"},children:"Your shelves are ready! Now as you continue your reading saga, you can update your Billy Books to track all your favourite stories!"}),(0,me.jsxs)("div",{className:"col-10 mx-auto",children:[(0,me.jsx)(Xr,{icon:oc,style:{height:"6rem",color:"#196FFA",marginBottom:"4rem"}}),(0,me.jsx)("button",{className:"rounded-pill w-100 billyPrimaryButton",style:{fontSize:"0.8rem"},onClick:()=>{i("/main")},children:"Go Home"}),(0,me.jsx)("div",{onClick:()=>{n({isError:!1,message:"Friends Added!"}),r&&r("InitialLoans")},className:"text-center text-decoration-underline",style:{fontSize:"0.8rem",fontWeight:"600",color:"#196FFA",marginTop:"1rem",cursor:"pointer"},children:"Back"})]})]})})}function g_(){const[e,n]=(0,t.useState)("BasicInfo"),[r,i]=(null===iS||void 0===iS||iS.currentUser.email,(0,t.useState)(15)),[o,a]=(0,t.useState)(!1),[s,l]=(0,t.useState)(""),c=e=>{console.log(e),console.log("antes: ",o),a((t=>(console.log("depois: ",!t),e.isError))),l(e.errorName),e.isError||"Back"!==e.message||(n("BasicInfo"),i(15)),e.isError||"User information updated successfully!"!==e.message||n("CreateShelves"),e.isError||"Library Created!"!==e.message||n("FindBooks"),e.isError||"Books Added!"!==e.message||n("FindFriends"),e.isError||"Friends Added!"!==e.message||n("InitialLoans"),e.isError||"Loans Done!"!==e.message||n("AllSet")},u=e=>{i(e)};return(0,me.jsxs)(me.Fragment,{children:[o?(0,me.jsx)(me.Fragment,{children:(0,me.jsx)("div",{className:"fixed-top row",style:{backgroundColor:"#EA242E",color:"white",zIndex:"1000"},children:"ShelfNeedsName"===s&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsxs)("div",{className:"col-10 text-start",style:{padding:"0.5rem 1rem",fontSize:"0.8rem"},children:[(0,me.jsx)("strong",{children:"Ups... something went wrong."})," A new shelf needs to have a name."]}),(0,me.jsx)("div",{className:"col-2 d-flex align-items-center",onClick:()=>a(!1),style:{cursor:"pointer"},children:(0,me.jsx)(Xr,{icon:ic})})]})})}):(0,me.jsx)(me.Fragment,{}),(0,me.jsx)("div",{className:"fixed-top align-items-center",style:{zIndex:"900",opacity:"1.0"},children:(0,me.jsx)("div",{className:"progress",style:{borderRadius:"0",backgroundColor:"#D1E2FE",opacity:"1.0"},children:(0,me.jsx)("div",{className:"progress-bar",role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100",style:{width:"".concat(r,"%"),backgroundColor:"#196FFA"}})})}),(0,me.jsx)("div",{className:"d-block-small d-md-none overflow-hidden",children:(0,me.jsxs)("div",{className:"container",children:[(0,me.jsx)("div",{className:"row",style:{marginTop:"4rem"},children:(0,me.jsx)("div",{className:"col-2 text-center mx-auto",children:(0,me.jsx)("img",{src:"/billybooks/myImgs/smallLogo.png",alt:"Billy Books Logo",className:"img-fluid"})})}),"BasicInfo"===e&&(0,me.jsx)(uS,{handleShowAlert:c,handleComponentSwitch:n,handleProgress:r}),"CreateShelves"===e&&(0,me.jsx)(s_,{handleShowAlert:c,handleComponentSwitch:n,handleProgress:u}),"FindBooks"===e&&(0,me.jsx)(r_,{handleShowAlert:c,handleComponentSwitch:n,handleProgress:u}),"FindFriends"===e&&(0,me.jsx)(u_,{handleShowAlert:c,handleComponentSwitch:n,handleProgress:u}),"InitialLoans"===e&&(0,me.jsx)(m_,{handleShowAlert:c,handleComponentSwitch:n,handleProgress:u}),"AllSet"===e&&(0,me.jsx)(p_,{handleShowAlert:c,handleComponentSwitch:n,handleProgress:u})]})}),(0,me.jsx)("div",{className:"d-none d-md-block overflow-hidden",children:(0,me.jsxs)("div",{className:"container",children:[(0,me.jsx)("div",{className:"row",style:{marginTop:"4rem"},children:(0,me.jsx)("div",{className:"col-2 text-center mx-auto",children:(0,me.jsx)("img",{src:"/billybooks/myImgs/BillyBooks.png",alt:"Billy Books Logo",className:"img-fluid"})})}),(0,me.jsxs)("div",{className:"col-8 mx-auto",children:["BasicInfo"===e&&(0,me.jsx)(uS,{handleShowAlert:c,handleComponentSwitch:n}),"CreateShelves"===e&&(0,me.jsx)(s_,{handleShowAlert:c,handleComponentSwitch:n,handleProgress:u}),"FindBooks"===e&&(0,me.jsx)(r_,{handleShowAlert:c,handleComponentSwitch:n,handleProgress:u}),"FindFriends"===e&&(0,me.jsx)(u_,{handleShowAlert:c,handleComponentSwitch:n,handleProgress:u}),"InitialLoans"===e&&(0,me.jsx)(m_,{handleShowAlert:c,handleComponentSwitch:n,handleProgress:u}),"AllSet"===e&&(0,me.jsx)(p_,{handleShowAlert:c,handleComponentSwitch:n,handleProgress:u})]})]})})]})}function v_(e){const{userInfo:n,handleComponentChange:r}=e,[i,o]=(0,t.useState)(!1),[a,s]=(0,t.useState)("#262626"),l=X();(0,t.useEffect)((()=>{s(i?"#196FFA":"#262626")}),[i]),console.log(n);const c=e=>{switch(console.log("Option clicked:",e),e){case"My Shelves":r("MyShelves");break;case"My Loans":r("MyLoans");break;case"Explore":r("Explore");break;case"MyFriends":r("MyFriends");break;case"MyProfile":r("MyProfile")}};return(0,me.jsxs)(me.Fragment,{children:[(0,me.jsxs)("div",{className:"col-sm-12 d-md-none d-flex align-items-center justify-content-between position-fixed",style:{top:0,left:0,right:0,zIndex:1e3,backgroundColor:"rgba(255, 255, 255, 0.8)",borderBottom:"0.08rem solid #d4d4d4",height:"3rem",padding:"0 1rem",backdropFilter:"blur(5px)"},children:[(0,me.jsx)(Xr,{icon:$l,color:a,style:{height:"1.2rem",width:"auto"},onClick:()=>o(!i)}),(0,me.jsx)("div",{className:"col-2 text-center mx-auto",children:(0,me.jsx)("img",{src:"/billybooks/myImgs/smallLogo.png",alt:"Billy Books Logo",className:"img-fluid",style:{height:"1.5rem",width:"auto"},onClick:()=>c("My Shelves")})}),null!==n&&void 0!==n&&n.avatar?(0,me.jsx)("div",{className:"avatar",style:{height:"1.5rem",width:"1.5rem",borderRadius:"50%",overflow:"hidden"},onClick:()=>c("MyProfile"),children:(0,me.jsx)("img",{src:null===n||void 0===n?void 0:n.avatar,alt:"".concat(null===n||void 0===n?void 0:n.name,"'s Avatar"),className:"img-fluid",style:{height:"120%",width:"120%",objectFit:"cover"}})}):(0,me.jsxs)("div",{className:"titleFont",style:{color:"#196FFA",backgroundColor:"#D1E2FE",borderRadius:"50%",height:"1.5rem",width:"1.5rem",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.6rem"},onClick:()=>c("MyProfile"),children:[null===n||void 0===n?void 0:n.name.charAt(0).toUpperCase(),null===n||void 0===n?void 0:n.surname.charAt(0).toUpperCase()]})]}),i&&(0,me.jsx)(me.Fragment,{children:(0,me.jsxs)("div",{className:"col-sm-12 d-md-none px-0 position-fixed text-start",style:{top:"3rem",left:0,right:0,zIndex:999,color:"black",fontWeight:"400",fontSize:"0.8rem"},children:[(0,me.jsxs)("div",{className:"col-sm-12 d-flex align-items-center",style:{height:"3rem",backgroundColor:"rgba(255, 255, 255, 0.8)",borderBottom:"0.08rem solid #d4d4d4",paddingLeft:"1rem",backdropFilter:"blur(5px)"},onClick:()=>{c("My Shelves"),o(!i)},children:[(0,me.jsx)(Xr,{icon:ac,style:{fontSize:"1rem",paddingRight:"1rem"}})," My Shelves"]}),(0,me.jsxs)("div",{className:"col-sm-12 d-flex align-items-center",style:{height:"3rem",backgroundColor:"rgba(255, 255, 255, 0.8)",borderBottom:"0.08rem solid #d4d4d4",paddingLeft:"1rem",backdropFilter:"blur(5px)"},onClick:()=>{c("My Loans"),o(!i)},children:[(0,me.jsx)(Xr,{icon:ec,style:{fontSize:"1rem",paddingRight:"1rem"}})," My Loans"]}),(0,me.jsxs)("div",{className:"col-sm-12 d-flex align-items-center",style:{height:"3rem",backgroundColor:"rgba(255, 255, 255, 0.8)",borderBottom:"0.08rem solid #d4d4d4",paddingLeft:"1rem",backdropFilter:"blur(5px)"},onClick:()=>{c("MyFriends"),o(!i)},children:[(0,me.jsx)(Xr,{icon:Jl,style:{fontSize:"1rem",paddingRight:"1rem"}})," My Friends"]}),(0,me.jsxs)("div",{className:"col-sm-12 d-flex align-items-center",style:{height:"3rem",backgroundColor:"rgba(255, 255, 255, 0.8)",borderBottom:"0.08rem solid #d4d4d4",paddingLeft:"1rem",backdropFilter:"blur(5px)"},onClick:()=>{c("Explore"),o(!i)},children:[(0,me.jsx)(Xr,{icon:nc,style:{fontSize:"1rem",paddingRight:"1rem"}})," Explore"]}),(0,me.jsxs)("div",{className:"col-sm-12 d-flex align-items-center",style:{height:"3rem",backgroundColor:"rgba(255, 255, 255, 0.8)",borderBottom:"0.08rem solid #d4d4d4",paddingLeft:"1rem",backdropFilter:"blur(5px)"},onClick:async()=>{try{await iS.signOut(),l("/"),console.log("User signed out successfully")}catch(e){console.error("Error signing out:",e.message)}},children:[(0,me.jsx)(Xr,{icon:Yl,style:{fontSize:"1rem",paddingRight:"1rem"}})," Log Out"]})]})})]})}function y_(e){const{userInfo:n,handleBookClick:r}=e,i=null===n||void 0===n?void 0:n.userId,o=_x(aS,"libraries"),[a,s]=(0,t.useState)(null),[l,c]=(0,t.useState)({});return(0,t.useEffect)((()=>{(async()=>{try{if(i){const e=Ix(o,i),t=await EE(e);if(t.exists()){const e=t.data();s(e);const n={};Object.keys(e).forEach((e=>{n[e]=3})),c(n)}}}catch(e){console.error(e)}})()}),[i]),console.log(a),(0,me.jsx)(me.Fragment,{children:(0,me.jsx)("div",{className:"row text-start",style:{paddingLeft:"1rem",paddingRight:"1rem",marginTop:"1rem"},children:a&&Object.entries(a).slice().filter((e=>{let[t]=e;return"id"!==t})).sort(((e,t)=>{let[n,r]=e,[i,o]=t;return"CurrentlyReading"===n?-1:"CurrentlyReading"===i?1:new Date(o.created)-new Date(r.created)})).map((e=>{let[t,n]=e;return(0,me.jsxs)("div",{className:"row text-start",style:{paddingLeft:"1rem",paddingRight:"1rem",marginTop:"1rem"},children:[(0,me.jsx)("h1",{className:"titleFont col-12",style:{fontSize:"1.2rem",marginBottom:"1rem"},children:n.shelfName}),n.books&&Object.values(n.books).slice(0,l[t]).map((e=>(0,me.jsx)("div",{className:"col-4",style:{marginBottom:"1rem"},onClick:()=>r(e),children:(0,me.jsx)("img",{src:e.cover,alt:e.title,className:"img-fluid",style:{border:"0.05rem solid #D4D4D4"}})},e.id))),Object.values(n.books).length>l[t]&&(0,me.jsx)("div",{className:"text-center text-decoration-underline",onClick:()=>c((e=>({...e,[t]:e[t]+3}))),style:{fontSize:"0.8rem",color:"#196FFA",cursor:"pointer"},children:"See More"})]},t)}))})})}function b_(e){let{handleBookClick:n}=e;sS();const r=_x(aS,"loans"),[i,o]=(0,t.useState)([]),[a,s]=(0,t.useState)(!1),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(!1),[m,p]=(0,t.useState)(""),[g,v]=(0,t.useState)([]),[y,b]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{const e=iS.currentUser?iS.currentUser.uid:null;try{if(e){const t=Ix(r,e),n=await EE(t);if(n.exists()){const e=n.data().loanDetails;o(e)}}}catch(t){console.error(t)}})()}),[a,g]),console.log("empr\xe9stimos do user: ",i);const w=e=>{f(!0),console.log("mostrar modal de acabar? ",h),d(e.bookInfo),c(e.friendInfo),p(e.loanId)};return(0,me.jsxs)(me.Fragment,{children:[a&&(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(d_,{show:a,cancelModal:()=>{s(!1)}})}),h&&(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(h_,{loanId:m,selectedBook:u,selectedFriend:l,showEndModal:w,cancelEndModal:()=>{f(!1)},onLoanRemoved:e=>{v(e)}})}),(0,me.jsxs)("div",{className:"row align-items-center",style:{marginTop:"2rem"},children:[(0,me.jsx)("h1",{className:"titleFont col-12 text-start",style:{fontSize:"1.2rem",marginLeft:"1.5rem"},children:"My Loaned Books"}),(0,me.jsxs)("div",{className:"col-10 mx-auto",children:[(0,me.jsx)("div",{style:{marginBottom:"6rem"},children:(0,me.jsx)(f_,{userLoans:i,generateRandomColor:()=>{const e=[["#196FFA","#D1E2FE"],["#70163C","#FFBDD9"],["#FAB019","#FEEFD1"],["#E03616","#FFCBC2"],["#21D775","#BDFFDB"],["#D77821","#FFE5CE"],["#9F32F4","#EAD0FF"],["#42E3C6","#DDFFF9"],["#E342CA","#FFD0F8"]],t=Math.floor(Math.random()*e.length);return{backgroundColor:e[t][0],color:e[t][1]}},showEndModal:w,handleBookClick:n})}),(0,me.jsx)("div",{style:{bottom:0,left:0,right:0,zIndex:1e3,backgroundColor:"rgba(255, 255, 255, 0.8)",borderBottom:"0.08rem solid #d4d4d4",height:"6rem",padding:"0 1rem",backdropFilter:"blur(5px)",position:"fixed"},children:(0,me.jsx)("button",{className:"rounded-pill w-100 billySecondaryButton",style:{fontSize:"0.8rem",fontWeight:"700",marginBottom:"2rem",marginTop:"2rem"},onClick:()=>{s(!0),console.log("mostrar modal? ",a)},children:"Add new loan"})})]})]})]})}function w_(e){const{handleBookClick:n}=e,[r,i]=(0,t.useState)(""),[o,a]=(0,t.useState)([]),[s,l]=(0,t.useState)(4),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(),[f,m]=(0,t.useState)([]);return(0,t.useEffect)((()=>{console.log(d)}),[d]),(0,me.jsxs)(me.Fragment,{children:[c&&(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(e_,{showAddBookToShelfModal:c,onHide:()=>u(!1),userLibrary:d,selectedBook:f})}),(0,me.jsx)("h1",{className:"titleFont col-12 text-start",style:{fontSize:"1.2rem",marginLeft:"1.5rem",marginTop:"2rem",marginBottom:"2rem"},children:"Explore new books"}),(0,me.jsx)(t_,{handleSearchBooks:async e=>{const t=e.target.value;if(!t.trim())return a([]),void l(4);i(t);try{const e=await fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(encodeURIComponent(t)));if(!e.ok)throw new Error("Google Books API request failed with status ".concat(e.status));const n=await e.json();console.log(n);const r=n.items.map((e=>{var t;return{id:e.id,title:e.volumeInfo.title,authors:e.volumeInfo.authors||[],description:e.volumeInfo.description||"",cover:(null===(t=e.volumeInfo.imageLinks)||void 0===t?void 0:t.thumbnail)||"",categories:e.volumeInfo.categories||[],publishedDate:e.volumeInfo.publishedDate||""}})).filter((e=>e.categories.length>0)).sort(((e,t)=>new Date(t.publishedDate)-new Date(e.publishedDate))),i=new Set,o=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,""),s=r.filter((e=>{const t=o(e.title.toLowerCase());return!(i.has(t)||!e.cover)&&(i.add(t),!0)}));a(s)}catch(n){console.error("Error searching books:",n)}},displayedBooks:s,books:o,handleAddToShelf:async e=>{console.log(e);const t=iS.currentUser?iS.currentUser.uid:null,n=_x(aS,"libraries");try{const r=(await CE(n)).docs.map((e=>({...e.data(),id:e.id}))).filter((e=>e.id===t));h(r),m(e),u(!0)}catch(r){console.error("Error retrieving user shelves:",r)}},handleShowMore:()=>{l((e=>e+4))},handleBookClick:n})]})}function k_(e){const{selectedBook:n,handleComponentChange:r,previousComponent:i,setSelectedBook:o}=e,[a,s]=(0,t.useState)(!1),[l,c]=(0,t.useState)(),[u,d]=(0,t.useState)(!1);console.log(n);const h=(e,t)=>e.length>t?e.slice(0,t)+"...":e;return(0,t.useEffect)((()=>{console.log(l)}),[l]),(0,me.jsxs)(me.Fragment,{children:[(0,me.jsxs)("div",{className:"col-sm col-12 d-md-none d-flex align-items-center position-fixed",style:{top:"3rem",left:0,right:0,zIndex:900,backgroundColor:"rgba(255, 255, 255, 0.8)",borderBottom:"0.08rem solid #d4d4d4",height:"3rem",padding:"0 1rem",backdropFilter:"blur(5px)"},children:[(0,me.jsx)("div",{className:"col-1",children:(0,me.jsx)(Xr,{icon:lc,style:{height:"1.2rem",width:"auto"},onClick:()=>r(i)})}),(0,me.jsxs)("div",{className:"col-10",children:[(0,me.jsx)("div",{className:"row titleFont",style:{marginLeft:"2rem",fontSize:"0.8rem"},children:h(n.title,26)}),(0,me.jsx)("div",{className:"row",style:{marginLeft:"2rem",fontSize:"0.7rem",color:"#6F6F6F"},children:h(n.authors[0],26)})]})]}),u&&(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(e_,{showAddBookToShelfModal:u,onHide:()=>d(!1),userLibrary:l,selectedBook:n})}),(0,me.jsx)("div",{style:{marginTop:"4rem"},children:(0,me.jsx)("div",{className:"row d-flex align-items-center text-center",children:(0,me.jsx)("div",{className:"col-12",children:(0,me.jsx)("img",{src:n.cover,className:"img-fluid",style:{border:"0.05rem solid #D4D4D4"}})})})}),(0,me.jsx)("div",{className:"row d-flex justify-content-center titleFont",style:{marginTop:"2rem",marginLeft:"2rem",marginRight:"2rem"},children:n.title}),(0,me.jsxs)("div",{className:"row d-flex justify-content-center ",style:{fontSize:"0.7rem",color:"#6F6F6F",marginTop:"0.5rem"},children:["by ",n.authors[0]]}),n.description?(0,me.jsx)("div",{className:"col-10 text-start",style:{fontSize:"0.7rem",margin:"2rem",marginTop:"1rem"},children:a?(0,me.jsxs)(me.Fragment,{children:[n.description,(0,me.jsx)("span",{style:{color:"#196FFA",cursor:"pointer",paddingLeft:"0.3rem"},onClick:()=>s(!1),className:"text-decoration-underline",children:"Show less"})]}):(0,me.jsxs)(me.Fragment,{children:[h(n.description,220)," ",(0,me.jsx)("span",{style:{color:"#196FFA",cursor:"pointer",paddingLeft:"0.3rem"},onClick:()=>s(!0),className:"text-decoration-underline",children:"Show more"})]})}):(0,me.jsx)("div",{className:"row text-center",style:{fontSize:"0.7rem",margin:"2rem",marginTop:"1rem"},children:"No synopsis to show"}),(0,me.jsx)("button",{className:"rounded-pill w-50 billySecondaryButton",style:{fontSize:"0.8rem",fontWeight:"700",marginTop:"0.4rem"},onClick:()=>n_(n,c,o,d),children:"Add to shelf"})]})}function x_(e){const{openRemoveFriendModal:t,cancelRemoveFriend:n,friend:r,handleRemoveFriend:i}=e;return console.log(r),(0,me.jsx)(ZC,{show:t,onHide:n,centered:!0,children:(0,me.jsxs)(FC,{children:[(0,me.jsxs)("p",{children:["Do you wish to remove the user ",(0,me.jsxs)("span",{className:"fst-italic fw-bolder",style:{color:"#196FFA"},children:[null===r||void 0===r?void 0:r.name," ",null===r||void 0===r?void 0:r.surname]})," from your friend list?"]}),(0,me.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,me.jsx)("button",{className:"rounded-pill billySecondaryButton col-4",style:{fontSize:"0.8rem"},onClick:()=>i(null===r||void 0===r?void 0:r.userId),children:"Confirm"}),(0,me.jsx)("button",{className:"rounded-pill billyCancelButton col-4",style:{fontSize:"0.8rem"},onClick:n,children:"Cancel"})]})]})})}function E_(e){const{friends:n,userInfo:r,updateFriends:i,setUpdateFriends:o,handleFriendClick:a}=e,[s,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),d=_x(aS,"friendsList"),h=e=>{const t=new Date(e).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit",year:"numeric"});return"Member since ".concat(t)};return(0,me.jsxs)(me.Fragment,{children:[c&&(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(x_,{openRemoveFriendModal:c,cancelRemoveFriend:()=>{u(!1)},friend:s,handleRemoveFriend:async e=>{try{if(r){const t=Ix(d,r.userId),n=await EE(t);if(n.exists()){const r=n.data(),i=r.friends.indexOf(e);-1!==i?(r.friends.splice(i,1),await IE(t,{friends:r.friends}),console.log("Friend removed successfully.")):console.log("Friend not found in the array.")}else console.log("Document does not exist for the current user.")}else console.log("No current user.");u(!1),o(!0)}catch(t){console.error("Error removing friend:",t)}}})}),(0,me.jsx)("div",{children:null===n||void 0===n?void 0:n.map((e=>{const{backgroundColor:t,color:n}=(()=>{const e=[["#196FFA","#D1E2FE"],["#70163C","#FFBDD9"],["#FAB019","#FEEFD1"],["#E03616","#FFCBC2"],["#21D775","#BDFFDB"],["#D77821","#FFE5CE"],["#9F32F4","#EAD0FF"],["#42E3C6","#DDFFF9"],["#E342CA","#FFD0F8"]],t=Math.floor(Math.random()*e.length);return{backgroundColor:e[t][0],color:e[t][1]}})();return(0,me.jsxs)("div",{className:"row",style:{marginBottom:"1rem"},children:[(0,me.jsx)("div",{className:"col-4",onClick:()=>a(null===e||void 0===e?void 0:e.data),children:e.data.avatar?(0,me.jsx)("img",{src:e.data.avatar,className:"img-fluid",style:{borderRadius:"50%",height:"3rem",width:"3rem",display:"inline-block"}}):(0,me.jsxs)("span",{className:"titleFont",style:{borderRadius:"50%",height:"3rem",width:"3rem",display:"inline-flex",color:n,backgroundColor:t,alignItems:"center",justifyContent:"center"},children:[e.data.name.charAt(0).toUpperCase(),e.data.surname.charAt(0).toUpperCase()]})}),(0,me.jsxs)("div",{className:"col-6 ps-0 pe-0",onClick:()=>a(null===e||void 0===e?void 0:e.data),children:[(0,me.jsxs)("div",{className:"row",style:{fontSize:"0.8rem",fontWeight:"600"},children:[e.data.name," ",e.data.surname]}),(0,me.jsx)("div",{className:"row billyGreyText",style:{fontSize:"0.8rem",fontWeight:"400"},children:h(e.data.accountCreationDate)})]}),(0,me.jsx)("div",{className:"col-2 ps-0 text-start d-flex",children:(0,me.jsx)(Xr,{icon:Zl,style:{height:"1rem",width:"auto",display:"inline-flex",alignItems:"center",justifyContent:"center",color:"#EA242E"},onClick:()=>(e=>{l(e),u(!0)})(e.data)})})]},e.id)}))})]})}function S_(e){const{suggestions:n,userInfo:r,friends:i,updateFriends:o,setUpdateFriends:a,handleFriendClick:s}=e,[l,c]=(0,t.useState)(4),u=e=>{const t=new Date(e).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit",year:"numeric"});return"Member since ".concat(t)},[d,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(null),p=()=>{h(!1)},g=_x(aS,"friendsList");return(0,me.jsxs)(me.Fragment,{children:[d&&(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(l_,{show:d,onCancel:p,onConfirm:async()=>{try{if(null!==r&&void 0!==r&&r.userId&&null!==f&&void 0!==f&&f.userId){const e=Ix(g,r.userId),t=await EE(e);if(t.exists()){const n={...t.data()},r=[...n.friends,f.userId];n.friends=r,await _E(e,n),console.log("Friend added successfully!"),a(!0)}}else console.log("No current user or modal friend")}catch(e){console.error("Error adding friend:",e)}p()},friend:f})}),(0,me.jsx)("div",{children:null===n||void 0===n?void 0:n.slice(0,l).map((e=>{const{backgroundColor:t,color:n}=(()=>{const e=[["#196FFA","#D1E2FE"],["#70163C","#FFBDD9"],["#FAB019","#FEEFD1"],["#E03616","#FFCBC2"],["#21D775","#BDFFDB"],["#D77821","#FFE5CE"],["#9F32F4","#EAD0FF"],["#42E3C6","#DDFFF9"],["#E342CA","#FFD0F8"]],t=Math.floor(Math.random()*e.length);return{backgroundColor:e[t][0],color:e[t][1]}})();return(0,me.jsxs)("div",{className:"row",style:{marginBottom:"1rem"},children:[(0,me.jsx)("div",{className:"col-4",onClick:()=>s(e.data),children:e.data.avatar?(0,me.jsx)("img",{src:e.data.avatar,className:"img-fluid",style:{borderRadius:"50%",height:"3rem",width:"3rem",display:"inline-block"}}):(0,me.jsxs)("span",{className:"titleFont",style:{borderRadius:"50%",height:"3rem",width:"3rem",display:"inline-flex",color:n,backgroundColor:t,alignItems:"center",justifyContent:"center"},children:[e.data.name.charAt(0).toUpperCase(),e.data.surname.charAt(0).toUpperCase()]})}),(0,me.jsxs)("div",{className:"col-6 ps-0 pe-0",onClick:()=>s(e.data),children:[(0,me.jsxs)("div",{className:"row",style:{fontSize:"0.8rem",fontWeight:"600"},children:[e.data.name," ",e.data.surname]}),(0,me.jsx)("div",{className:"row billyGreyText",style:{fontSize:"0.8rem",fontWeight:"400"},children:u(e.data.accountCreationDate)})]}),(0,me.jsx)("div",{className:"col-2 ps-0 text-start d-flex",children:(0,me.jsx)(Xr,{icon:sc,style:{height:"1rem",width:"auto",display:"inline-flex",alignItems:"center",justifyContent:"center",color:"#196FFA"},onClick:()=>{m(e.data),h(!0)}})})]},e.id)}))}),l<(null===n||void 0===n?void 0:n.length)&&(0,me.jsx)("div",{className:"row mt-2",style:{cursor:"pointer"},onClick:()=>{c((e=>e+4))},children:(0,me.jsx)("span",{style:{color:"#196FFA",fontWeight:"600",fontSize:"0.8rem"},className:"text-decoration-underline",children:"Show more"})})]})}function C_(e,t){const n=(null===e||void 0===e?void 0:e.length)||0,r=(null===t||void 0===t?void 0:t.length)||0,i=Array.from({length:n+1},(()=>Array(r+1).fill(0)));for(let o=0;o<=n;o++)for(let n=0;n<=r;n++)if(0===o)i[o][n]=n;else if(0===n)i[o][n]=o;else{const r=e[o-1]!==t[n-1]?1:0;i[o][n]=Math.min(i[o-1][n]+1,i[o][n-1]+1,i[o-1][n-1]+r)}return i[n][r]}function __(e){const{searchTerm:n,allUsers:r,updateFriends:i,setUpdateFriends:o,userInfo:a,handleFriendClick:s}=e,l=n.toLowerCase(),c=null===r||void 0===r?void 0:r.filter((e=>{var t,n,r,i;const o=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.name)||void 0===n?void 0:n.toLowerCase(),a=null===e||void 0===e||null===(r=e.data)||void 0===r||null===(i=r.surname)||void 0===i?void 0:i.toLowerCase();return C_(l,o)<=3||C_(l,a)<=3}));console.log(n),console.log(c);const[u,d]=(0,t.useState)(4),h=e=>{const t=new Date(e).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit",year:"numeric"});return"Member since ".concat(t)},[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)(null),v=()=>{m(!1)},y=_x(aS,"friendsList");return(0,me.jsxs)(me.Fragment,{children:[f&&(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(l_,{show:f,onCancel:v,onConfirm:async()=>{try{if(null!==a&&void 0!==a&&a.userId&&null!==p&&void 0!==p&&p.userId){const e=Ix(y,a.userId),t=await EE(e);if(t.exists()){const n={...t.data()},r=[...n.friends,p.userId];n.friends=r,await _E(e,n),console.log("Friend added successfully!"),o(!0)}}else console.log("No current user or modal friend")}catch(e){console.error("Error adding friend:",e)}v()},friend:p})}),(0,me.jsx)("div",{children:null===c||void 0===c?void 0:c.slice(0,u).map((e=>{var t,n,r,i;const{backgroundColor:o,color:a}=(()=>{const e=[["#196FFA","#D1E2FE"],["#70163C","#FFBDD9"],["#FAB019","#FEEFD1"],["#E03616","#FFCBC2"],["#21D775","#BDFFDB"],["#D77821","#FFE5CE"],["#9F32F4","#EAD0FF"],["#42E3C6","#DDFFF9"],["#E342CA","#FFD0F8"]],t=Math.floor(Math.random()*e.length);return{backgroundColor:e[t][0],color:e[t][1]}})();return(0,me.jsxs)("div",{className:"row",style:{marginBottom:"1rem"},children:[(0,me.jsx)("div",{className:"col-4",onClick:()=>s(null===e||void 0===e?void 0:e.data),children:null!==e&&void 0!==e&&e.data.avatar?(0,me.jsx)("img",{src:null===e||void 0===e?void 0:e.data.avatar,className:"img-fluid",style:{borderRadius:"50%",height:"3rem",width:"3rem",display:"inline-block"}}):(0,me.jsxs)("span",{className:"titleFont",style:{borderRadius:"50%",height:"3rem",width:"3rem",display:"inline-flex",color:a,backgroundColor:o,alignItems:"center",justifyContent:"center"},children:[null===e||void 0===e||null===(t=e.data.name)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase(),null===e||void 0===e||null===(r=e.data.surname)||void 0===r||null===(i=r.charAt(0))||void 0===i?void 0:i.toUpperCase()]})}),(0,me.jsxs)("div",{className:"col-6 ps-0 pe-0",onClick:()=>s(null===e||void 0===e?void 0:e.data),children:[(0,me.jsxs)("div",{className:"row",style:{fontSize:"0.8rem",fontWeight:"600"},children:[null===e||void 0===e?void 0:e.data.name," ",null===e||void 0===e?void 0:e.data.surname]}),(0,me.jsx)("div",{className:"row billyGreyText",style:{fontSize:"0.8rem",fontWeight:"400"},children:h(null===e||void 0===e?void 0:e.data.accountCreationDate)})]}),(0,me.jsx)("div",{className:"col-2 ps-0 text-start d-flex",children:(0,me.jsx)(Xr,{icon:sc,style:{height:"1rem",width:"auto",display:"inline-flex",alignItems:"center",justifyContent:"center",color:"#196FFA"},onClick:()=>{g(null===e||void 0===e?void 0:e.data),m(!0)}})})]},null===e||void 0===e?void 0:e.id)}))}),u<(null===c||void 0===c?void 0:c.length)&&(0,me.jsx)("div",{className:"row mt-2",style:{cursor:"pointer"},onClick:()=>{d((e=>e+4))},children:(0,me.jsx)("span",{style:{color:"#196FFA",fontWeight:"600",fontSize:"0.8rem"},className:"text-decoration-underline",children:"Show more"})})]})}function I_(e){const{friends:n,userInfo:r,updateFriends:i,setUpdateFriends:o,handleFriendClick:a}=e;console.log(n);const[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(!0),[f,m]=(0,t.useState)(null),p=_x(aS,"users");(0,t.useEffect)((()=>{(async()=>{try{if(r&&r.country){const e=(await CE(cE(p,dE("country","==",r.country)))).docs.map((e=>({id:e.id,data:e.data()}))),t=e.filter((e=>!n.some((t=>t.id===e.id)))).slice(0,12);m(t)}}catch(e){console.error("Error fetching suggestions data:",e)}})()}),[r,n]);const[g,v]=(0,t.useState)(null);return(0,t.useEffect)((()=>{(async()=>{try{const e=(await CE(p)).docs.map((e=>({id:e.id,data:e.data()}))),t=e.filter((e=>e.id!==r.userId&&!n.some((t=>t.id===e.id))));v(t),o(!1)}catch(e){console.error("Error fetching search results data:",e)}})()}),[i,n]),(0,me.jsxs)(me.Fragment,{children:[(0,me.jsxs)("div",{className:"row",style:{marginBottom:"2rem"},children:[(0,me.jsx)("label",{htmlFor:"search",style:{marginLeft:"1rem",marginBottom:"0.5rem",display:"block",fontSize:"0.9rem",fontWeight:"600"},className:"col-12 text-start",children:"Search"}),(0,me.jsx)("div",{className:"col-9",children:(0,me.jsx)("div",{className:"form-group text-start",children:(0,me.jsx)("input",{type:"text",className:"billyInput rounded d-block w-100",id:"search",placeholder:"Search users to befriend here",style:{marginLeft:"1rem"},onBlur:()=>{setTimeout((()=>{l(!1)}),100)},onFocus:()=>{l(!0),h(!1)},onChange:e=>{u(e.target.value),console.log(c)},value:c})})}),s&&(0,me.jsx)("div",{className:"col-3 ps-0 d-flex align-items-center",children:(0,me.jsx)("div",{className:"w-100",style:{fontSize:"0.9rem",fontWeight:"600",color:"#EA242E"},onClick:()=>{u(""),l(!1),h(!0)},children:"Cancel"})})]}),d?(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("div",{className:"row titleFont",style:{marginLeft:"1rem",marginBottom:"1rem"},children:"Suggestions"}),(0,me.jsx)(S_,{suggestions:f,userInfo:r,friends:n,updateFriends:i,setUpdateFriends:o,handleFriendClick:a})]}):(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("div",{className:"row titleFont",style:{marginLeft:"1rem",marginBottom:"1rem"},children:"Search Results"}),(0,me.jsx)(__,{allUsers:g,searchTerm:c,updateFriends:i,setUpdateFriends:o,userInfo:r,handleFriendClick:a})]})]})}function T_(e){const{userInfo:n,handleFriendClick:r}=e,i=null===n||void 0===n?void 0:n.userId,[o,a]=(0,t.useState)(!1),s=_x(aS,"users"),l=_x(aS,"friendsList"),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(null),[f,m]=(0,t.useState)(!1),p=()=>{a(!o),console.log(o)};return(0,t.useEffect)((()=>{(async()=>{try{if(i){const e=Ix(l,i),t=await EE(e);if(t.exists()){const e=t.data();u(e)}else console.log("Friends document does not exist for user:",i)}else console.error("User ID is null or undefined.");m(!1)}catch(e){console.error("Error fetching friends document:",e)}})()}),[f]),console.log(c),(0,t.useEffect)((()=>{(async()=>{try{if(c&&c.friends&&c.friends.length>0){const e=c.friends.map((async e=>{const t=Ix(s,e),n=await EE(t);return n.exists()?{id:e,data:n.data()}:(console.log("User document does not exist for friend ID:",e),null)})),t=await Promise.all(e);h(t.filter(Boolean))}else console.log("Friends list is empty or undefined.")}catch(e){console.error("Error fetching friends data:",e)}})()}),[c]),(0,me.jsxs)(me.Fragment,{children:[(0,me.jsxs)("div",{className:"col-sm col-12 d-md-none d-flex align-items-center position-fixed",style:{top:"3rem",left:0,right:0,zIndex:900,backgroundColor:"rgba(255, 255, 255, 0.8)",borderBottom:"0.08rem solid #d4d4d4",height:"3rem",padding:"0 1rem",backdropFilter:"blur(5px)"},children:[(0,me.jsx)("div",{className:"col-10",children:o?(0,me.jsx)("div",{className:"row titleFont text-start",style:{marginLeft:"0.05rem",fontSize:"0.8rem"},children:"Add Friends"}):(0,me.jsx)("div",{className:"row titleFont text-start",style:{marginLeft:"0.05rem",fontSize:"0.8rem"},children:"My Friends"})}),(0,me.jsx)("div",{className:"col-2 text-end",children:o?(0,me.jsx)(Xr,{icon:Jl,style:{height:"1.2rem",width:"auto"},onClick:p}):(0,me.jsx)(Xr,{icon:sc,style:{height:"1.2rem",width:"auto"},onClick:p})})]}),(0,me.jsx)("div",{style:{marginTop:"4rem"},children:o?(0,me.jsx)(I_,{friends:d,userInfo:n,updateFriends:f,setUpdateFriends:m,handleFriendClick:r}):(0,me.jsx)(E_,{friends:d,userInfo:n,updateFriends:f,setUpdateFriends:m,handleFriendClick:r})})]})}function N_(e){const{user:n,handleComponentChange:r,showFriendShelves:i,setShowFriendShelves:o}=e,{backgroundColor:a,color:s}=A_(),l=null===n||void 0===n?void 0:n.userId,c=_x(aS,"libraries"),u=_x(aS,"friendsList"),[d,h]=(0,t.useState)(null),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(0),[b,w]=(0,t.useState)(0),k=sS();console.log("user atual",null===k||void 0===k?void 0:k.uid),console.log("amigo atual",l),(0,t.useEffect)((()=>{(async()=>{try{if(l){const e=Ix(c,l),t=await EE(e);if(t.exists()){const e=t.data();h(e);const n=new Set;let r=0;Object.entries(e).forEach((e=>{let[t,i]=e;"id"!==t&&(r++,i.books&&Object.keys(i.books).forEach((e=>{n.add(e)})))})),g(n.size),y(r)}}}catch(e){console.error(e)}})()}),[l]),console.log(d),(0,t.useEffect)((()=>{(async()=>{try{if(l){const e=Ix(u,l),t=await EE(e);if(t.exists()){const e=t.data();m(e),console.log(e.friends.length),w(e.friends.length)}}}catch(e){console.error(e)}})()}),[l]);return(0,me.jsx)(me.Fragment,{children:(0,me.jsxs)("div",{className:"row d-flex align-items-center",style:{marginLeft:"1rem"},children:[(0,me.jsx)("div",{className:"col-3 p-0",children:n.avatar?(0,me.jsx)("img",{src:n.avatar,className:"img-fluid",style:{borderRadius:"50%",height:"5rem",width:"5rem",display:"inline-block"}}):(0,me.jsxs)("span",{className:"titleFont",style:{borderRadius:"50%",height:"5rem",width:"5rem",display:"inline-flex",color:s,backgroundColor:a,alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:[n.name.charAt(0).toUpperCase(),n.surname.charAt(0).toUpperCase()]})}),(0,me.jsx)("div",{className:"col-8 text-center p-3",children:(0,me.jsxs)("div",{className:"row",children:[(0,me.jsxs)("div",{className:"col-4",children:[(0,me.jsx)("div",{className:"row",style:{fontWeight:"600"},onClick:()=>{(null===k||void 0===k?void 0:k.uid)===l?r("MyShelves"):o(!0)},children:(0,me.jsx)("div",{className:"col",children:p})}),(0,me.jsx)("div",{className:"row billyGreyText",style:{fontSize:"0.8rem"},children:(0,me.jsx)("div",{className:"col",children:"Books"})})]}),(0,me.jsxs)("div",{className:"col-4",onClick:()=>{(null===k||void 0===k?void 0:k.uid)===l?r("EditMyShelves"):o(!0)},children:[(0,me.jsx)("div",{className:"row",style:{fontWeight:"600"},children:(0,me.jsx)("div",{className:"col",children:v})}),(0,me.jsx)("div",{className:"row billyGreyText",style:{fontSize:"0.8rem"},children:(0,me.jsx)("div",{className:"col",children:"Shelves"})})]}),(0,me.jsxs)("div",{className:"col-4",onClick:()=>{(null===k||void 0===k?void 0:k.uid)===l&&r("MyFriends")},children:[(0,me.jsx)("div",{className:"row",style:{fontWeight:"600"},children:(0,me.jsx)("div",{className:"col",children:b})}),(0,me.jsx)("div",{className:"row billyGreyText",style:{fontSize:"0.8rem"},children:(0,me.jsx)("div",{className:"col",children:"Friends"})})]})]})})]})})}const A_=()=>{const e=[["#196FFA","#D1E2FE"],["#70163C","#FFBDD9"],["#FAB019","#FEEFD1"],["#E03616","#FFCBC2"],["#21D775","#BDFFDB"],["#D77821","#FFE5CE"],["#9F32F4","#EAD0FF"],["#42E3C6","#DDFFF9"],["#E342CA","#FFD0F8"]],t=Math.floor(Math.random()*e.length);return{backgroundColor:e[t][0],color:e[t][1]}};function D_(e){const{user:n,handleBookClick:r}=e,i=null===n||void 0===n?void 0:n.userId,o=_x(aS,"libraries"),[a,s]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(3),[h,f]=(0,t.useState)(null),[m,p]=(0,t.useState)(3),g=(new Date).getFullYear();return console.log(g),(0,t.useEffect)((()=>{(async()=>{try{if(i){const t=Ix(o,i),n=await EE(t);if(n.exists()){var e;const t=n.data();s(t);const r=(null===t||void 0===t||null===(e=t.CurrentlyReading)||void 0===e?void 0:e.books)||{},i=Object.values(r);c(i);const o=Object.values(t).reduce(((e,t)=>{if(t.books){const n=Object.values(t.books);return e.concat(n)}return e}),[]),a=[],l=new Set;o.forEach((e=>{new Date(e.added).getFullYear()!==g||l.has(e.id)||(l.add(e.id),a.push(e))})),f(a)}}}catch(t){console.error(t)}})()}),[i,g]),console.log(a),console.log(l),console.log(h),console.log(a),console.log(l),(0,me.jsxs)(me.Fragment,{children:[(0,me.jsxs)("div",{className:"row",style:{marginTop:"1.5rem"},children:[(0,me.jsxs)("h1",{className:"titleFont col-12 text-start",style:{fontSize:"1rem",marginBottom:"1rem"},children:[null===n||void 0===n?void 0:n.name," is Currently Reading"]}),l&&l.length>0?l.slice(0,u).map(((e,t)=>(0,me.jsx)("div",{className:"col-4",style:{marginBottom:"1rem"},onClick:()=>r(e),children:(0,me.jsx)("img",{src:e.cover,alt:e.title,className:"img-fluid",style:{border:"0.05rem solid #D4D4D4"}})},e.id))):(0,me.jsx)("div",{className:"col-12 text-center billyGreyText",style:{fontSize:"0.8rem"},children:"No currently reading books"}),l&&l.length>u&&(0,me.jsx)("div",{className:"text-center text-decoration-underline",onClick:()=>d(u+3),style:{fontSize:"0.8rem",color:"#196FFA",cursor:"pointer"},children:"See More"})]}),(0,me.jsxs)("div",{className:"row",style:{marginTop:"1.5rem"},children:[(0,me.jsxs)("h1",{className:"titleFont col-12 text-start",style:{fontSize:"1rem",marginBottom:"1rem"},children:["Books Added in ",g," (",null===h||void 0===h?void 0:h.length,")"]}),h&&h.length>0?h.slice(0,m).map(((e,t)=>(0,me.jsx)("div",{className:"col-4",style:{marginBottom:"1rem"},onClick:()=>r(e),children:(0,me.jsx)("img",{src:e.cover,alt:e.title,className:"img-fluid",style:{border:"0.05rem solid #D4D4D4"}})},e.id))):(0,me.jsxs)("div",{className:"col-12 text-center billyGreyText",style:{fontSize:"0.8rem"},children:["No books added in ",g]}),h&&h.length>m&&(0,me.jsx)("div",{className:"text-center text-decoration-underline",onClick:()=>p(m+3),style:{fontSize:"0.8rem",color:"#196FFA",cursor:"pointer"},children:"See More"})]})]})}function j_(e){const{userInfo:t,previousComponent:n,handleComponentChange:r,handleBookClick:i}=e;console.log(t);return(0,me.jsxs)(me.Fragment,{children:[(0,me.jsxs)("div",{className:"col-sm col-12 d-md-none d-flex align-items-center position-fixed",style:{top:"3rem",left:0,right:0,zIndex:900,backgroundColor:"rgba(255, 255, 255, 0.8)",borderBottom:"0.08rem solid #d4d4d4",height:"3rem",padding:"0 1rem",backdropFilter:"blur(5px)"},children:[(0,me.jsx)("div",{className:"col-1",children:(0,me.jsx)(Xr,{icon:lc,style:{height:"1.2rem",width:"auto"},onClick:()=>r(n)})}),(0,me.jsxs)("div",{className:"col-10",children:[(0,me.jsxs)("div",{className:"row titleFont",style:{marginLeft:"2rem",fontSize:"0.8rem"},children:[t.name," ",t.surname]}),(0,me.jsx)("div",{className:"row",style:{marginLeft:"2rem",fontSize:"0.7rem",color:"#6F6F6F"},children:(e=>{const t=new Date(e).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit",year:"numeric"});return"Member since ".concat(t)})(t.accountCreationDate)})]})]}),(0,me.jsxs)("div",{style:{marginTop:"3rem"},children:[(0,me.jsx)(N_,{user:t,handleComponentChange:r}),(0,me.jsx)("div",{className:"col-10",style:{marginLeft:"1.5rem"},children:(0,me.jsx)(D_,{user:t,handleBookClick:i})})]})]})}function F_(e){const{user:n,friend:r,handleFriendClick:i,previousComponent:o}=e,a=null===n||void 0===n?void 0:n.userId,s=null===r||void 0===r?void 0:r.userId,l=_x(aS,"friendsList"),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(null),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)(null),v=_x(aS,"users"),[y,b]=(0,t.useState)(3);console.log(a),console.log(s),(0,t.useEffect)((()=>{(async()=>{try{if(a){const e=Ix(l,a),t=await EE(e);if(t.exists()){const e=t.data();u(e.friends)}else console.log("Friends document does not exist for user:",a)}else console.error("User ID is null or undefined.");if(s){const e=Ix(l,s),t=await EE(e);if(t.exists()){const e=t.data();h(e.friends)}else console.log("Friends document does not exist for user:",a)}else console.error("User ID is null or undefined.")}catch(e){console.error("Error fetching friends document:",e)}})()}),[s]),(0,t.useEffect)((()=>{if(c&&d){const e=c.filter((e=>d.includes(e)));m(e)}}),[c,d]),(0,t.useEffect)((()=>{(async()=>{try{if(f){const e=f.map((async e=>{const t=Ix(v,e),n=await EE(t);return n.exists()?n.data():(console.log("User document does not exist for user:",e),null)})),t=await Promise.all(e);g(t)}}catch(e){console.error("Error fetching user documents:",e)}})()}),[c,d,f,s]),console.log(c),console.log(d),console.log(f),console.log(p);const{backgroundColor:w,color:k}=R_();return(0,me.jsx)(me.Fragment,{children:(0,me.jsxs)("div",{className:"row",style:{marginTop:"1.5rem"},children:[(0,me.jsx)("h1",{className:"titleFont col-12 text-start",style:{fontSize:"1rem",marginBottom:"1rem"},children:"Friends in Common"}),p&&p.length>0?p.slice(0,y).map(((e,t)=>(0,me.jsx)("div",{className:"col-4",style:{marginBottom:"1rem"},onClick:()=>i(e),children:null!==e&&void 0!==e&&e.avatar?(0,me.jsx)("img",{src:null===e||void 0===e?void 0:e.avatar,alt:null===e||void 0===e?void 0:e.name,className:"img-fluid",style:{border:"0.05rem solid #D4D4D4",borderRadius:"50%"}}):(0,me.jsxs)("span",{className:"titleFont",style:{borderRadius:"50%",height:"4.5rem",width:"4.5rem",display:"inline-flex",color:k,backgroundColor:w,alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:[null===e||void 0===e?void 0:e.name.charAt(0).toUpperCase(),null===e||void 0===e?void 0:e.surname.charAt(0).toUpperCase()]})},null===e||void 0===e?void 0:e.userId))):(0,me.jsx)("div",{className:"col-12 text-center billyGreyText",style:{fontSize:"0.8rem"},children:"No friends in common"}),p&&p.length>y&&(0,me.jsx)("div",{className:"text-center text-decoration-underline",onClick:()=>b(y+3),style:{fontSize:"0.8rem",color:"#196FFA",cursor:"pointer"},children:"See More"})]})})}const R_=()=>{const e=[["#196FFA","#D1E2FE"],["#70163C","#FFBDD9"],["#FAB019","#FEEFD1"],["#E03616","#FFCBC2"],["#21D775","#BDFFDB"],["#D77821","#FFE5CE"],["#9F32F4","#EAD0FF"],["#42E3C6","#DDFFF9"],["#E342CA","#FFD0F8"]],t=Math.floor(Math.random()*e.length);return{backgroundColor:e[t][0],color:e[t][1]}};function O_(e){const{friend:n,handleBookClick:r}=e;console.log(n);const i=null===n||void 0===n?void 0:n.userId,o=_x(aS,"libraries"),[a,s]=(0,t.useState)(null),[l,c]=(0,t.useState)({});return(0,t.useEffect)((()=>{(async()=>{try{if(i){const e=Ix(o,i),t=await EE(e);if(t.exists()){const e=t.data();s(e);const n={};Object.keys(e).forEach((e=>{n[e]=3})),c(n)}}}catch(e){console.error(e)}})()}),[i]),console.log(a),(0,me.jsx)(me.Fragment,{children:(0,me.jsx)("div",{className:"row text-start",style:{paddingLeft:"1rem",paddingRight:"1rem",marginTop:"1rem"},children:a&&Object.entries(a).slice().filter((e=>{let[t]=e;return"id"!==t})).sort(((e,t)=>{let[n,r]=e,[i,o]=t;return"CurrentlyReading"===n?-1:"CurrentlyReading"===i?1:new Date(o.created)-new Date(r.created)})).map((e=>{let[t,n]=e;return(0,me.jsxs)("div",{className:"row text-start",style:{paddingLeft:"1rem",paddingRight:"1rem",marginTop:"1rem"},children:[(0,me.jsx)("h1",{className:"titleFont col-12",style:{fontSize:"1.2rem",marginBottom:"1rem"},children:n.shelfName}),n.books&&Object.values(n.books).slice(0,l[t]).map((e=>(0,me.jsx)("div",{className:"col-4",style:{marginBottom:"1rem"},onClick:()=>r(e),children:(0,me.jsx)("img",{src:e.cover,alt:e.title,className:"img-fluid",style:{border:"0.05rem solid #D4D4D4"}})},e.id))),Object.values(n.books).length>l[t]&&(0,me.jsx)("div",{className:"text-center text-decoration-underline",onClick:()=>c((e=>({...e,[t]:e[t]+3}))),style:{fontSize:"0.8rem",color:"#196FFA",cursor:"pointer"},children:"See More"})]},t)}))})})}function P_(e){const{friend:n,handleComponentChange:r,previousComponent:i,handleBookClick:o,userInfo:a,handleFriendClick:s}=e,[l,c]=(0,t.useState)(!1);console.log(n);return(0,me.jsxs)(me.Fragment,{children:[(0,me.jsxs)("div",{className:"col-sm col-12 d-md-none d-flex align-items-center position-fixed",style:{top:"3rem",left:0,right:0,zIndex:900,backgroundColor:"rgba(255, 255, 255, 0.8)",borderBottom:"0.08rem solid #d4d4d4",height:"3rem",padding:"0 1rem",backdropFilter:"blur(5px)"},children:[(0,me.jsx)("div",{className:"col-1",children:(0,me.jsx)(Xr,{icon:lc,style:{height:"1.2rem",width:"auto"},onClick:()=>{!1===l?r(i):c(!1)}})}),(0,me.jsxs)("div",{className:"col-10",children:[(0,me.jsxs)("div",{className:"row titleFont",style:{marginLeft:"2rem",fontSize:"0.8rem"},children:[n.name," ",n.surname]}),(0,me.jsx)("div",{className:"row",style:{marginLeft:"2rem",fontSize:"0.7rem",color:"#6F6F6F"},children:(e=>{const t=new Date(e).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit",year:"numeric"});return"Member since ".concat(t)})(n.accountCreationDate)})]})]}),l?(0,me.jsx)("div",{style:{marginTop:"3rem"},children:(0,me.jsx)(O_,{friend:n,handleBookClick:o})}):(0,me.jsxs)("div",{style:{marginTop:"3rem"},children:[(0,me.jsx)(N_,{user:n,showFriendShelves:l,setShowFriendShelves:c}),(0,me.jsx)("div",{className:"col-10",style:{marginLeft:"1.5rem"},children:(0,me.jsx)(D_,{user:n,handleBookClick:o})}),(0,me.jsx)("div",{className:"col-10",style:{marginLeft:"1.5rem"},children:(0,me.jsx)(F_,{user:a,friend:n,handleFriendClick:s,previousComponent:i})})]})]})}function L_(e){const{userInfo:n}=e,r=null===n||void 0===n?void 0:n.userId,i=_x(aS,"libraries"),[o,a]=(0,t.useState)([]),[s,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)(""),v=e=>{console.log(e),console.log("antes: ",f),m((t=>(console.log("depois: ",!t),e.isError))),g(e.errorName)};(0,t.useEffect)((()=>{(async()=>{if(r)try{const e=Ix(i,r),t=await EE(e);if(t.exists()){const e=t.data(),n=Object.keys(e).filter((t=>"id"!==t&&e.hasOwnProperty(t))).reduce(((t,n)=>(t[n]=e[n],t)),{}),r=Object.values(n);a(r),console.log("User Library Data:",n)}else console.log("User library document does not exist.")}catch(e){console.error("Error fetching user libraries:",e)}})()}),[r]);const[y,b]=(0,t.useState)(""),[w,k]=(0,t.useState)("");return(0,me.jsxs)(me.Fragment,{children:[c&&(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(i_,{showRemoveModal:c,handleRemoveShelf:async e=>{console.log("Selected Shelf to Remove:",e);const t=e.replace(/[^a-zA-Z0-9 ]/g,"").toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join("");try{if(r){const e=Ix(i,r);console.log("prateleira:",t),console.log("id do user:",r),await IE(e,{[t]:AE()}),u(!1);const n=(await EE(e)).data(),o=Object.values(n);a(o)}else console.log("No current user.")}catch(n){console.error("Error removing shelf:",n)}},cancelRemoveShelf:()=>{u(!1)},selectedShelf:s})}),d&&(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(o_,{showAddModal:d,setShowAddModal:h,newShelfName:y,setNewShelfName:b,setNewShelfDescription:k,newShelfDescription:w,handleAddShelf:async(e,t)=>{if(console.log(e),console.log(e.length),console.log(t),e.length>0){const o=e.replace(/[^a-zA-Z0-9 ]/g,"").toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join("");try{if(r){const n=Ix(i,r),s=await EE(n);if(s.exists()){const r={...s.data()};r[o]={created:(new Date).toISOString(),shelfName:e,description:t,books:{}},await IE(n,r),console.log("User Library Data Updated:",r);const i=(await EE(n)).data(),l=Object.values(i);a(l),b(""),k(""),h(!1)}}}catch(n){console.error("Error adding shelf:",n)}}else h(!1),v({isError:!0,message:"ShelfNeedsName"})},maxLength:250,handleShowAlert:v,cancelAddShelf:()=>{h(!1)}})}),(0,me.jsxs)("div",{className:"row align-items-center",style:{marginTop:"2rem"},children:[(0,me.jsx)("h1",{className:"titleFont col-12 text-start",style:{fontSize:"1.2rem",marginLeft:"1.5rem"},children:"My Shelves"}),(0,me.jsx)("div",{className:"col-10 mx-auto",children:(0,me.jsxs)("div",{style:{marginBottom:"2rem",marginTop:"2rem"},children:[(0,me.jsx)(a_,{shelves:o,openRemoveModal:e=>{l(e),console.log("selected shelf: ",s),u(!0),console.log("mostrar modal? ",c)}}),(0,me.jsx)("button",{className:"rounded-pill w-100 billySecondaryButton",style:{fontSize:"0.8rem",fontWeight:"700",marginBottom:"2rem"},onClick:()=>{h(!0),console.log("mostrar modal? ",d)},children:"Add new shelf"})]})})]})]})}function M_(){const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)(null),o=null===iS||void 0===iS?void 0:iS.currentUser.uid;console.log(o);const a=_x(aS,"users");(0,t.useEffect)((()=>{(async()=>{try{if(o){const e=Ix(a,o),t=await EE(e);if(t.exists()){const e=t.data();n(e)}}}catch(e){console.error(e)}})()}),[]);const[s,l]=(0,t.useState)("MyShelves"),c=e=>{f(s),console.log("Changing component to:",e),l(e)},[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(null),m=e=>{d(e),f(s),console.log("veio de ",h),l("BookDetail")},[p,g]=(0,t.useState)(null),v=e=>{g(e);const t="FriendProfileDetail".concat(e.userId);f(s),l(t)};return console.log("amigo selec",p),(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("div",{className:"d-md-none fixed-sidebar",style:{marginBottom:"4rem"},children:(0,me.jsx)(v_,{userInfo:e,handleComponentChange:c})}),(0,me.jsxs)("div",{className:"d-md-none fixed-sidebar overflow-x-hidden",children:["MyShelves"===s&&(0,me.jsx)(y_,{userInfo:e,handleBookClick:m}),"MyLoans"===s&&(0,me.jsx)(b_,{handleBookClick:m}),"Explore"===s&&(0,me.jsx)(w_,{handleBookClick:m}),"BookDetail"===s&&(0,me.jsx)(k_,{selectedBook:u,setSelectedBook:d,handleComponentChange:c,previousComponent:h}),"MyFriends"===s&&(0,me.jsx)(T_,{userInfo:e,handleFriendClick:v}),"MyProfile"===s&&(0,me.jsx)(j_,{userInfo:e,handleComponentChange:c,previousComponent:h,handleBookClick:m}),s.startsWith("FriendProfileDetail")&&(0,me.jsx)(P_,{userInfo:e,friend:p,handleComponentChange:c,previousComponent:h,handleBookClick:m,handleFriendClick:v}),"EditMyShelves"===s&&(0,me.jsx)(L_,{userInfo:e})]})]})}const U_=function(){return(0,me.jsx)("div",{className:"App",style:{fontFamily:"Open Sans"},children:(0,me.jsx)(be,{basename:"/billybooks",children:(0,me.jsxs)(he,{children:[(0,me.jsx)(ue,{path:"/",element:(0,me.jsx)(pe,{})}),(0,me.jsx)(ue,{path:"/auth",element:(0,me.jsx)(cS,{})}),(0,me.jsx)(ue,{path:"/create-profile",element:(0,me.jsx)(g_,{})}),(0,me.jsx)(ue,{path:"/main",element:(0,me.jsx)(M_,{})})]})})})},z_=e=>{e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)}))};i.createRoot(document.getElementById("root")).render((0,me.jsx)(t.StrictMode,{children:(0,me.jsx)(U_,{})})),z_()})()})();
//# sourceMappingURL=main.8d7ddab4.js.map